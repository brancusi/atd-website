var shadow$provide = {};
(function(){
shadow$provide[0]=function(pc,Ic,Mc,La){function ja(A){if(null===A||"object"!==typeof A)return null;A=h&&A[h]||A["@@iterator"];return"function"===typeof A?A:null}function Ta(A,H,J){this.props=A;this.context=H;this.refs=r;this.updater=J||k}function sb(){}function eb(A,H,J){this.props=A;this.context=H;this.refs=r;this.updater=J||k}function oa(A,H,J){var N,ea={},ia=null,la=null;if(null!=H)for(N in void 0!==H.ref&&(la=H.ref),void 0!==H.key&&(ia=""+H.key),H)f.call(H,N)&&!e.hasOwnProperty(N)&&(ea[N]=H[N]);
var S=arguments.length-2;if(1===S)ea.children=J;else if(1<S){for(var aa=Array(S),da=0;da<S;da++)aa[da]=arguments[da+2];ea.children=aa}if(A&&A.defaultProps)for(N in S=A.defaultProps,S)void 0===ea[N]&&(ea[N]=S[N]);return{$$typeof:z,type:A,key:ia,ref:la,props:ea,_owner:c.current}}function Y(A,H){return{$$typeof:z,type:A.type,key:H,ref:A.ref,props:A.props,_owner:A._owner}}function G(A){return"object"===typeof A&&null!==A&&A.$$typeof===z}function X(A){var H={"\x3d":"\x3d0",":":"\x3d2"};return"$"+A.replace(/[=:]/g,
function(J){return H[J]})}function T(A,H){return"object"===typeof A&&null!==A&&null!=A.key?X(""+A.key):H.toString(36)}function F(A,H,J,N,ea){var ia=typeof A;if("undefined"===ia||"boolean"===ia)A=null;var la=!1;if(null===A)la=!0;else switch(ia){case "string":case "number":la=!0;break;case "object":switch(A.$$typeof){case z:case C:la=!0}}if(la)return la=A,ea=ea(la),A=""===N?"."+T(la,0):N,m(ea)?(J="",null!=A&&(J=A.replace(t,"$\x26/")+"/"),F(ea,H,J,"",function(da){return da})):null!=ea&&(G(ea)&&(ea=Y(ea,
J+(!ea.key||la&&la.key===ea.key?"":(""+ea.key).replace(t,"$\x26/")+"/")+A)),H.push(ea)),1;la=0;N=""===N?".":N+":";if(m(A))for(var S=0;S<A.length;S++){ia=A[S];var aa=N+T(ia,S);la+=F(ia,H,J,aa,ea)}else if(aa=ja(A),"function"===typeof aa)for(A=aa.call(A),S=0;!(ia=A.next()).done;)ia=ia.value,aa=N+T(ia,S++),la+=F(ia,H,J,aa,ea);else if("object"===ia)throw H=String(A),Error("Objects are not valid as a React child (found: "+("[object Object]"===H?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");
return la}function K(A,H,J){if(null==A)return A;var N=[],ea=0;F(A,N,"","",function(ia){return H.call(J,ia,ea++)});return N}function E(A){if(-1===A._status){var H=A._result;H=H();H.then(function(J){if(0===A._status||-1===A._status)A._status=1,A._result=J},function(J){if(0===A._status||-1===A._status)A._status=2,A._result=J});-1===A._status&&(A._status=0,A._result=H)}if(1===A._status)return A._result.default;throw A._result;}var z=Symbol.for("react.element"),C=Symbol.for("react.portal");pc=Symbol.for("react.fragment");
Ic=Symbol.for("react.strict_mode");Mc=Symbol.for("react.profiler");var w=Symbol.for("react.provider"),q=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),h=Symbol.iterator,k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,r={};Ta.prototype.isReactComponent={};Ta.prototype.setState=function(A,H){if("object"!==
typeof A&&"function"!==typeof A&&null!=A)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")};Ta.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};sb.prototype=Ta.prototype;var u=eb.prototype=new sb;u.constructor=eb;p(u,Ta.prototype);u.isPureReactComponent=!0;var m=Array.isArray,f=Object.prototype.hasOwnProperty,c={current:null},
e={key:!0,ref:!0,__self:!0,__source:!0},t=/\/+/g,B={current:null},y={transition:null};u={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:y,ReactCurrentOwner:c};La.Children={map:K,forEach:function(A,H,J){K(A,function(){H.apply(this,arguments)},J)},count:function(A){var H=0;K(A,function(){H++});return H},toArray:function(A){return K(A,function(H){return H})||[]},only:function(A){if(!G(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};La.Component=Ta;
La.Fragment=pc;La.Profiler=Mc;La.PureComponent=eb;La.StrictMode=Ic;La.Suspense=v;La.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u;La.cloneElement=function(A,H,J){if(null===A||void 0===A)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var N=p({},A.props),ea=A.key,ia=A.ref,la=A._owner;if(null!=H){void 0!==H.ref&&(ia=H.ref,la=c.current);void 0!==H.key&&(ea=""+H.key);if(A.type&&A.type.defaultProps)var S=A.type.defaultProps;for(aa in H)f.call(H,
aa)&&!e.hasOwnProperty(aa)&&(N[aa]=void 0===H[aa]&&void 0!==S?S[aa]:H[aa])}var aa=arguments.length-2;if(1===aa)N.children=J;else if(1<aa){S=Array(aa);for(var da=0;da<aa;da++)S[da]=arguments[da+2];N.children=S}return{$$typeof:z,type:A.type,key:ea,ref:ia,props:N,_owner:la}};La.createContext=function(A){A={$$typeof:q,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};A.Provider={$$typeof:w,_context:A};return A.Consumer=A};La.createElement=
oa;La.createFactory=function(A){var H=oa.bind(null,A);H.type=A;return H};La.createRef=function(){return{current:null}};La.forwardRef=function(A){return{$$typeof:x,render:A}};La.isValidElement=G;La.lazy=function(A){return{$$typeof:l,_payload:{_status:-1,_result:A},_init:E}};La.memo=function(A,H){return{$$typeof:g,type:A,compare:void 0===H?null:H}};La.startTransition=function(A){var H=y.transition;y.transition={};try{A()}finally{y.transition=H}};La.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};La.useCallback=function(A,H){return B.current.useCallback(A,H)};La.useContext=function(A){return B.current.useContext(A)};La.useDebugValue=function(){};La.useDeferredValue=function(A){return B.current.useDeferredValue(A)};La.useEffect=function(A,H){return B.current.useEffect(A,H)};La.useId=function(){return B.current.useId()};La.useImperativeHandle=function(A,H,J){return B.current.useImperativeHandle(A,H,J)};La.useInsertionEffect=function(A,H){return B.current.useInsertionEffect(A,H)};La.useLayoutEffect=
function(A,H){return B.current.useLayoutEffect(A,H)};La.useMemo=function(A,H){return B.current.useMemo(A,H)};La.useReducer=function(A,H,J){return B.current.useReducer(A,H,J)};La.useRef=function(A){return B.current.useRef(A)};La.useState=function(A){return B.current.useState(A)};La.useSyncExternalStore=function(A,H,J){return B.current.useSyncExternalStore(A,H,J)};La.useTransition=function(){return B.current.useTransition()};La.version="18.2.0"};
shadow$provide[2]=function(pc,Ic,Mc,La){Mc.exports=Ic(0)};
shadow$provide[3]=function(pc,Ic,Mc,La){"undefined"!==typeof window&&function(ja,Ta){"object"===typeof La&&"object"===typeof Mc?Mc.exports=Ta():"function"===typeof define&&define.amd?define([],Ta):"object"===typeof La?La.Hls=Ta():ja.Hls=Ta()}(this,()=>(()=>{function ja(oa){var Y=sb[oa];if(void 0!==Y)return Y.exports;Y=sb[oa]={exports:{}};Ta[oa].call(Y.exports,Y,Y.exports,ja);return Y.exports}var Ta={"./src/config.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(c){for(var e=
1;e<arguments.length;e++){var t=arguments[e],B;for(B in t)Object.prototype.hasOwnProperty.call(t,B)&&(c[B]=t[B])}return c};return X.apply(this,arguments)}function T(c,e){var t=Object.keys(c);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(c);e&&(B=B.filter(function(y){return Object.getOwnPropertyDescriptor(c,y).enumerable}));t.push.apply(t,B)}return t}function F(c){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?T(Object(t),!0).forEach(function(B){var y=
t[B];a:if("object"===typeof B&&null!==B){var A=B[Symbol.toPrimitive];if(void 0!==A){B=A.call(B,"string");if("object"!==typeof B)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}B=String(B)}B="symbol"===typeof B?B:String(B);B in c?Object.defineProperty(c,B,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[B]=y}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach(function(B){Object.defineProperty(c,B,
Object.getOwnPropertyDescriptor(t,B))})}return c}function K(c,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');
if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return X({},c,e)}function E(c){var e=c.loader;e!==p["default"]&&e!==k["default"]?(m.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),c.progressive=!1):(0,p.fetchSupported)()&&(c.loader=p["default"],c.progressive=!0,c.enableSoftwareAES=!0,m.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}
G.r(Y);G.d(Y,{enableStreamingMode:()=>E,hlsDefaultConfig:()=>f,mergeConfig:()=>K});oa=G("./src/controller/abr-controller.ts");Y=G("./src/controller/audio-stream-controller.ts");var z=G("./src/controller/audio-track-controller.ts"),C=G("./src/controller/subtitle-stream-controller.ts"),w=G("./src/controller/subtitle-track-controller.ts"),q=G("./src/controller/buffer-controller.ts"),x=G("./src/controller/timeline-controller.ts"),v=G("./src/controller/cap-level-controller.ts"),g=G("./src/controller/fps-controller.ts"),
l=G("./src/controller/eme-controller.ts"),h=G("./src/controller/cmcd-controller.ts"),k=G("./src/utils/xhr-loader.ts"),p=G("./src/utils/fetch-loader.ts"),r=G("./src/utils/cues.ts"),u=G("./src/utils/mediakeys-helper.ts"),m=G("./src/utils/logger.ts"),f=F(F({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:Infinity,maxBufferSize:6E7,maxBufferHole:.1,highBufferWatchdogPeriod:2,
nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:Infinity,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1E4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1E3,manifestLoadingMaxRetryTimeout:64E3,startLevel:void 0,levelLoadingTimeOut:1E4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1E3,
levelLoadingMaxRetryTimeout:64E3,fragLoadingTimeOut:2E4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1E3,fragLoadingMaxRetryTimeout:64E3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5E3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:k["default"],fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:oa["default"],bufferController:q["default"],capLevelController:v["default"],fpsController:g["default"],stretchShortVideoTrack:!1,
maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5E5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:u.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,
enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:r["default"],enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:C.SubtitleStreamController,subtitleTrackController:w["default"],
timelineController:x.TimelineController,audioStreamController:Y["default"],audioTrackController:z["default"],emeController:l["default"],cmcdController:h["default"]})},"./src/controller/abr-controller.ts":(oa,Y,G)=>{function X(x,v){for(var g=0;g<v.length;g++){var l=v[g];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);var h=Object,k=h.defineProperty;a:{var p=l.key;if("object"===typeof p&&null!==p){var r=p[Symbol.toPrimitive];if(void 0!==r){p=r.call(p,"string");if("object"!==
typeof p)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}p=String(p)}}k.call(h,x,"symbol"===typeof p?p:String(p),l)}}function T(x,v,g){v&&X(x.prototype,v);g&&X(x,g);Object.defineProperty(x,"prototype",{writable:!1});return x}G.r(Y);G.d(Y,{"default":()=>q});var F=G("./src/polyfills/number.ts"),K=G("./src/utils/ewma-bandwidth-estimator.ts"),E=G("./src/events.ts"),z=G("./src/errors.ts"),C=G("./src/types/loader.ts"),w=G("./src/utils/logger.ts");const q=function(){function x(g){this.hls=
void 0;this.lastLoadedFragLevel=0;this._nextAutoLevel=-1;this.timer=void 0;this.onCheck=this._abandonRulesCheck.bind(this);this.partCurrent=this.fragCurrent=null;this.bitrateTestDelay=0;this.bwEstimator=void 0;this.hls=g;g=g.config;this.bwEstimator=new K["default"](g.abrEwmaSlowVoD,g.abrEwmaFastVoD,g.abrEwmaDefaultEstimate);this.registerListeners()}var v=x.prototype;v.registerListeners=function(){var g=this.hls;g.on(E.Events.FRAG_LOADING,this.onFragLoading,this);g.on(E.Events.FRAG_LOADED,this.onFragLoaded,
this);g.on(E.Events.FRAG_BUFFERED,this.onFragBuffered,this);g.on(E.Events.LEVEL_LOADED,this.onLevelLoaded,this);g.on(E.Events.ERROR,this.onError,this)};v.unregisterListeners=function(){var g=this.hls;g.off(E.Events.FRAG_LOADING,this.onFragLoading,this);g.off(E.Events.FRAG_LOADED,this.onFragLoaded,this);g.off(E.Events.FRAG_BUFFERED,this.onFragBuffered,this);g.off(E.Events.LEVEL_LOADED,this.onLevelLoaded,this);g.off(E.Events.ERROR,this.onError,this)};v.destroy=function(){this.unregisterListeners();
this.clearTimer();this.fragCurrent=this.partCurrent=this.hls=this.onCheck=null};v.onFragLoading=function(g,l){g=l.frag;if(g.type===C.PlaylistLevelType.MAIN&&!this.timer){var h;this.fragCurrent=g;this.partCurrent=null!=(h=l.part)?h:null;this.timer=self.setInterval(this.onCheck,100)}};v.onLevelLoaded=function(g,l){g=this.hls.config;l.details.live?this.bwEstimator.update(g.abrEwmaSlowLive,g.abrEwmaFastLive):this.bwEstimator.update(g.abrEwmaSlowVoD,g.abrEwmaFastVoD)};v._abandonRulesCheck=function(){var g=
this.fragCurrent,l=this.partCurrent,h=this.hls,k=h.autoLevelEnabled,p=h.media;if(g&&p){var r=l?l.stats:g.stats,u=l?l.duration:g.duration;if(r.aborted||r.loaded&&r.loaded===r.total||0===g.level)this.clearTimer(),this._nextAutoLevel=-1;else if(k&&!p.paused&&p.playbackRate&&p.readyState){var m=h.mainForwardBufferInfo;if(null!==m){k=performance.now()-r.loading.start;var f=Math.abs(p.playbackRate);if(!(k<=500*u/f)){p=r.loaded&&r.loading.first;var c=this.bwEstimator.getEstimate(),e=h.levels,t=h.minAutoLevel,
B=e[g.level],y=r.total||Math.max(r.loaded,Math.round(u*B.maxBitrate/8));y=(B=p?1E3*r.loaded/k:0)?(y-r.loaded)/B:8*y/c;m=m.len/f;if(!(y<=m)){var A=Number.POSITIVE_INFINITY;for(f=g.level-1;f>t&&!(A=e[f].maxBitrate,A=B?u*A/(6.4*B):u*A/c,A<m);f--);if(!(A>=y)){w.logger.warn("Fragment "+g.sn+(l?" part "+l.index:"")+" of level "+g.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+f+"\n      Current BW estimate: "+((0,F.isFiniteNumber)(c)?(c/1024).toFixed(3):"Unknown")+
" Kb/s\n      Estimated load time for current fragment: "+y.toFixed(3)+" s\n      Estimated load time for the next fragment: "+A.toFixed(3)+" s\n      Time to underbuffer: "+m.toFixed(3)+" s");h.nextLoadLevel=f;p&&this.bwEstimator.sample(k,r.loaded);this.clearTimer();if(g.loader||g.keyLoader)this.fragCurrent=this.partCurrent=null,g.abortRequests();h.trigger(E.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:g,part:l,stats:r})}}}}}}};v.onFragLoaded=function(g,l){g=l.frag;l=l.part;if(g.type===C.PlaylistLevelType.MAIN&&
(0,F.isFiniteNumber)(g.sn)){var h=l?l.stats:g.stats,k=l?l.duration:g.duration;this.clearTimer();this.lastLoadedFragLevel=g.level;this._nextAutoLevel=-1;if(this.hls.config.abrMaxWithRealBitrate){var p=this.hls.levels[g.level],r=(p.loaded?p.loaded.bytes:0)+h.loaded;k=(p.loaded?p.loaded.duration:0)+k;p.loaded={bytes:r,duration:k};p.realBitrate=Math.round(8*r/k)}if(g.bitrateTest)this.onFragBuffered(E.Events.FRAG_BUFFERED,{stats:h,frag:g,part:l,id:g.type})}};v.onFragBuffered=function(g,l){g=l.frag;l=(l=
l.part)?l.stats:g.stats;if(!l.aborted&&g.type===C.PlaylistLevelType.MAIN&&"initSegment"!==g.sn){var h=l.parsing.end-l.loading.start;this.bwEstimator.sample(h,l.loaded);l.bwEstimate=this.bwEstimator.getEstimate();this.bitrateTestDelay=g.bitrateTest?h/1E3:0}};v.onError=function(g,l){var h;if((null===(h=l.frag)||void 0===h?void 0:h.type)===C.PlaylistLevelType.MAIN)if(l.type===z.ErrorTypes.KEY_SYSTEM_ERROR)this.clearTimer();else switch(l.details){case z.ErrorDetails.FRAG_LOAD_ERROR:case z.ErrorDetails.FRAG_LOAD_TIMEOUT:case z.ErrorDetails.KEY_LOAD_ERROR:case z.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer()}};
v.clearTimer=function(){self.clearInterval(this.timer);this.timer=void 0};v.getNextABRAutoLevel=function(){var g=this.fragCurrent,l=this.partCurrent,h=this.hls,k=h.maxAutoLevel,p=h.config,r=h.minAutoLevel,u=h.media;g=l?l.duration:g?g.duration:0;l=u&&0!==u.playbackRate?Math.abs(u.playbackRate):1;u=this.bwEstimator?this.bwEstimator.getEstimate():p.abrEwmaDefaultEstimate;h=h.mainForwardBufferInfo;h=(h?h.len:0)/l;l=this.findBestLevel(u,r,k,h,p.abrBandWidthFactor,p.abrBandWidthUpFactor);if(0<=l)return l;
w.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");l=g?Math.min(g,p.maxStarvationDelay):p.maxStarvationDelay;var m=p.abrBandWidthFactor,f=p.abrBandWidthUpFactor;if(!h){var c=this.bitrateTestDelay;c&&(l=(g?Math.min(g,p.maxLoadingDelay):p.maxLoadingDelay)-c,w.logger.trace("bitrate test took "+Math.round(1E3*c)+"ms, set first fragment max fetchDuration to "+Math.round(1E3*l)+" ms"),m=f=1)}l=this.findBestLevel(u,r,k,h+l,m,f);return Math.max(l,0)};v.findBestLevel=
function(g,l,h,k,p,r){var u,m=this.fragCurrent,f=this.partCurrent,c=this.lastLoadedFragLevel,e=this.hls.levels,t=e[c],B=!(null===t||void 0===t||null===(u=t.details)||void 0===u||!u.live);u=null===t||void 0===t?void 0:t.codecSet;for(m=f?f.duration:m?m.duration:0;h>=l;h--)if((t=e[h])&&(!u||t.codecSet===u)){t=t.details;t=(f?null===t||void 0===t?void 0:t.partTarget:null===t||void 0===t?void 0:t.averagetargetduration)||m;var y=h<=c?p*g:r*g;var A=e[h].maxBitrate,H=A*t/y;w.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+
h+"/"+Math.round(y)+"/"+A+"/"+t+"/"+k+"/"+H);if(y>A&&(0===H||!(0,F.isFiniteNumber)(H)||B&&!this.bitrateTestDelay||H<k))return h}return-1};T(x,[{key:"nextAutoLevel",get:function(){var g=this._nextAutoLevel,l=this.bwEstimator;if(-1!==g&&!l.canEstimate())return g;l=this.getNextABRAutoLevel();if(-1!==g&&this.hls.levels[l].loadError)return g;-1!==g&&(l=Math.min(g,l));return l},set:function(g){this._nextAutoLevel=g}}]);return x}()},"./src/controller/audio-stream-controller.ts":(oa,Y,G)=>{function X(){X=
Object.assign?Object.assign.bind():function(m){for(var f=1;f<arguments.length;f++){var c=arguments[f],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(m[e]=c[e])}return m};return X.apply(this,arguments)}function T(m,f){m.prototype=Object.create(f.prototype);m.prototype.constructor=m;F(m,f)}function F(m,f){F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,e){c.__proto__=e;return c};return F(m,f)}G.r(Y);G.d(Y,{"default":()=>u});var K=G("./src/polyfills/number.ts"),E=G("./src/controller/base-stream-controller.ts"),
z=G("./src/events.ts"),C=G("./src/utils/buffer-helper.ts"),w=G("./src/controller/fragment-tracker.ts"),q=G("./src/types/level.ts"),x=G("./src/types/loader.ts"),v=G("./src/loader/fragment.ts"),g=G("./src/demux/chunk-cache.ts"),l=G("./src/demux/transmuxer-interface.ts"),h=G("./src/types/transmuxer.ts"),k=G("./src/controller/fragment-finders.ts"),p=G("./src/utils/discontinuities.ts"),r=G("./src/errors.ts");const u=function(m){function f(e,t,B){e=m.call(this,e,t,B,"[audio-stream-controller]")||this;e.videoBuffer=
null;e.videoTrackCC=-1;e.waitingVideoCC=-1;e.audioSwitch=!1;e.trackId=-1;e.waitingData=null;e.mainDetails=null;e.bufferFlushed=!1;e.cachedTrackLoadedData=null;e._registerListeners();return e}T(f,m);var c=f.prototype;c.onHandlerDestroying=function(){this._unregisterListeners();this.mainDetails=null};c._registerListeners=function(){var e=this.hls;e.on(z.Events.MEDIA_ATTACHED,this.onMediaAttached,this);e.on(z.Events.MEDIA_DETACHING,this.onMediaDetaching,this);e.on(z.Events.MANIFEST_LOADING,this.onManifestLoading,
this);e.on(z.Events.LEVEL_LOADED,this.onLevelLoaded,this);e.on(z.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this);e.on(z.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);e.on(z.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);e.on(z.Events.ERROR,this.onError,this);e.on(z.Events.BUFFER_RESET,this.onBufferReset,this);e.on(z.Events.BUFFER_CREATED,this.onBufferCreated,this);e.on(z.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);e.on(z.Events.INIT_PTS_FOUND,this.onInitPtsFound,
this);e.on(z.Events.FRAG_BUFFERED,this.onFragBuffered,this)};c._unregisterListeners=function(){var e=this.hls;e.off(z.Events.MEDIA_ATTACHED,this.onMediaAttached,this);e.off(z.Events.MEDIA_DETACHING,this.onMediaDetaching,this);e.off(z.Events.MANIFEST_LOADING,this.onManifestLoading,this);e.off(z.Events.LEVEL_LOADED,this.onLevelLoaded,this);e.off(z.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this);e.off(z.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);e.off(z.Events.AUDIO_TRACK_LOADED,
this.onAudioTrackLoaded,this);e.off(z.Events.ERROR,this.onError,this);e.off(z.Events.BUFFER_RESET,this.onBufferReset,this);e.off(z.Events.BUFFER_CREATED,this.onBufferCreated,this);e.off(z.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);e.off(z.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);e.off(z.Events.FRAG_BUFFERED,this.onFragBuffered,this)};c.onInitPtsFound=function(e,t){e=t.frag;var B=t.initPTS;"main"===t.id&&(t=e.cc,this.initPTS[e.cc]=B,this.log("InitPTS for cc: "+t+" found from main: "+B),
this.videoTrackCC=t,this.state===E.State.WAITING_INIT_PTS&&this.tick())};c.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime;this.stopLoad();this.setInterval(100);this.fragLoadError=0;0<t&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t,this.state=E.State.IDLE):(this.loadedmetadata=!1,this.state=E.State.WAITING_TRACK);this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e;this.tick()}else this.startPosition=e,this.state=E.State.STOPPED};c.doTick=
function(){switch(this.state){case E.State.IDLE:this.doTickIdle();break;case E.State.WAITING_TRACK:var e,t=this.levels,B=this.trackId;(t=null===t||void 0===t?void 0:null===(e=t[B])||void 0===e?void 0:e.details)&&!this.waitForCdnTuneIn(t)&&(this.state=E.State.WAITING_INIT_PTS);break;case E.State.FRAG_LOADING_WAITING_RETRY:e=performance.now();B=this.retryDate;if(!B||e>=B||null!==(t=this.media)&&void 0!==t&&t.seeking)this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),
this.state=E.State.IDLE;break;case E.State.WAITING_INIT_PTS:if(B=this.waitingData){e=B.frag;t=B.part;var y=B.cache;B=B.complete;void 0!==this.initPTS[e.cc]?(this.waitingData=null,this.waitingVideoCC=-1,this.state=E.State.FRAG_LOADING,y=y.flush(),e={frag:e,part:t,payload:y,networkDetails:null},this._handleFragmentLoadProgress(e),B&&m.prototype._handleFragmentLoadComplete.call(this,e)):this.videoTrackCC!==this.waitingVideoCC?(this.log("Waiting fragment cc ("+e.cc+") cancelled because video is at cc "+
this.videoTrackCC),this.clearWaitingFragment()):(t=this.getLoadPosition(),t=C.BufferHelper.bufferInfo(this.mediaBuffer,t,this.config.maxBufferHole),0>(0,k.fragmentWithinToleranceTest)(t.end,this.config.maxFragLookUpTolerance,e)&&(this.log("Waiting fragment cc ("+e.cc+") @ "+e.start+" cancelled because another fragment at "+t.end+" is needed"),this.clearWaitingFragment()))}else this.state=E.State.IDLE}this.onTickEnd()};c.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),
this.waitingData=null,this.waitingVideoCC=-1,this.state=E.State.IDLE)};c.resetLoadingState=function(){this.clearWaitingFragment();m.prototype.resetLoadingState.call(this)};c.onTickEnd=function(){var e=this.media;e&&e.readyState&&(this.lastCurrentTime=e.currentTime)};c.doTickIdle=function(){var e=this.hls,t=this.levels,B=this.media,y=this.trackId,A=e.config;if(t&&t[y]&&(B||!this.startFragRequested&&A.startFragPrefetch))if(t=t[y].details,!t||t.live&&this.levelLastLoaded!==y||this.waitForCdnTuneIn(t))this.state=
E.State.WAITING_TRACK;else if(y=this.mediaBuffer?this.mediaBuffer:this.media,this.bufferFlushed&&y&&(this.bufferFlushed=!1,this.afterBufferFlushed(y,v.ElementaryStreamTypes.AUDIO,x.PlaylistLevelType.AUDIO)),y=this.getFwdBufferInfo(y,x.PlaylistLevelType.AUDIO),null!==y)if(A=this.audioSwitch,!A&&this._streamEnded(y,t))e.trigger(z.Events.BUFFER_EOS,{type:"audio"}),this.state=E.State.ENDED;else{e=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,x.PlaylistLevelType.MAIN);var H=y.len,
J=this.getMaxBufferLength(null===e||void 0===e?void 0:e.len);H>=J&&!A||(J=t.fragments[0].start,H=y.end,A&&B&&(H=A=this.getLoadPosition(),t.PTSKnown&&A<J&&(y.end>J||y.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),B.currentTime=J+.05)),e&&H>e.end+t.targetduration||!(e&&e.len||!y.len)||((B=this.getNextFragment(H,t))?this.loadFragment(B,t,H):this.bufferFlushed=!0))}};c.getMaxBufferLength=function(e){var t=m.prototype.getMaxBufferLength.call(this);return e?
Math.max(t,e):t};c.onMediaDetaching=function(){this.videoBuffer=null;m.prototype.onMediaDetaching.call(this)};c.onAudioTracksUpdated=function(e,t){e=t.audioTracks;this.resetTransmuxer();this.levels=e.map(function(B){return new q.Level(B)})};c.onAudioTrackSwitching=function(e,t){e=!!t.url;this.trackId=t.id;(t=this.fragCurrent)&&t.abortRequests();this.fragCurrent=null;this.clearWaitingFragment();e?this.setInterval(100):this.resetTransmuxer();e?(this.audioSwitch=!0,this.state=E.State.IDLE):this.state=
E.State.STOPPED;this.tick()};c.onManifestLoading=function(){this.mainDetails=null;this.fragmentTracker.removeAllFragments();this.startPosition=this.lastCurrentTime=0;this.bufferFlushed=!1};c.onLevelLoaded=function(e,t){this.mainDetails=t.details;null!==this.cachedTrackLoadedData&&(this.hls.trigger(z.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)};c.onAudioTrackLoaded=function(e,t){var B;if(null==this.mainDetails)this.cachedTrackLoadedData=t;else{var y=this.levels;
e=t.details;t=t.id;if(y){this.log("Track "+t+" loaded ["+e.startSN+","+e.endSN+"],duration:"+e.totalduration);y=y[t];var A=0;if(e.live||null!==(B=y.details)&&void 0!==B&&B.live){B=this.mainDetails;e.fragments[0]||(e.deltaUpdateFailed=!0);if(e.deltaUpdateFailed||!B)return;!y.details&&e.hasProgramDateTime&&B.hasProgramDateTime?((0,p.alignMediaPlaylistByPDT)(e,B),A=e.fragments[0].start):A=this.alignPlaylists(e,y.details)}y.details=e;this.levelLastLoaded=t;this.startFragRequested||!this.mainDetails&&
e.live||this.setStartPosition(y.details,A);this.state!==E.State.WAITING_TRACK||this.waitForCdnTuneIn(e)||(this.state=E.State.IDLE);this.tick()}else this.warn("Audio tracks were reset while loading level "+t)}};c._handleFragmentLoadProgress=function(e){var t,B=e.frag,y=e.part;e=e.payload;var A=this.config,H=this.trackId,J=this.levels;if(J){var N=J[H];console.assert(N,"Audio track is defined on fragment load progress");J=N.details;console.assert(J,"Audio track details are defined on fragment load progress");
A=A.defaultAudioCodec||N.audioCodec||"mp4a.40.2";N=this.transmuxer;N||(N=this.transmuxer=new l["default"](this.hls,x.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var ea=this.initPTS[B.cc],ia=null===(t=B.initSegment)||void 0===t?void 0:t.data;void 0!==ea?(t=y?y.index:-1,t=new h.ChunkMetadata(B.level,B.sn,B.stats.chunkCount,e.byteLength,t,-1!==t),N.push(e,ia,A,"",B,y,J.totalduration,!1,t,ea)):(this.log("Unknown video PTS for cc "+B.cc+", waiting for video PTS before demuxing audio frag "+
B.sn+" of ["+J.startSN+" ,"+J.endSN+"],track "+H),(this.waitingData=this.waitingData||{frag:B,part:y,cache:new g["default"],complete:!1}).cache.push(new Uint8Array(e)),this.waitingVideoCC=this.videoTrackCC,this.state=E.State.WAITING_INIT_PTS)}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+B.sn+" of level "+B.level+" will not be buffered")};c._handleFragmentLoadComplete=function(e){this.waitingData?this.waitingData.complete=!0:m.prototype._handleFragmentLoadComplete.call(this,
e)};c.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null;this.loadedmetadata=!1};c.onBufferCreated=function(e,t){if(e=t.tracks.audio)this.mediaBuffer=e.buffer||null;t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)};c.onFragBuffered=function(e,t){e=t.frag;t=t.part;if(e.type!==x.PlaylistLevelType.AUDIO){if(!this.loadedmetadata&&e.type===x.PlaylistLevelType.MAIN){var B;null!==(B=this.videoBuffer||this.media)&&void 0!==B&&B.buffered.length&&(this.loadedmetadata=!0)}}else this.fragContextChanged(e)?
this.warn("Fragment "+e.sn+(t?" p: "+t.index:"")+" of level "+e.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==e.sn&&(this.fragPrevious=e,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(z.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(e,t))};c.onError=function(e,t){if(t.type===r.ErrorTypes.KEY_SYSTEM_ERROR)this.onFragmentOrKeyLoadError(x.PlaylistLevelType.AUDIO,t);else switch(t.details){case r.ErrorDetails.FRAG_LOAD_ERROR:case r.ErrorDetails.FRAG_LOAD_TIMEOUT:case r.ErrorDetails.FRAG_PARSING_ERROR:case r.ErrorDetails.KEY_LOAD_ERROR:case r.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(x.PlaylistLevelType.AUDIO,
t);break;case r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==E.State.ERROR&&this.state!==E.State.STOPPED&&(this.state=t.fatal?E.State.ERROR:E.State.IDLE,this.warn(t.details+" while loading frag, switching to "+this.state+" state"));break;case r.ErrorDetails.BUFFER_FULL_ERROR:"audio"!==t.parent||this.state!==E.State.PARSING&&this.state!==E.State.PARSED||(e=!0,(t=this.getFwdBufferInfo(this.mediaBuffer,x.PlaylistLevelType.AUDIO))&&.5<t.len&&(e=!this.reduceMaxBufferLength(t.len)),
e&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,m.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState())}};c.onBufferFlushed=function(e,t){t.type===v.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===E.State.ENDED&&(this.state=E.State.IDLE))};c._handleTransmuxComplete=function(e){var t,B=this.hls,y=e.remuxResult,A=e.chunkMeta,H=this.getCurrentContext(A);if(H){e=H.frag;var J=
H.part;H=H.level.details;var N=y.audio,ea=y.text,ia=y.id3;y=y.initSegment;if(!this.fragContextChanged(e)&&H){this.state=E.State.PARSING;this.audioSwitch&&N&&this.completeAudioSwitch();null!==y&&void 0!==y&&y.tracks&&(this._bufferInitSegment(y.tracks,e,A),B.trigger(z.Events.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:"audio",tracks:y.tracks}));if(N){y=N.startPTS;var la=N.endPTS,S=N.startDTS,aa=N.endDTS;J&&(J.elementaryStreams[v.ElementaryStreamTypes.AUDIO]={startPTS:y,endPTS:la,startDTS:S,endDTS:aa});e.setElementaryStreamInfo(v.ElementaryStreamTypes.AUDIO,
y,la,S,aa);this.bufferFragmentData(N,e,J,A)}null!==ia&&void 0!==ia&&null!==(t=ia.samples)&&void 0!==t&&t.length&&(t=X({id:"audio",frag:e,details:H},ia),B.trigger(z.Events.FRAG_PARSING_METADATA,t));ea&&(t=X({id:"audio",frag:e,details:H},ea),B.trigger(z.Events.FRAG_PARSING_USERDATA,t))}}else this.warn("The loading context changed while buffering fragment "+A.sn+" of level "+A.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(A.level)};c._bufferInitSegment=function(e,t,B){if(this.state===
E.State.PARSING){e.video&&delete e.video;var y=e.audio;y&&(y.levelCodec=y.codec,y.id="audio",this.log("Init audio buffer, container:"+y.container+", codecs[parsed]\x3d["+y.codec+"]"),this.hls.trigger(z.Events.BUFFER_CODECS,e),e=y.initSegment,null!==e&&void 0!==e&&e.byteLength&&this.hls.trigger(z.Events.BUFFER_APPENDING,{type:"audio",frag:t,part:null,chunkMeta:B,parent:t.type,data:e}),this.tick())}};c.loadFragment=function(e,t,B){var y=this.fragmentTracker.getState(e);this.fragCurrent=e;if(this.audioSwitch||
y===w.FragmentState.NOT_LOADED||y===w.FragmentState.PARTIAL)"initSegment"===e.sn?this._loadInitSegment(e,t):t.live&&!(0,K.isFiniteNumber)(this.initPTS[e.cc])?(this.log("Waiting for video PTS in continuity counter "+e.cc+" of live stream before loading audio fragment "+e.sn+" of level "+this.trackId),this.state=E.State.WAITING_INIT_PTS):(this.startFragRequested=!0,m.prototype.loadFragment.call(this,e,t,B))};c.completeAudioSwitch=function(){var e=this.hls,t=this.trackId;this.media&&(this.log("Switching audio track : flushing all audio"),
m.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));this.audioSwitch=!1;e.trigger(z.Events.AUDIO_TRACK_SWITCHED,{id:t})};return f}(E["default"])},"./src/controller/audio-track-controller.ts":(oa,Y,G)=>{function X(q,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);var l=Object,h=l.defineProperty;a:{var k=g.key;if("object"===typeof k&&null!==k){var p=k[Symbol.toPrimitive];if(void 0!==p){k=p.call(k,"string");
if("object"!==typeof k)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}k=String(k)}}h.call(l,q,"symbol"===typeof k?k:String(k),g)}}function T(q,x,v){x&&X(q.prototype,x);v&&X(q,v);Object.defineProperty(q,"prototype",{writable:!1});return q}function F(q,x){q.prototype=Object.create(x.prototype);q.prototype.constructor=q;K(q,x)}function K(q,x){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,g){v.__proto__=g;return v};return K(q,x)}G.r(Y);G.d(Y,{"default":()=>
w});var E=G("./src/events.ts"),z=G("./src/errors.ts");oa=G("./src/controller/base-playlist-controller.ts");var C=G("./src/types/loader.ts");const w=function(q){function x(g){g=q.call(this,g,"[audio-track-controller]")||this;g.tracks=[];g.groupId=null;g.tracksInGroup=[];g.trackId=-1;g.trackName="";g.selectDefaultTrack=!0;g.registerListeners();return g}F(x,q);var v=x.prototype;v.registerListeners=function(){var g=this.hls;g.on(E.Events.MANIFEST_LOADING,this.onManifestLoading,this);g.on(E.Events.MANIFEST_PARSED,
this.onManifestParsed,this);g.on(E.Events.LEVEL_LOADING,this.onLevelLoading,this);g.on(E.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);g.on(E.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);g.on(E.Events.ERROR,this.onError,this)};v.unregisterListeners=function(){var g=this.hls;g.off(E.Events.MANIFEST_LOADING,this.onManifestLoading,this);g.off(E.Events.MANIFEST_PARSED,this.onManifestParsed,this);g.off(E.Events.LEVEL_LOADING,this.onLevelLoading,this);g.off(E.Events.LEVEL_SWITCHING,this.onLevelSwitching,
this);g.off(E.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);g.off(E.Events.ERROR,this.onError,this)};v.destroy=function(){this.unregisterListeners();this.tracks.length=0;this.tracksInGroup.length=0;q.prototype.destroy.call(this)};v.onManifestLoading=function(){this.tracks=[];this.groupId=null;this.tracksInGroup=[];this.trackId=-1;this.trackName="";this.selectDefaultTrack=!0};v.onManifestParsed=function(g,l){this.tracks=l.audioTracks||[]};v.onAudioTrackLoaded=function(g,l){g=l.id;var h=l.details,
k=this.tracksInGroup[g];if(k){var p=k.details;k.details=l.details;this.log("audioTrack "+g+" loaded ["+h.startSN+"-"+h.endSN+"]");g===this.trackId&&(this.retryCount=0,this.playlistLoaded(g,l,p))}else this.warn("Invalid audio track id "+g)};v.onLevelLoading=function(g,l){this.switchLevel(l.level)};v.onLevelSwitching=function(g,l){this.switchLevel(l.level)};v.switchLevel=function(g){g=this.hls.levels[g];if(null!==g&&void 0!==g&&g.audioGroupIds){var l=g.audioGroupIds[g.urlId];if(this.groupId!==l){this.groupId=
l;g=this.tracks.filter(function(k){return!l||k.groupId===l});this.selectDefaultTrack&&!g.some(function(k){return k.default})&&(this.selectDefaultTrack=!1);this.tracksInGroup=g;var h={audioTracks:g};this.log("Updating audio tracks, "+g.length+' track(s) found in "'+l+'" group-id');this.hls.trigger(E.Events.AUDIO_TRACKS_UPDATED,h);this.selectInitialTrack()}}};v.onError=function(g,l){q.prototype.onError.call(this,g,l);!l.fatal&&l.context&&l.context.type===C.PlaylistContextType.AUDIO_TRACK&&l.context.id===
this.trackId&&l.context.groupId===this.groupId&&this.retryLoadingOrFail(l)};v.setAudioTrack=function(g){var l=this.tracksInGroup;if(0>g||g>=l.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var h=l[this.trackId];this.log("Now switching to audio-track index "+g);l=l[g];var k=l.id,p=l.groupId,r=l.name,u=l.type,m=l.url;this.trackId=g;this.trackName=r;this.selectDefaultTrack=!1;this.hls.trigger(E.Events.AUDIO_TRACK_SWITCHING,{id:k,groupId:void 0===p?"":p,name:r,
type:u,url:m});if(!l.details||l.details.live)g=this.switchParams(l.url,null===h||void 0===h?void 0:h.details),this.loadPlaylist(g)}};v.selectInitialTrack=function(){console.assert(this.tracksInGroup.length,"Initial audio track should be selected when tracks are known");var g=this.findTrackId(this.trackName)||this.findTrackId();-1!==g?this.setAudioTrack(g):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(E.Events.ERROR,{type:z.ErrorTypes.MEDIA_ERROR,details:z.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,
fatal:!0}))};v.findTrackId=function(g){for(var l=this.tracksInGroup,h=0;h<l.length;h++){var k=l[h];if(!this.selectDefaultTrack||k.default)if(!g||g===k.name)return k.id}return-1};v.loadPlaylist=function(g){q.prototype.loadPlaylist.call(this);var l=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(l)){var h=l.id,k=l.groupId;l=l.url;if(g)try{l=g.addDirectives(l)}catch(p){this.warn("Could not construct new URL with HLS Delivery Directives: "+p)}this.log("loading audio-track playlist for id: "+
h);this.clearTimer();this.hls.trigger(E.Events.AUDIO_TRACK_LOADING,{url:l,id:h,groupId:k,deliveryDirectives:g||null})}};T(x,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(g){this.selectDefaultTrack=!1;this.setAudioTrack(g)}}]);return x}(oa["default"])},"./src/controller/base-playlist-controller.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>E});var X=G("./src/types/level.ts"),T=G("./src/controller/level-helper.ts"),F=G("./src/utils/logger.ts"),
K=G("./src/errors.ts"),E=function(){function z(w,q){this.hls=void 0;this.requestScheduled=this.timer=-1;this.canLoad=!1;this.retryCount=0;this.warn=this.log=void 0;this.log=F.logger.log.bind(F.logger,q+":");this.warn=F.logger.warn.bind(F.logger,q+":");this.hls=w}var C=z.prototype;C.destroy=function(){this.clearTimer();this.hls=this.log=this.warn=null};C.onError=function(w,q){!q.fatal||q.type!==K.ErrorTypes.NETWORK_ERROR&&q.type!==K.ErrorTypes.KEY_SYSTEM_ERROR||this.stopLoad()};C.clearTimer=function(){clearTimeout(this.timer);
this.timer=-1};C.startLoad=function(){this.canLoad=!0;this.retryCount=0;this.requestScheduled=-1;this.loadPlaylist()};C.stopLoad=function(){this.canLoad=!1;this.clearTimer()};C.switchParams=function(w,q){var x=null===q||void 0===q?void 0:q.renditionReports;if(x)for(var v=0;v<x.length;v++){var g=x[v],l=void 0;try{l=(new self.URL(g.URI,q.url)).href}catch(h){F.logger.warn("Could not construct new URL for Rendition Report: "+h),l=g.URI||""}if(l===w.slice(-l.length))return w=parseInt(g["LAST-MSN"])||(null===
q||void 0===q?void 0:q.lastPartSn),g=parseInt(g["LAST-PART"])||(null===q||void 0===q?void 0:q.lastPartIndex),this.hls.config.lowLatencyMode&&(x=Math.min(q.age-q.partTarget,q.targetduration),0<=g&&x>q.partTarget&&(g+=1)),new X.HlsUrlParameters(w,0<=g?g:void 0,X.HlsSkip.No)}};C.loadPlaylist=function(w){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())};C.shouldLoadTrack=function(w){return this.canLoad&&w&&!!w.url&&(!w.details||w.details.live)};C.playlistLoaded=function(w,q,
x){var v=this,g=q.details,l=q.stats,h=self.performance.now(),k=l.loading.first?Math.max(0,h-l.loading.first):0;g.advancedDateTime=Date.now()-k;if(g.live||null!==x&&void 0!==x&&x.live){if(g.reloaded(x),x&&this.log("live playlist "+w+" "+(g.advanced?"REFRESHED "+g.lastPartSn+"-"+g.lastPartIndex:"MISSED")),x&&0<g.fragments.length&&(0,T.mergeDetails)(x,g),this.canLoad&&g.live){var p=k=void 0;if(g.canBlockReload&&g.endSN&&g.advanced){var r=this.hls.config.lowLatencyMode;k=g.lastPartSn;var u=g.endSN,m=
g.lastPartIndex,f=k===u,c=r?0:m;-1!==m?(k=f?u+1:k,p=f?c:m+1):k=u+1;m=g.age;c=Math.min(m+g.ageHeader-g.partTarget,1.5*g.targetduration);0<c&&(x&&c>x.tuneInGoal?(this.warn("CDN Tune-in goal increased from: "+x.tuneInGoal+" to: "+c+" with playlist age: "+g.age),c=0):(x=Math.floor(c/g.targetduration),k+=x,void 0!==p&&(p+=Math.round(c%g.targetduration/g.partTarget)),this.log("CDN Tune-in age: "+g.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+c+" skip sn "+x+" to part "+p)),g.tuneInGoal=c);var e=
this.getDeliveryDirectives(g,q.deliveryDirectives,k,p);if(r||!f){this.loadPlaylist(e);return}}else e=this.getDeliveryDirectives(g,q.deliveryDirectives,k,p);q=this.hls.mainForwardBufferInfo;q=(0,T.computeReloadInterval)(g,1E3*(g.edge-(q?q.end-q.len:0)));g.updated?h>this.requestScheduled+q&&(this.requestScheduled=l.loading.start):this.requestScheduled=-1;this.requestScheduled=void 0!==k&&g.canBlockReload?l.loading.first+q-(1E3*g.partTarget||1E3):(-1===this.requestScheduled?h:this.requestScheduled)+
q;g=this.requestScheduled-h;g=Math.max(0,g);this.log("reload live playlist "+w+" in "+Math.round(g)+" ms");this.timer=self.setTimeout(function(){return v.loadPlaylist(e)},g)}}else this.clearTimer()};C.getDeliveryDirectives=function(w,q,x,v){var g=(0,X.getSkipValue)(w,x);null!==q&&void 0!==q&&q.skip&&w.deltaUpdateFailed&&(x=q.msn,v=q.part,g=X.HlsSkip.No);return new X.HlsUrlParameters(x,v,g)};C.retryLoadingOrFail=function(w){var q=this,x=this.hls.config,v=this.retryCount<x.levelLoadingMaxRetry;if(v){var g;
this.requestScheduled=-1;this.retryCount++;-1<w.details.indexOf("LoadTimeOut")&&null!==(g=w.context)&&void 0!==g&&g.deliveryDirectives?(this.warn("retry playlist loading #"+this.retryCount+' after "'+w.details+'"'),this.loadPlaylist()):(x=Math.min(Math.pow(2,this.retryCount)*x.levelLoadingRetryDelay,x.levelLoadingMaxRetryTimeout),this.timer=self.setTimeout(function(){return q.loadPlaylist()},x),this.warn("retry playlist loading #"+this.retryCount+" in "+x+' ms after "'+w.details+'"'))}else this.warn('cannot recover from error "'+
w.details+'"'),this.clearTimer(),w.fatal=!0;return v};return z}()},"./src/controller/base-stream-controller.ts":(oa,Y,G)=>{function X(e,t){for(var B=0;B<t.length;B++){var y=t[B];y.enumerable=y.enumerable||!1;y.configurable=!0;"value"in y&&(y.writable=!0);var A=Object,H=A.defineProperty;a:{var J=y.key;if("object"===typeof J&&null!==J){var N=J[Symbol.toPrimitive];if(void 0!==N){J=N.call(J,"string");if("object"!==typeof J)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}J=
String(J)}}H.call(A,e,"symbol"===typeof J?J:String(J),y)}}function T(e,t,B){t&&X(e.prototype,t);B&&X(e,B);Object.defineProperty(e,"prototype",{writable:!1});return e}function F(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;K(e,t)}function K(e,t){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,y){B.__proto__=y;return B};return K(e,t)}G.r(Y);G.d(Y,{State:()=>f,"default":()=>c});var E=G("./src/polyfills/number.ts");oa=G("./src/task-loop.ts");var z=G("./src/controller/fragment-tracker.ts"),
C=G("./src/utils/buffer-helper.ts"),w=G("./src/utils/logger.ts"),q=G("./src/events.ts"),x=G("./src/errors.ts"),v=G("./src/types/transmuxer.ts"),g=G("./src/utils/mp4-tools.ts"),l=G("./src/utils/discontinuities.ts"),h=G("./src/controller/fragment-finders.ts"),k=G("./src/controller/level-helper.ts"),p=G("./src/loader/fragment-loader.ts"),r=G("./src/crypt/decrypter.ts"),u=G("./src/utils/time-ranges.ts"),m=G("./src/types/loader.ts"),f={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",
FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},c=function(e){function t(y,A,H,J){var N=e.call(this)||this;N.hls=void 0;N.fragPrevious=null;N.fragCurrent=null;N.fragmentTracker=void 0;N.transmuxer=null;N._state=f.STOPPED;N.media=null;N.mediaBuffer=null;N.config=void 0;N.bitrateTest=!1;N.lastCurrentTime=0;N.nextLoadPosition=0;N.startPosition=
0;N.loadedmetadata=!1;N.fragLoadError=0;N.retryDate=0;N.levels=null;N.fragmentLoader=void 0;N.keyLoader=void 0;N.levelLastLoaded=null;N.startFragRequested=!1;N.decrypter=void 0;N.initPTS=[];N.onvseeking=null;N.onvended=null;N.logPrefix="";N.log=void 0;N.warn=void 0;N.logPrefix=J;N.log=w.logger.log.bind(w.logger,J+":");N.warn=w.logger.warn.bind(w.logger,J+":");N.hls=y;N.fragmentLoader=new p["default"](y.config);N.keyLoader=H;N.fragmentTracker=A;N.config=y.config;N.decrypter=new r["default"](y.config);
A=y.on;H=q.Events.LEVEL_SWITCHING;J=N.onLevelSwitching;if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");A.call(y,H,J,N);return N}F(t,e);var B=t.prototype;B.doTick=function(){this.onTickEnd()};B.onTickEnd=function(){};B.startLoad=function(y){};B.stopLoad=function(){this.fragmentLoader.abort();this.keyLoader.abort();var y=this.fragCurrent;y&&(y.abortRequests(),this.fragmentTracker.removeFragment(y));this.resetTransmuxer();this.fragPrevious=this.fragCurrent=
null;this.clearInterval();this.clearNextTick();this.state=f.STOPPED};B._streamEnded=function(y,A){if(A.live||y.nextStart||!y.end||!this.media)return!1;y=A.partList;return null!==y&&void 0!==y&&y.length?(A=y[y.length-1],C.BufferHelper.isBuffered(this.media,A.start+A.duration/2)):this.fragmentTracker.isEndListAppended(A.fragments[A.fragments.length-1].type)};B.getLevelDetails=function(){if(this.levels&&null!==this.levelLastLoaded){var y;return null===(y=this.levels[this.levelLastLoaded])||void 0===
y?void 0:y.details}};B.onMediaAttached=function(y,A){y=this.media=this.mediaBuffer=A.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvended=this.onMediaEnded.bind(this);y.addEventListener("seeking",this.onvseeking);y.addEventListener("ended",this.onvended);y=this.config;this.levels&&y.autoStartLoad&&this.state===f.STOPPED&&this.startLoad(y.startPosition)};B.onMediaDetaching=function(){var y=this.media;null!==y&&void 0!==y&&y.ended&&(this.log("MSE detaching and video ended, reset startPosition"),
this.startPosition=this.lastCurrentTime=0);y&&this.onvseeking&&this.onvended&&(y.removeEventListener("seeking",this.onvseeking),y.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null);this.keyLoader&&this.keyLoader.detach();this.media=this.mediaBuffer=null;this.loadedmetadata=!1;this.fragmentTracker.removeAllFragments();this.stopLoad()};B.onMediaSeeking=function(){var y=this.config,A=this.fragCurrent,H=this.media,J=this.mediaBuffer,N=this.state,ea=H?H.currentTime:0;J=C.BufferHelper.bufferInfo(J?
J:H,ea,y.maxBufferHole);this.log("media seeking to "+((0,E.isFiniteNumber)(ea)?ea.toFixed(3):ea)+", state: "+N);this.state===f.ENDED?this.resetLoadingState():A&&(N=y.maxFragLookUpTolerance,y=A.start-N,N=A.start+A.duration+N,!J.len||N<J.start||y>J.end)&&(N=ea>N,ea<y||N)&&(N&&A.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),A.abortRequests()),this.resetLoadingState());H&&(this.lastCurrentTime=ea);this.loadedmetadata||J.len||(this.nextLoadPosition=
this.startPosition=ea);this.tickImmediate()};B.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0};B.onLevelSwitching=function(y,A){this.fragLoadError=0};B.onHandlerDestroying=function(){this.stopLoad();e.prototype.onHandlerDestroying.call(this)};B.onHandlerDestroyed=function(){this.state=f.STOPPED;this.hls.off(q.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);this.fragmentLoader&&this.fragmentLoader.destroy();this.keyLoader&&this.keyLoader.destroy();this.decrypter&&this.decrypter.destroy();
this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null;e.prototype.onHandlerDestroyed.call(this)};B.loadFragment=function(y,A,H){this._loadFragForPlayback(y,A,H)};B._loadFragForPlayback=function(y,A,H){var J=this;this._doFragLoad(y,A,H,function(N){J.fragContextChanged(y)?(J.warn("Fragment "+y.sn+(N.part?" p: "+N.part.index:"")+" of level "+y.level+" was dropped during download."),J.fragmentTracker.removeFragment(y)):(y.stats.chunkCount++,J._handleFragmentLoadProgress(N))}).then(function(N){if(N){J.fragLoadError=
0;var ea=J.state;if(J.fragContextChanged(y)){if(ea===f.FRAG_LOADING||!J.fragCurrent&&ea===f.PARSING)J.fragmentTracker.removeFragment(y),J.state=f.IDLE}else"payload"in N&&(J.log("Loaded fragment "+y.sn+" of level "+y.level),J.hls.trigger(q.Events.FRAG_LOADED,N)),J._handleFragmentLoadComplete(N)}}).catch(function(N){J.state!==f.STOPPED&&J.state!==f.ERROR&&(J.warn(N),J.resetFragmentLoading(y))})};B.flushMainBuffer=function(y,A,H){void 0===H&&(H=null);y-A&&(y={startOffset:y,endOffset:A,type:H},this.fragLoadError=
0,this.hls.trigger(q.Events.BUFFER_FLUSHING,y))};B._loadInitSegment=function(y,A){var H=this;this._doFragLoad(y,A).then(function(J){if(!J||H.fragContextChanged(y)||!H.levels)throw Error("init load aborted");return J}).then(function(J){var N=H.hls,ea=J.payload,ia=y.decryptdata;if(ea&&0<ea.byteLength&&ia&&ia.key&&ia.iv&&"AES-128"===ia.method){var la=self.performance.now();return H.decrypter.decrypt(new Uint8Array(ea),ia.key.buffer,ia.iv.buffer).then(function(S){var aa=self.performance.now();N.trigger(q.Events.FRAG_DECRYPTED,
{frag:y,payload:S,stats:{tstart:la,tdecrypt:aa}});J.payload=S;return J})}return J}).then(function(J){var N=H.fragCurrent,ea=H.hls,ia=H.levels;if(!ia)throw Error("init load aborted, missing levels");console.assert(ia[y.level].details,"Level details are defined when init segment is loaded");ia=y.stats;H.state=f.IDLE;H.fragLoadError=0;y.data=new Uint8Array(J.payload);ia.parsing.start=ia.buffering.start=self.performance.now();ia.parsing.end=ia.buffering.end=self.performance.now();J.frag===N&&ea.trigger(q.Events.FRAG_BUFFERED,
{stats:ia,frag:N,part:null,id:y.type});H.tick()}).catch(function(J){H.state!==f.STOPPED&&H.state!==f.ERROR&&(H.warn(J),H.resetFragmentLoading(y))})};B.fragContextChanged=function(y){var A=this.fragCurrent;return!y||!A||y.level!==A.level||y.sn!==A.sn||y.urlId!==A.urlId};B.fragBufferedComplete=function(y,A){var H,J,N,ea,ia=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+y.type+" sn: "+y.sn+(A?" part: "+A.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+
y.level+" (frag:["+(null!=(H=y.startPTS)?H:NaN).toFixed(3)+"-"+(null!=(J=y.endPTS)?J:NaN).toFixed(3)+"] \x3e buffer:"+(ia?u["default"].toString(C.BufferHelper.getBuffered(ia)):"(detached)")+")");this.state=f.IDLE;ia&&(!this.loadedmetadata&&y.type==m.PlaylistLevelType.MAIN&&ia.buffered.length&&(null===(N=this.fragCurrent)||void 0===N?void 0:N.sn)===(null===(ea=this.fragPrevious)||void 0===ea?void 0:ea.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())};B.seekToStartPos=function(){};B._handleFragmentLoadComplete=
function(y){var A=this.transmuxer;if(A){var H=y.frag,J=y.part;y=y.partsLoaded;y=!y||0===y.length||y.some(function(N){return!N});H=new v.ChunkMetadata(H.level,H.sn,H.stats.chunkCount+1,0,J?J.index:-1,!y);A.flush(H)}};B._handleFragmentLoadProgress=function(y){};B._doFragLoad=function(y,A,H,J){var N,ea=this;void 0===H&&(H=null);if(!this.levels)throw Error("frag load aborted, missing levels");var ia=null;!y.encrypted||null!==(N=y.decryptdata)&&void 0!==N&&N.key?!y.encrypted&&A.encryptedFragments.length&&
this.keyLoader.loadClear(y,A.encryptedFragments):(this.log("Loading key for "+y.sn+" of ["+A.startSN+"-"+A.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+y.level),this.state=f.KEY_LOADING,this.fragCurrent=y,ia=this.keyLoader.load(y).then(function(da){if(!ea.fragContextChanged(da.frag))return ea.hls.trigger(q.Events.KEY_LOADED,da),ea.state===f.KEY_LOADING&&(ea.state=f.IDLE),da}),this.hls.trigger(q.Events.KEY_LOADING,{frag:y}),this.throwIfFragContextChanged("KEY_LOADING"));
H=Math.max(y.start,H||0);if(this.config.lowLatencyMode&&A){var la=A.partList;if(la&&J){H>y.end&&A.fragmentHint&&(y=A.fragmentHint);var S=this.getNextPart(la,y,H);if(-1<S)return N=la[S],this.log("Loading part sn: "+y.sn+" p: "+N.index+" cc: "+y.cc+" of playlist ["+A.startSN+"-"+A.endSN+"] parts [0-"+S+"-"+(la.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+y.level+", target: "+parseFloat(H.toFixed(3))),this.nextLoadPosition=N.start+N.duration,this.state=f.FRAG_LOADING,
this.hls.trigger(q.Events.FRAG_LOADING,{frag:y,part:la[S],targetBufferTime:H}),this.throwIfFragContextChanged("FRAG_LOADING parts"),ia?ia.then(function(da){return!da||ea.fragContextChanged(da.frag)?null:ea.doFragPartsLoad(y,la,S,J)}).catch(function(da){return ea.handleFragLoadError(da)}):this.doFragPartsLoad(y,la,S,J).catch(function(da){return ea.handleFragLoadError(da)});if(!y.url||this.loadedEndOfParts(la,H))return Promise.resolve(null)}}this.log("Loading fragment "+y.sn+" cc: "+y.cc+" "+(A?"of ["+
A.startSN+"-"+A.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+y.level+", target: "+parseFloat(H.toFixed(3)));(0,E.isFiniteNumber)(y.sn)&&!this.bitrateTest&&(this.nextLoadPosition=y.start+y.duration);this.state=f.FRAG_LOADING;this.hls.trigger(q.Events.FRAG_LOADING,{frag:y,targetBufferTime:H});this.throwIfFragContextChanged("FRAG_LOADING");var aa=this.config.progressive;return aa&&ia?ia.then(function(da){return!da||ea.fragContextChanged(null===da||void 0===da?void 0:da.frag)?
null:ea.fragmentLoader.load(y,J)}).catch(function(da){return ea.handleFragLoadError(da)}):Promise.all([this.fragmentLoader.load(y,aa?J:void 0),ia]).then(function(da){da=da[0];!aa&&da&&J&&J(da);return da}).catch(function(da){return ea.handleFragLoadError(da)})};B.throwIfFragContextChanged=function(y){if(null===this.fragCurrent)throw Error("frag load aborted, context changed in "+y);};B.doFragPartsLoad=function(y,A,H,J){var N=this;return new Promise(function(ea,ia){var la=[];(function da(aa){var ma=
A[aa];N.fragmentLoader.loadPart(y,ma,J).then(function(na){la[ma.index]=na;var Ba=na.part;N.hls.trigger(q.Events.FRAG_LOADED,na);if((na=A[aa+1])&&na.fragment===y)da(aa+1);else return ea({frag:y,part:Ba,partsLoaded:la})}).catch(ia)})(H)})};B.handleFragLoadError=function(y){if("data"in y){var A=y.data;y.data&&A.details===x.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(A.frag,A.part):this.hls.trigger(q.Events.ERROR,A)}else this.hls.trigger(q.Events.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.INTERNAL_EXCEPTION,
err:y,fatal:!0});return null};B._handleTransmuxerFlush=function(y){var A=this.getCurrentContext(y);if(A&&this.state===f.PARSING){var H=A.frag,J=A.part;A=A.level;var N=self.performance.now();H.stats.parsing.end=N;J&&(J.stats.parsing.end=N);this.updateLevelTiming(H,J,A,y.partial)}else this.fragCurrent||this.state===f.STOPPED||this.state===f.ERROR||(this.state=f.IDLE)};B.getCurrentContext=function(y){var A=this.levels,H=y.level,J=y.sn;y=y.part;if(!A||!A[H])return this.warn("Levels object was unset while buffering fragment "+
J+" of level "+H+". The current chunk will not be buffered."),null;A=A[H];return(J=(H=-1<y?(0,k.getPartWith)(A,J,y):null)?H.fragment:(0,k.getFragmentWithSN)(A,J,this.fragCurrent))?{frag:J,part:H,level:A}:null};B.bufferFragmentData=function(y,A,H,J){if(y&&this.state===f.PARSING){var N=y.data1,ea=y.data2,ia=N;N&&ea&&(ia=(0,g.appendUint8Array)(N,ea));ia&&ia.length&&(this.hls.trigger(q.Events.BUFFER_APPENDING,{type:y.type,frag:A,part:H,chunkMeta:J,parent:A.type,data:ia}),y.dropped&&y.independent&&!H&&
this.flushBufferGap(A))}};B.flushBufferGap=function(y){var A=this.media;if(A)if(C.BufferHelper.isBuffered(A,A.currentTime)){var H=A.currentTime,J=C.BufferHelper.bufferInfo(A,H,0);A=Math.min(2*this.config.maxFragLookUpTolerance,.25*y.duration);H=Math.max(Math.min(y.start-A,J.end-A),H+A);y.start-H>A&&this.flushMainBuffer(H,y.start)}else this.flushMainBuffer(0,y.start)};B.getFwdBufferInfo=function(y,A){var H=this.config,J=this.getLoadPosition();if(!(0,E.isFiniteNumber)(J))return null;var N=C.BufferHelper.bufferInfo(y,
J,H.maxBufferHole);return 0===N.len&&void 0!==N.nextStart&&(A=this.fragmentTracker.getBufferedFrag(J,A))&&N.nextStart<A.end?C.BufferHelper.bufferInfo(y,J,Math.max(N.nextStart,H.maxBufferHole)):N};B.getMaxBufferLength=function(y){var A=this.config;return Math.min(y?Math.max(8*A.maxBufferSize/y,A.maxBufferLength):A.maxBufferLength,A.maxMaxBufferLength)};B.reduceMaxBufferLength=function(y){var A=this.config;return A.maxMaxBufferLength>=(y||A.maxBufferLength)?(A.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+
A.maxMaxBufferLength+"s"),!0):!1};B.getNextFragment=function(y,A){var H=A.fragments,J=H.length;if(!J)return null;var N=this.config,ea=H[0].start,ia;if(A.live){ea=N.initialLiveManifestSize;if(J<ea)return this.warn("Not enough fragments to start playback (have: "+J+", need: "+ea+")"),null;A.PTSKnown||this.startFragRequested||-1!==this.startPosition||(this.startPosition=(ia=this.getInitialLiveFragment(A,H))?this.hls.liveSyncPosition||ia.start:y)}else y<=ea&&(ia=H[0]);ia||(ia=this.getFragmentAtPosition(y,
N.lowLatencyMode?A.partEnd:A.fragmentEnd,A));return this.mapToInitFragWhenRequired(ia)};B.mapToInitFragWhenRequired=function(y){return null===y||void 0===y||!y.initSegment||null!==y&&void 0!==y&&y.initSegment.data||this.bitrateTest?y:y.initSegment};B.getNextPart=function(y,A,H){for(var J=-1,N=!1,ea=!0,ia=0,la=y.length;ia<la;ia++){var S=y[ia];ea=ea&&!S.independent;if(-1<J&&H<S.start)break;var aa=S.loaded;aa?J=-1:(N||S.independent||ea)&&S.fragment===A&&(J=ia);N=aa}return J};B.loadedEndOfParts=function(y,
A){return(y=y[y.length-1])&&A>y.start&&y.loaded};B.getInitialLiveFragment=function(y,A){var H=this.fragPrevious,J=null;if(H){if(y.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+H.programDateTime),J=(0,h.findFragmentByPDT)(A,H.endProgramDateTime,this.config.maxFragLookUpTolerance)),!J){var N=H.sn+1;N>=y.startSN&&N<=y.endSN&&(y=A[N-y.startSN],H.cc===y.cc&&(J=y,this.log("Live playlist, switching playlist, load frag with next SN: "+J.sn)));J||(J=(0,h.findFragWithCC)(A,
H.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+J.sn)}}else A=this.hls.liveSyncPosition,null!==A&&(J=this.getFragmentAtPosition(A,this.bitrateTest?y.fragmentEnd:y.edge,y));return J};B.getFragmentAtPosition=function(y,A,H){var J=this.config,N=this.fragPrevious,ea=H.fragments,ia=H.endSN,la=H.fragmentHint,S=J.maxFragLookUpTolerance;(J=!!(J.lowLatencyMode&&H.partList&&la))&&la&&!this.bitrateTest&&(ea=ea.concat(la),ia=la.sn);if(y=y<A?(0,h.findFragmentByPTS)(N,ea,y,y>A-S?
0:S):ea[ea.length-1])H=y.sn-H.startSN,this.fragmentTracker.getState(y)===z.FragmentState.OK&&(N=y),N&&y.sn===N.sn&&!J&&N&&y.level===N.level&&(N=ea[H+1],y.sn<ia&&this.fragmentTracker.getState(N)!==z.FragmentState.OK?(this.log("SN "+y.sn+" just loaded, load next one: "+N.sn),y=N):y=null);return y};B.synchronizeToLiveEdge=function(y){var A=this.config,H=this.media;if(H){var J=this.hls.liveSyncPosition,N=H.currentTime,ea=y.edge,ia=N>=y.fragments[0].start-A.maxFragLookUpTolerance&&N<=ea;null!==J&&H.duration>
J&&(N<J||!ia)&&(y=void 0!==A.liveMaxLatencyDuration?A.liveMaxLatencyDuration:A.liveMaxLatencyDurationCount*y.targetduration,!ia&&4>H.readyState||N<ea-y)&&(this.loadedmetadata||(this.nextLoadPosition=J),H.readyState&&(this.warn("Playback: "+N.toFixed(3)+" is located too far from the end of live sliding playlist: "+ea+", reset currentTime to : "+J.toFixed(3)),H.currentTime=J))}};B.alignPlaylists=function(y,A){var H=this.levels,J=this.levelLastLoaded,N=this.fragPrevious;J=null!==J?H[J]:null;H=y.fragments.length;
if(!H)return this.warn("No fragments in live playlist"),0;var ea=y.fragments[0].start,ia=!A,la=y.alignedSliding&&(0,E.isFiniteNumber)(ea);return ia||!la&&!ea?((0,l.alignStream)(N,J,y),J=y.fragments[0].start,this.log("Live playlist sliding: "+J.toFixed(2)+" start-sn: "+(A?A.startSN:"na")+"-\x3e"+y.startSN+" prev-sn: "+(N?N.sn:"na")+" fragments: "+H),J):ea};B.waitForCdnTuneIn=function(y){return y.live&&y.canBlockReload&&y.partTarget&&y.tuneInGoal>Math.max(y.partHoldBack,3*y.partTarget)};B.setStartPosition=
function(y,A){var H=this.startPosition;H<A&&(H=-1);if(-1===H||-1===this.lastCurrentTime){var J=y.startTimeOffset;(0,E.isFiniteNumber)(J)?(H=A+J,0>J&&(H+=y.totalduration),H=Math.min(Math.max(A,H),A+y.totalduration),this.log("Start time offset "+J+" found in playlist, adjust startPosition to "+H),this.startPosition=H):y.live?H=this.hls.liveSyncPosition||A:this.startPosition=H=0;this.lastCurrentTime=H}this.nextLoadPosition=H};B.getLoadPosition=function(){var y=this.media,A=0;this.loadedmetadata&&y?A=
y.currentTime:this.nextLoadPosition&&(A=this.nextLoadPosition);return A};B.handleFragLoadAborted=function(y,A){this.transmuxer&&"initSegment"!==y.sn&&y.stats.aborted&&(this.warn("Fragment "+y.sn+(A?" part"+A.index:"")+" of level "+y.level+" was aborted"),this.resetFragmentLoading(y))};B.resetFragmentLoading=function(y){if(!this.fragCurrent||!this.fragContextChanged(y)&&this.state!==f.FRAG_LOADING_WAITING_RETRY)this.state=f.IDLE};B.onFragmentOrKeyLoadError=function(y,A){if(A.fatal)this.stopLoad(),
this.state=f.ERROR;else{var H=this.config;if(A.chunkMeta){var J=this.getCurrentContext(A.chunkMeta);J&&(A.frag=J.frag,A.levelRetry=!0,this.fragLoadError=H.fragLoadingMaxRetry)}if((J=A.frag)&&J.type===y){var N=this.fragCurrent;console.assert(N&&J.sn===N.sn&&J.level===N.level&&J.urlId===N.urlId,"Frag load error must match current frag to retry");this.fragLoadError+1<=H.fragLoadingMaxRetry?(this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),A=Math.min(Math.pow(2,
this.fragLoadError)*H.fragLoadingRetryDelay,H.fragLoadingMaxRetryTimeout),this.warn("Fragment "+J.sn+" of "+y+" "+J.level+" failed to load, retrying in "+A+"ms"),this.retryDate=self.performance.now()+A,this.fragLoadError++,this.state=f.FRAG_LOADING_WAITING_RETRY):A.levelRetry?(y===m.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=f.IDLE):(w.logger.error(A.details+" reaches max retry, redispatch as fatal ..."),A.fatal=!0,this.hls.stopLoad(),this.state=f.ERROR)}}};B.afterBufferFlushed=
function(y,A,H){y&&(y=C.BufferHelper.getBuffered(y),this.fragmentTracker.detectEvictedFragments(A,y,H),this.state===f.ENDED&&this.resetLoadingState())};B.resetLoadingState=function(){this.log("Reset loading state");this.fragPrevious=this.fragCurrent=null;this.state=f.IDLE};B.resetStartWhenNotLoaded=function(y){this.loadedmetadata||(this.startFragRequested=!1,y=this.levels?this.levels[y].details:null,null!==y&&void 0!==y&&y.live?(this.startPosition=-1,this.setStartPosition(y,0),this.resetLoadingState()):
this.nextLoadPosition=this.startPosition)};B.updateLevelTiming=function(y,A,H,J){var N=this,ea=H.details;console.assert(!!ea,"level.details must be defined");Object.keys(y.elementaryStreams).reduce(function(ia,la){var S=y.elementaryStreams[la];if(S){var aa=S.endPTS-S.startPTS;if(0>=aa)return N.warn("Could not parse fragment "+y.sn+" "+la+" duration reliably ("+aa+")"),ia||!1;ia=J?0:(0,k.updateFragPTSDTS)(ea,y,S.startPTS,S.endPTS,S.startDTS,S.endDTS);N.hls.trigger(q.Events.LEVEL_PTS_UPDATED,{details:ea,
level:H,drift:ia,type:la,frag:y,start:S.startPTS,end:S.endPTS});return!0}return ia},!1)||(this.warn("Found no media in fragment "+y.sn+" of level "+H.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer());this.state=f.PARSED;this.hls.trigger(q.Events.FRAG_PARSED,{frag:y,part:A})};B.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)};T(t,[{key:"state",get:function(){return this._state},set:function(y){var A=this._state;A!==y&&(this._state=
y,this.log(A+"-\x3e"+y))}}]);return t}(oa["default"])},"./src/controller/buffer-controller.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>x});var X=G("./src/polyfills/number.ts"),T=G("./src/events.ts"),F=G("./src/utils/logger.ts"),K=G("./src/errors.ts"),E=G("./src/utils/buffer-helper.ts");oa=G("./src/utils/mediasource-helper.ts");var z=G("./src/loader/fragment.ts"),C=G("./src/controller/buffer-operation-queue.ts"),w=(0,oa.getMediaSource)(),q=/([ha]vc.)(?:\.[^.,]+)+/,x=function(){function v(l){var h=this;
this._objectUrl=this.details=null;this.hls=this.listeners=this.operationQueue=void 0;this._bufferCodecEventsTotal=this.bufferCodecEventsExpected=0;this.lastMpegAudioChunk=this.mediaSource=this.media=null;this.appendError=0;this.tracks={};this.pendingTracks={};this.sourceBuffer=void 0;this._onMediaSourceOpen=function(){var k=h.media,p=h.mediaSource;F.logger.log("[buffer-controller]: Media source opened");k&&(k.removeEventListener("emptied",h._onMediaEmptied),h.updateMediaElementDuration(),h.hls.trigger(T.Events.MEDIA_ATTACHED,
{media:k}));p&&p.removeEventListener("sourceopen",h._onMediaSourceOpen);h.checkPendingTracks()};this._onMediaSourceClose=function(){F.logger.log("[buffer-controller]: Media source closed")};this._onMediaSourceEnded=function(){F.logger.log("[buffer-controller]: Media source ended")};this._onMediaEmptied=function(){var k=h.media,p=h._objectUrl;k&&k.src!==p&&F.logger.error("Media element src was set while attaching MediaSource ("+p+" \x3e "+k.src+")")};this.hls=l;this._initSourceBuffer();this.registerListeners()}
var g=v.prototype;g.hasSourceTypes=function(){return 0<this.getSourceBufferTypes().length||0<Object.keys(this.pendingTracks).length};g.destroy=function(){this.unregisterListeners();this.lastMpegAudioChunk=this.details=null};g.registerListeners=function(){var l=this.hls;l.on(T.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);l.on(T.Events.MEDIA_DETACHING,this.onMediaDetaching,this);l.on(T.Events.MANIFEST_PARSED,this.onManifestParsed,this);l.on(T.Events.BUFFER_RESET,this.onBufferReset,this);l.on(T.Events.BUFFER_APPENDING,
this.onBufferAppending,this);l.on(T.Events.BUFFER_CODECS,this.onBufferCodecs,this);l.on(T.Events.BUFFER_EOS,this.onBufferEos,this);l.on(T.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);l.on(T.Events.LEVEL_UPDATED,this.onLevelUpdated,this);l.on(T.Events.FRAG_PARSED,this.onFragParsed,this);l.on(T.Events.FRAG_CHANGED,this.onFragChanged,this)};g.unregisterListeners=function(){var l=this.hls;l.off(T.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);l.off(T.Events.MEDIA_DETACHING,this.onMediaDetaching,
this);l.off(T.Events.MANIFEST_PARSED,this.onManifestParsed,this);l.off(T.Events.BUFFER_RESET,this.onBufferReset,this);l.off(T.Events.BUFFER_APPENDING,this.onBufferAppending,this);l.off(T.Events.BUFFER_CODECS,this.onBufferCodecs,this);l.off(T.Events.BUFFER_EOS,this.onBufferEos,this);l.off(T.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);l.off(T.Events.LEVEL_UPDATED,this.onLevelUpdated,this);l.off(T.Events.FRAG_PARSED,this.onFragParsed,this);l.off(T.Events.FRAG_CHANGED,this.onFragChanged,this)};
g._initSourceBuffer=function(){this.sourceBuffer={};this.operationQueue=new C["default"](this.sourceBuffer);this.listeners={audio:[],video:[],audiovideo:[]};this.lastMpegAudioChunk=null};g.onManifestParsed=function(l,h){l=2;if(h.audio&&!h.video||!h.altAudio)l=1;this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=l;this.details=null;F.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")};g.onMediaAttaching=function(l,h){(l=this.media=h.media)&&w&&(h=this.mediaSource=
new w,h.addEventListener("sourceopen",this._onMediaSourceOpen),h.addEventListener("sourceended",this._onMediaSourceEnded),h.addEventListener("sourceclose",this._onMediaSourceClose),l.src=self.URL.createObjectURL(h),this._objectUrl=l.src,l.addEventListener("emptied",this._onMediaEmptied))};g.onMediaDetaching=function(){var l=this.media,h=this.mediaSource,k=this._objectUrl;if(h){F.logger.log("[buffer-controller]: media source detaching");if("open"===h.readyState)try{h.endOfStream()}catch(p){F.logger.warn("[buffer-controller]: onMediaDetaching: "+
p.message+" while calling endOfStream")}this.onBufferReset();h.removeEventListener("sourceopen",this._onMediaSourceOpen);h.removeEventListener("sourceended",this._onMediaSourceEnded);h.removeEventListener("sourceclose",this._onMediaSourceClose);l&&(l.removeEventListener("emptied",this._onMediaEmptied),k&&self.URL.revokeObjectURL(k),l.src===k?(l.removeAttribute("src"),l.load()):F.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup"));this._objectUrl=this.media=this.mediaSource=
null;this.bufferCodecEventsExpected=this._bufferCodecEventsTotal;this.pendingTracks={};this.tracks={}}this.hls.trigger(T.Events.MEDIA_DETACHED,void 0)};g.onBufferReset=function(){var l=this;this.getSourceBufferTypes().forEach(function(h){var k=l.sourceBuffer[h];try{k&&(l.removeBufferListeners(h),l.mediaSource&&l.mediaSource.removeSourceBuffer(k),l.sourceBuffer[h]=void 0)}catch(p){F.logger.warn("[buffer-controller]: Failed to reset the "+h+" buffer",p)}});this._initSourceBuffer()};g.onBufferCodecs=
function(l,h){var k=this,p=this.getSourceBufferTypes().length;Object.keys(h).forEach(function(r){if(p){var u=k.tracks[r];if(u&&"function"===typeof u.buffer.changeType){var m=h[r],f=m.id,c=m.codec,e=m.levelCodec,t=m.container;m=m.metadata;var B=(u.levelCodec||u.codec).replace(q,"$1"),y=(e||c).replace(q,"$1");B!==y&&(k.appendChangeType(r,t+";codecs\x3d"+(e||c)),F.logger.log("[buffer-controller]: switching codec "+B+" to "+y),k.tracks[r]={buffer:u.buffer,codec:c,container:t,levelCodec:e,metadata:m,id:f})}}else k.pendingTracks[r]=
h[r]});p||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())};g.appendChangeType=function(l,h){var k=this,p=this.operationQueue;p.append({execute:function(){var r=k.sourceBuffer[l];r&&(F.logger.log("[buffer-controller]: changing "+l+" sourceBuffer type to "+h),r.changeType(h));p.shiftAndExecuteNext(l)},onStart:function(){},onComplete:function(){},onError:function(r){F.logger.warn("[buffer-controller]: Failed to change "+
l+" SourceBuffer type",r)}},l)};g.onBufferAppending=function(l,h){var k=this,p=this.hls;l=this.operationQueue;var r=this.tracks,u=h.data,m=h.type,f=h.frag,c=h.part,e=h.chunkMeta,t=e.buffering[m];h=self.performance.now();t.start=h;var B=f.stats.buffering,y=c?c.stats.buffering:null;0===B.start&&(B.start=h);y&&0===y.start&&(y.start=h);h=r.audio;var A=!1;"audio"===m&&"audio/mpeg"===(null===h||void 0===h?void 0:h.container)&&(A=!this.lastMpegAudioChunk||1===e.id||this.lastMpegAudioChunk.sn!==e.sn,this.lastMpegAudioChunk=
e);var H=f.start;l.append({execute:function(){t.executeStart=self.performance.now();if(A){var J=k.sourceBuffer[m];if(J){var N=H-J.timestampOffset;.1<=Math.abs(N)&&(F.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+H+" (delta: "+N+") sn: "+f.sn+")"),J.timestampOffset=H)}}k.appendExecutor(u,m)},onStart:function(){},onComplete:function(){var J=self.performance.now();t.executeEnd=t.end=J;0===B.first&&(B.first=J);y&&0===y.first&&(y.first=J);J=k.sourceBuffer;var N={},ea;
for(ea in J)N[ea]=E.BufferHelper.getBuffered(J[ea]);k.appendError=0;k.hls.trigger(T.Events.BUFFER_APPENDED,{type:m,frag:f,part:c,chunkMeta:e,parent:f.type,timeRanges:N})},onError:function(J){F.logger.error("[buffer-controller]: Error encountered while trying to append to the "+m+" SourceBuffer",J);var N={type:K.ErrorTypes.MEDIA_ERROR,parent:f.type,details:K.ErrorDetails.BUFFER_APPEND_ERROR,err:J,fatal:!1};J.code===DOMException.QUOTA_EXCEEDED_ERR?N.details=K.ErrorDetails.BUFFER_FULL_ERROR:(k.appendError++,
N.details=K.ErrorDetails.BUFFER_APPEND_ERROR,k.appendError>p.config.appendErrorMaxRetry&&(F.logger.error("[buffer-controller]: Failed "+p.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),N.fatal=!0,p.stopLoad()));p.trigger(T.Events.ERROR,N)}},m)};g.onBufferFlushing=function(l,h){var k=this,p=this.operationQueue,r=function(u){return{execute:k.removeExecutor.bind(k,u,h.startOffset,h.endOffset),onStart:function(){},onComplete:function(){k.hls.trigger(T.Events.BUFFER_FLUSHED,{type:u})},
onError:function(m){F.logger.warn("[buffer-controller]: Failed to remove from "+u+" SourceBuffer",m)}}};h.type?p.append(r(h.type),h.type):this.getSourceBufferTypes().forEach(function(u){p.append(r(u),u)})};g.onFragParsed=function(l,h){var k=this,p=h.frag,r=h.part;l=[];h=r?r.elementaryStreams:p.elementaryStreams;h[z.ElementaryStreamTypes.AUDIOVIDEO]?l.push("audiovideo"):(h[z.ElementaryStreamTypes.AUDIO]&&l.push("audio"),h[z.ElementaryStreamTypes.VIDEO]&&l.push("video"));0===l.length&&F.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+
p.type+" level: "+p.level+" sn: "+p.sn);this.blockBuffers(function(){var u=self.performance.now();p.stats.buffering.end=u;r&&(r.stats.buffering.end=u);k.hls.trigger(T.Events.FRAG_BUFFERED,{frag:p,part:r,stats:r?r.stats:p.stats,id:p.type})},l)};g.onFragChanged=function(l,h){this.flushBackBuffer()};g.onBufferEos=function(l,h){var k=this;this.getSourceBufferTypes().reduce(function(p,r){var u=k.sourceBuffer[r];!u||h.type&&h.type!==r||(u.ending=!0,u.ended||(u.ended=!0,F.logger.log("[buffer-controller]: "+
r+" sourceBuffer now EOS")));return p&&!(u&&!u.ended)},!0)&&(F.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){k.getSourceBufferTypes().forEach(function(r){if(r=k.sourceBuffer[r])r.ending=!1});var p=k.mediaSource;p&&"open"===p.readyState?(F.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),p.endOfStream()):p&&F.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+p.readyState)}))};
g.onLevelUpdated=function(l,h){l=h.details;l.fragments.length&&(this.details=l,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())};g.flushBackBuffer=function(){var l=this.hls,h=this.details,k=this.media,p=this.sourceBuffer;if(k&&null!==h){var r=this.getSourceBufferTypes();if(r.length){var u=h.live&&null!==l.config.liveBackBufferLength?l.config.liveBackBufferLength:l.config.backBufferLength;if((0,X.isFiniteNumber)(u)&&
!(0>u)){var m=k.currentTime,f=h.levelTargetDuration,c=Math.floor(m/f)*f-Math.max(u,f);r.forEach(function(e){var t=p[e];if(t){var B=E.BufferHelper.getBuffered(t);if(0<B.length&&c>B.start(0)){l.trigger(T.Events.BACK_BUFFER_REACHED,{bufferEnd:c});if(h.live)l.trigger(T.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:c});else if(t.ended&&B.end(B.length-1)-m<2*f){F.logger.info("[buffer-controller]: Cannot flush "+e+" back buffer while SourceBuffer is in ended state");return}l.trigger(T.Events.BUFFER_FLUSHING,
{startOffset:0,endOffset:c,type:e})}}})}}}};g.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var l=this.details,h=this.hls,k=this.mediaSource,p=l.fragments[0].start+l.totalduration,r=this.media.duration,u=(0,X.isFiniteNumber)(k.duration)?k.duration:0;if(l.live&&h.config.liveDurationInfinity)F.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),k.duration=Infinity,this.updateSeekableRange(l);else if(p>
u&&p>r||!(0,X.isFiniteNumber)(r))F.logger.log("[buffer-controller]: Updating Media Source duration to "+p.toFixed(3)),k.duration=p}};g.updateSeekableRange=function(l){var h=this.mediaSource,k=l.fragments;k.length&&l.live&&null!==h&&void 0!==h&&h.setLiveSeekableRange&&(k=Math.max(0,k[0].start),h.setLiveSeekableRange(k,Math.max(k,k+l.totalduration)))};g.checkPendingTracks=function(){var l=this.bufferCodecEventsExpected,h=this.operationQueue,k=this.pendingTracks,p=Object.keys(k).length;if(p&&!l||2===
p)this.createSourceBuffers(k),this.pendingTracks={},l=this.getSourceBufferTypes(),0===l.length?this.hls.trigger(T.Events.ERROR,{type:K.ErrorTypes.MEDIA_ERROR,details:K.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"}):l.forEach(function(r){h.executeNext(r)})};g.createSourceBuffers=function(l){var h=this.sourceBuffer,k=this.mediaSource;if(!k)throw Error("createSourceBuffers called when mediaSource was null");var p=0,r;for(r in l)if(!h[r]){var u=
l[r];if(!u)throw Error("source buffer exists for track "+r+", however track does not");var m=u.levelCodec||u.codec,f=u.container+";codecs\x3d"+m;F.logger.log("[buffer-controller]: creating sourceBuffer("+f+")");try{var c=h[r]=k.addSourceBuffer(f),e=r;this.addBufferListener(e,"updatestart",this._onSBUpdateStart);this.addBufferListener(e,"updateend",this._onSBUpdateEnd);this.addBufferListener(e,"error",this._onSBUpdateError);this.tracks[r]={buffer:c,codec:m,container:u.container,levelCodec:u.levelCodec,
metadata:u.metadata,id:u.id};p++}catch(t){F.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+t.message),this.hls.trigger(T.Events.ERROR,{type:K.ErrorTypes.MEDIA_ERROR,details:K.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:f})}}p&&this.hls.trigger(T.Events.BUFFER_CREATED,{tracks:this.tracks})};g._onSBUpdateStart=function(l){this.operationQueue.current(l).onStart()};g._onSBUpdateEnd=function(l){var h=this.operationQueue;h.current(l).onComplete();h.shiftAndExecuteNext(l)};
g._onSBUpdateError=function(l,h){F.logger.error("[buffer-controller]: "+l+" SourceBuffer error",h);this.hls.trigger(T.Events.ERROR,{type:K.ErrorTypes.MEDIA_ERROR,details:K.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});if(l=this.operationQueue.current(l))l.onError(h)};g.removeExecutor=function(l,h,k){var p=this.media,r=this.mediaSource,u=this.operationQueue,m=this.sourceBuffer[l];p&&r&&m?(p=(0,X.isFiniteNumber)(p.duration)?p.duration:Infinity,r=(0,X.isFiniteNumber)(r.duration)?r.duration:Infinity,
h=Math.max(0,h),k=Math.min(k,p,r),k>h&&!m.ending?(m.ended=!1,F.logger.log("[buffer-controller]: Removing ["+h+","+k+"] from the "+l+" SourceBuffer"),console.assert(!m.updating,l+" sourceBuffer must not be updating"),m.remove(h,k)):u.shiftAndExecuteNext(l)):(F.logger.warn("[buffer-controller]: Attempting to remove from the "+l+" SourceBuffer, but it does not exist"),u.shiftAndExecuteNext(l))};g.appendExecutor=function(l,h){var k=this.operationQueue,p=this.sourceBuffer[h];p?(p.ended=!1,console.assert(!p.updating,
h+" sourceBuffer must not be updating"),p.appendBuffer(l)):(F.logger.warn("[buffer-controller]: Attempting to append to the "+h+" SourceBuffer, but it does not exist"),k.shiftAndExecuteNext(h))};g.blockBuffers=function(l,h){var k=this;void 0===h&&(h=this.getSourceBufferTypes());if(h.length){var p=this.operationQueue,r=h.map(function(u){return p.appendBlocker(u)});Promise.all(r).then(function(){l();h.forEach(function(u){var m=k.sourceBuffer[u];m&&m.updating||p.shiftAndExecuteNext(u)})})}else F.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),
Promise.resolve().then(l)};g.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)};g.addBufferListener=function(l,h,k){var p=this.sourceBuffer[l];p&&(k=k.bind(this,l),this.listeners[l].push({event:h,listener:k}),p.addEventListener(h,k))};g.removeBufferListeners=function(l){var h=this.sourceBuffer[l];h&&this.listeners[l].forEach(function(k){h.removeEventListener(k.event,k.listener)})};return v}()},"./src/controller/buffer-operation-queue.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>
T});var X=G("./src/utils/logger.ts"),T=function(){function F(E){this.queues={video:[],audio:[],audiovideo:[]};this.buffers=E}var K=F.prototype;K.append=function(E,z){var C=this.queues[z];C.push(E);1===C.length&&this.buffers[z]&&this.executeNext(z)};K.insertAbort=function(E,z){this.queues[z].unshift(E);this.executeNext(z)};K.appendBlocker=function(E){var z,C=new Promise(function(w){z=w});this.append({execute:z,onStart:function(){},onComplete:function(){},onError:function(){}},E);return C};K.executeNext=
function(E){var z=this.buffers[E],C=this.queues[E];if(C.length){var w=C[0];try{w.execute()}catch(q){X.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),w.onError(q),z&&z.updating||(C.shift(),this.executeNext(E))}}};K.shiftAndExecuteNext=function(E){this.queues[E].shift();this.executeNext(E)};K.current=function(E){return this.queues[E][0]};return F}()},"./src/controller/cap-level-controller.ts":(oa,Y,G)=>{function X(E,z){for(var C=0;C<z.length;C++){var w=
z[C];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);var q=Object,x=q.defineProperty;a:{var v=w.key;if("object"===typeof v&&null!==v){var g=v[Symbol.toPrimitive];if(void 0!==g){v=g.call(v,"string");if("object"!==typeof v)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}v=String(v)}}x.call(q,E,"symbol"===typeof v?v:String(v),w)}}function T(E,z,C){z&&X(E.prototype,z);C&&X(E,C);Object.defineProperty(E,"prototype",{writable:!1});return E}G.r(Y);
G.d(Y,{"default":()=>K});var F=G("./src/events.ts");const K=function(){function E(C){this.clientRect=this.streamController=this.timer=this.restrictedLevels=this.media=this.firstLevel=this.autoLevelCapping=void 0;this.hls=C;this.autoLevelCapping=Number.POSITIVE_INFINITY;this.firstLevel=-1;this.media=null;this.restrictedLevels=[];this.timer=void 0;this.clientRect=null;this.registerListeners()}var z=E.prototype;z.setStreamController=function(C){this.streamController=C};z.destroy=function(){this.unregisterListener();
this.hls.config.capLevelToPlayerSize&&this.stopCapping();this.hls=this.streamController=this.clientRect=this.media=null};z.registerListeners=function(){var C=this.hls;C.on(F.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this);C.on(F.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);C.on(F.Events.MANIFEST_PARSED,this.onManifestParsed,this);C.on(F.Events.BUFFER_CODECS,this.onBufferCodecs,this);C.on(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this)};z.unregisterListener=function(){var C=
this.hls;C.off(F.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this);C.off(F.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);C.off(F.Events.MANIFEST_PARSED,this.onManifestParsed,this);C.off(F.Events.BUFFER_CODECS,this.onBufferCodecs,this);C.off(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this)};z.onFpsDropLevelCapping=function(C,w){E.isLevelAllowed(w.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(w.droppedLevel)};z.onMediaAttaching=function(C,w){this.media=w.media instanceof
HTMLVideoElement?w.media:null;this.clientRect=null};z.onManifestParsed=function(C,w){C=this.hls;this.restrictedLevels=[];this.firstLevel=w.firstLevel;C.config.capLevelToPlayerSize&&w.video&&this.startCapping()};z.onBufferCodecs=function(C,w){this.hls.config.capLevelToPlayerSize&&w.video&&this.startCapping()};z.onMediaDetaching=function(){this.stopCapping()};z.detectPlayerSize=function(){if(this.media&&0<this.mediaHeight&&0<this.mediaWidth){var C=this.hls.levels;if(C.length){var w=this.hls;w.autoLevelCapping=
this.getMaxLevel(C.length-1);w.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch();this.autoLevelCapping=w.autoLevelCapping}}};z.getMaxLevel=function(C){var w=this,q=this.hls.levels;if(!q.length)return-1;q=q.filter(function(x,v){return E.isLevelAllowed(v,w.restrictedLevels)&&v<=C});this.clientRect=null;return E.getMaxLevelByMediaSize(q,this.mediaWidth,this.mediaHeight)};z.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,
this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1E3),this.detectPlayerSize())};z.stopCapping=function(){this.restrictedLevels=[];this.firstLevel=-1;this.autoLevelCapping=Number.POSITIVE_INFINITY;this.timer&&(self.clearInterval(this.timer),this.timer=void 0)};z.getDimensions=function(){if(this.clientRect)return this.clientRect;var C=this.media,w={width:0,height:0};if(C){var q=C.getBoundingClientRect();
w.width=q.width;w.height=q.height;w.width||w.height||(w.width=q.right-q.left||C.width||0,w.height=q.bottom-q.top||C.height||0)}return this.clientRect=w};E.isLevelAllowed=function(C,w){void 0===w&&(w=[]);return-1===w.indexOf(C)};E.getMaxLevelByMediaSize=function(C,w,q){if(!C||!C.length)return-1;for(var x=C.length-1,v=0;v<C.length;v+=1){var g=C[v],l;if(l=g.width>=w||g.height>=q)l=(l=C[v+1])?g.width!==l.width||g.height!==l.height:!0;if(l){x=v;break}}return x};T(E,[{key:"mediaWidth",get:function(){return this.getDimensions().width*
this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var C=1;if(!this.hls.config.ignoreDevicePixelRatio)try{C=self.devicePixelRatio}catch(w){}return C}}]);return E}()},"./src/controller/cmcd-controller.ts":(oa,Y,G)=>{function X(g,l){for(var h=0;h<l.length;h++){var k=l[h];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);var p=Object,r=p.defineProperty;a:{var u=k.key;
if("object"===typeof u&&null!==u){var m=u[Symbol.toPrimitive];if(void 0!==m){u=m.call(u,"string");if("object"!==typeof u)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}r.call(p,g,"symbol"===typeof u?u:String(u),k)}}function T(g,l,h){l&&X(g.prototype,l);h&&X(g,h);Object.defineProperty(g,"prototype",{writable:!1});return g}function F(g,l){var h="undefined"!==typeof Symbol&&g[Symbol.iterator]||g["@@iterator"];if(h)return(h=h.call(g)).next.bind(h);if(Array.isArray(g)||
(h=K(g))||l&&g&&"number"===typeof g.length){h&&(g=h);var k=0;return function(){return k>=g.length?{done:!0}:{done:!1,value:g[k++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function K(g,l){if(g){if("string"===typeof g)return E(g,l);var h=Object.prototype.toString.call(g).slice(8,-1);"Object"===h&&g.constructor&&(h=g.constructor.name);if("Map"===h||"Set"===h)return Array.from(g);if("Arguments"===
h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return E(g,l)}}function E(g,l){if(null==l||l>g.length)l=g.length;for(var h=0,k=Array(l);h<l;h++)k[h]=g[h];return k}function z(){z=Object.assign?Object.assign.bind():function(g){for(var l=1;l<arguments.length;l++){var h=arguments[l],k;for(k in h)Object.prototype.hasOwnProperty.call(h,k)&&(g[k]=h[k])}return g};return z.apply(this,arguments)}G.r(Y);G.d(Y,{"default":()=>v});var C=G("./src/events.ts"),w=G("./src/types/cmcd.ts"),q=G("./src/utils/buffer-helper.ts"),
x=G("./src/utils/logger.ts"),v=function(){function g(h){var k=this;this.cid=this.sid=this.media=this.config=this.hls=void 0;this.starved=this.initialized=this.useHeaders=!1;this.buffering=!0;this.videoBuffer=this.audioBuffer=void 0;this.onWaiting=function(){k.initialized&&(k.starved=!0);k.buffering=!0};this.onPlaying=function(){k.initialized||(k.initialized=!0);k.buffering=!1};this.applyPlaylistData=function(r){try{k.apply(r,{ot:w.CMCDObjectType.MANIFEST,su:!k.initialized})}catch(u){x.logger.warn("Could not generate manifest CMCD data.",
u)}};this.applyFragmentData=function(r){try{var u=r.frag,m=k.hls.levels[u.level],f=k.getObjectType(u),c={d:1E3*u.duration,ot:f};if(f===w.CMCDObjectType.VIDEO||f===w.CMCDObjectType.AUDIO||f==w.CMCDObjectType.MUXED)c.br=m.bitrate/1E3,c.tb=k.getTopBandwidth(f)/1E3,c.bl=k.getBufferLength(f);k.apply(r,c)}catch(e){x.logger.warn("Could not generate segment CMCD data.",e)}};this.hls=h;h=this.config=h.config;var p=h.cmcd;null!=p&&(h.pLoader=this.createPlaylistLoader(),h.fLoader=this.createFragmentLoader(),
this.sid=p.sessionId||g.uuid(),this.cid=p.contentId,this.useHeaders=!0===p.useHeaders,this.registerListeners())}var l=g.prototype;l.registerListeners=function(){var h=this.hls;h.on(C.Events.MEDIA_ATTACHED,this.onMediaAttached,this);h.on(C.Events.MEDIA_DETACHED,this.onMediaDetached,this);h.on(C.Events.BUFFER_CREATED,this.onBufferCreated,this)};l.unregisterListeners=function(){var h=this.hls;h.off(C.Events.MEDIA_ATTACHED,this.onMediaAttached,this);h.off(C.Events.MEDIA_DETACHED,this.onMediaDetached,
this);h.off(C.Events.BUFFER_CREATED,this.onBufferCreated,this);this.onMediaDetached()};l.destroy=function(){this.unregisterListeners();this.hls=this.config=this.audioBuffer=this.videoBuffer=null};l.onMediaAttached=function(h,k){this.media=k.media;this.media.addEventListener("waiting",this.onWaiting);this.media.addEventListener("playing",this.onPlaying)};l.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),
this.media=null)};l.onBufferCreated=function(h,k){var p,r;this.audioBuffer=null===(p=k.tracks.audio)||void 0===p?void 0:p.buffer;this.videoBuffer=null===(r=k.tracks.video)||void 0===r?void 0:r.buffer};l.createData=function(){var h;return{v:w.CMCDVersion,sf:w.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(h=this.media)||void 0===h?void 0:h.playbackRate,mtp:this.hls.bandwidthEstimate/1E3}};l.apply=function(h,k){void 0===k&&(k={});z(k,this.createData());var p=k.ot===w.CMCDObjectType.INIT||
k.ot===w.CMCDObjectType.VIDEO||k.ot===w.CMCDObjectType.MUXED;this.starved&&p&&(k.bs=!0,k.su=!0,this.starved=!1);null==k.su&&(k.su=this.buffering);if(this.useHeaders)k=g.toHeaders(k),Object.keys(k).length&&(h.headers||(h.headers={}),z(h.headers,k));else if(k=g.toQuery(k))h.url=g.appendQueryToUri(h.url,k)};l.getObjectType=function(h){var k=h.type;if("subtitle"===k)return w.CMCDObjectType.TIMED_TEXT;if("initSegment"===h.sn)return w.CMCDObjectType.INIT;if("audio"===k)return w.CMCDObjectType.AUDIO;if("main"===
k)return this.hls.audioTracks.length?w.CMCDObjectType.VIDEO:w.CMCDObjectType.MUXED};l.getTopBandwidth=function(h){var k=0;var p=this.hls;h===w.CMCDObjectType.AUDIO?p=p.audioTracks:(h=p.maxAutoLevel,p=p.levels.slice(0,-1<h?h+1:p.levels.length));for(p=F(p);!(h=p()).done;)h=h.value,h.bitrate>k&&(k=h.bitrate);return 0<k?k:NaN};l.getBufferLength=function(h){var k=this.hls.media;return(h=h===w.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer)&&k?1E3*q.BufferHelper.bufferInfo(h,k.currentTime,this.config.maxBufferHole).len:
NaN};l.createPlaylistLoader=function(){var h=this.applyPlaylistData,k=this.config.pLoader||this.config.loader;return function(){function p(u){this.loader=void 0;this.loader=new k(u)}var r=p.prototype;r.destroy=function(){this.loader.destroy()};r.abort=function(){this.loader.abort()};r.load=function(u,m,f){h(u);this.loader.load(u,m,f)};T(p,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]);return p}()};l.createFragmentLoader=function(){var h=
this.applyFragmentData,k=this.config.fLoader||this.config.loader;return function(){function p(u){this.loader=void 0;this.loader=new k(u)}var r=p.prototype;r.destroy=function(){this.loader.destroy()};r.abort=function(){this.loader.abort()};r.load=function(u,m,f){h(u);this.loader.load(u,m,f)};T(p,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]);return p}()};g.uuid=function(){var h=URL.createObjectURL(new Blob),k=h.toString();URL.revokeObjectURL(h);
return k.slice(k.lastIndexOf("/")+1)};g.serialize=function(h){var k=[],p=function(B){return!Number.isNaN(B)&&null!=B&&""!==B&&!1!==B},r=function(B){return Math.round(B)},u=function(B){return 100*r(B/100)};u={br:r,d:r,bl:u,dl:u,mtp:u,nor:function(B){return encodeURIComponent(B)},rtp:u,tb:r};var m=Object.keys(h||{}).sort();m=F(m);for(var f;!(f=m()).done;){f=f.value;var c=h[f];if(p(c)&&("v"!==f||1!==c)&&("pr"!=f||1!==c)){var e=u[f];e&&(c=e(c));e=typeof c;var t=void 0;t="ot"===f||"sf"===f||"st"===f?f+
"\x3d"+c:"boolean"===e?f:"number"===e?f+"\x3d"+c:f+"\x3d"+JSON.stringify(c);k.push(t)}}return k.join(",")};g.toHeaders=function(h){for(var k={},p=["Object","Request","Session","Status"],r=[{},{},{},{}],u={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},m=0,f=Object.keys(h);m<f.length;m++){var c=f[m];r[null!=u[c]?u[c]:1][c]=h[c]}for(h=0;h<r.length;h++)(u=g.serialize(r[h]))&&(k["CMCD-"+p[h]]=u);return k};g.toQuery=function(h){return"CMCD\x3d"+encodeURIComponent(g.serialize(h))};
g.appendQueryToUri=function(h,k){if(!k)return h;var p=h.includes("?")?"\x26":"?";return""+h+p+k};return g}()},"./src/controller/eme-controller.ts":(oa,Y,G)=>{function X(m,f){m.prototype=Object.create(f.prototype);m.prototype.constructor=m;E(m,f)}function T(m){var f="function"===typeof Map?new Map:void 0;T=function(c){function e(){return F(c,arguments,z(this).constructor)}if(null===c||-1===Function.toString.call(c).indexOf("[native code]"))return c;if("function"!==typeof c)throw new TypeError("Super expression must either be null or a function");
if("undefined"!==typeof f){if(f.has(c))return f.get(c);f.set(c,e)}e.prototype=Object.create(c.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});return E(e,c)};return T(m)}function F(m,f,c){F=K()?Reflect.construct.bind():function(e,t,B){var y=[null];y.push.apply(y,t);e=new (Function.bind.apply(e,y));B&&E(e,B.prototype);return e};return F.apply(null,arguments)}function K(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===
typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}function E(m,f){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,e){c.__proto__=e;return c};return E(m,f)}function z(m){z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)};return z(m)}G.r(Y);G.d(Y,{"default":()=>u});var C=G("./src/events.ts"),w=G("./src/errors.ts"),q=G("./src/utils/logger.ts"),x=
G("./src/utils/mediakeys-helper.ts"),v=G("./src/utils/keysystem-util.ts"),g=G("./src/utils/numeric-encoding-utils.ts"),l=G("./src/loader/level-key.ts"),h=G("./src/utils/hex.ts"),k=G("./src/utils/mp4-tools.ts");oa=G("./node_modules/eventemitter3/index.js");var p=G.n(oa);G=function(){function m(c){this.config=this.hls=void 0;this.keyFormatPromise=this.media=null;this.keySystemAccessPromises={};this._requestLicenseFailureCount=0;this.mediaKeySessions=[];this.keyIdToKeySessionPromise={};this.setMediaKeysQueue=
m.CDMCleanupPromise?[m.CDMCleanupPromise]:[];this.onMediaEncrypted=this._onMediaEncrypted.bind(this);this.onWaitingForKey=this._onWaitingForKey.bind(this);this.debug=q.logger.debug.bind(q.logger,"[eme]");this.log=q.logger.log.bind(q.logger,"[eme]");this.warn=q.logger.warn.bind(q.logger,"[eme]");this.error=q.logger.error.bind(q.logger,"[eme]");this.hls=c;this.config=c.config;this.registerListeners()}var f=m.prototype;f.destroy=function(){this.unregisterListeners();this.onMediaDetached();this.hls=this.onMediaEncrypted=
this.onWaitingForKey=this.keyIdToKeySessionPromise=null};f.registerListeners=function(){this.hls.on(C.Events.MEDIA_ATTACHED,this.onMediaAttached,this);this.hls.on(C.Events.MEDIA_DETACHED,this.onMediaDetached,this);this.hls.on(C.Events.MANIFEST_LOADED,this.onManifestLoaded,this)};f.unregisterListeners=function(){this.hls.off(C.Events.MEDIA_ATTACHED,this.onMediaAttached,this);this.hls.off(C.Events.MEDIA_DETACHED,this.onMediaDetached,this);this.hls.off(C.Events.MANIFEST_LOADED,this.onManifestLoaded,
this)};f.getLicenseServerUrl=function(c){var e=this.config,t=e.widevineLicenseUrl;if(e=e.drmSystems[c])return e.licenseUrl;if(c===x.KeySystems.WIDEVINE&&t)return t;throw Error('no license server URL configured for key-system "'+c+'"');};f.getServerCertificateUrl=function(c){var e=this.config.drmSystems[c];if(e)return e.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+c+'"]')};f.attemptKeySystemAccess=function(c){var e=this,t=this.hls.levels,B=function(H,J,N){return!!H&&
N.indexOf(H)===J},y=t.map(function(H){return H.audioCodec}).filter(B),A=t.map(function(H){return H.videoCodec}).filter(B);0===y.length+A.length&&A.push("avc1.42e01e");return new Promise(function(H,J){(function ia(ea){var la=ea.shift();e.getMediaKeysPromise(la,y,A).then(function(S){return H({keySystem:la,mediaKeys:S})}).catch(function(S){ea.length?ia(ea):S instanceof r?J(S):J(new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:S,fatal:!0},S.message))})})(c)})};
f.requestMediaKeySystemAccess=function(c,e){var t=this.config.requestMediaKeySystemAccessFunc;return"function"!==typeof t?(c="Configured requestMediaKeySystemAccess is not a function "+t,null===x.requestMediaKeySystemAccess&&"http:"===self.location.protocol&&(c="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(Error(c))):t(c,e)};f.getMediaKeysPromise=function(c,e,t){var B=this;e=(0,x.getSupportedMediaKeySystemConfigurations)(c,e,t,this.config.drmSystemOptions);
var y=this.keySystemAccessPromises[c];t=null===y||void 0===y?void 0:y.keySystemAccess;if(!t){this.log('Requesting encrypted media "'+c+'" key-system access with config: '+JSON.stringify(e));t=this.requestMediaKeySystemAccess(c,e);var A=this.keySystemAccessPromises[c]={keySystemAccess:t};t.catch(function(H){B.log('Failed to obtain access to key-system "'+c+'": '+H)});return t.then(function(H){B.log('Access for key-system "'+H.keySystem+'" obtained');var J=B.fetchServerCertificate(c);B.log('Create media-keys for "'+
c+'"');A.mediaKeys=H.createMediaKeys().then(function(N){B.log('Media-keys created for "'+c+'"');return J.then(function(ea){return ea?B.setMediaKeysServerCertificate(N,c,ea):N})});A.mediaKeys.catch(function(N){B.error('Failed to create media-keys for "'+c+'"}: '+N)});return A.mediaKeys})}return t.then(function(){return y.mediaKeys})};f.createMediaKeySessionContext=function(c){var e=c.decryptdata,t=c.keySystem;c=c.mediaKeys;console.assert(!!c,"mediaKeys is defined");this.log('Creating key-system session "'+
t+'" keyId: '+h["default"].hexDump(e.keyId||[]));var B=c.createSession();e={decryptdata:e,keySystem:t,mediaKeys:c,mediaKeysSession:B,keyStatus:"status-pending"};this.mediaKeySessions.push(e);return e};f.renewKeySession=function(c){var e=c.decryptdata;if(e.pssh){var t=this.createMediaKeySessionContext(c),B=this.getKeyIdString(e);this.keyIdToKeySessionPromise[B]=this.generateRequestWithPreferredKeySession(t,"cenc",e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");
this.removeSession(c)};f.getKeyIdString=function(c){if(!c)throw Error("Could not read keyId of undefined decryptdata");if(null===c.keyId)throw Error("keyId is null");return h["default"].hexDump(c.keyId)};f.updateKeySession=function(c,e){var t,B=c.mediaKeysSession;this.log('Updating key-session "'+B.sessionId+'" for keyID '+h["default"].hexDump((null===(t=c.decryptdata)||void 0===t?void 0:t.keyId)||[])+"\n      } (data length: "+(e?e.byteLength:e)+")");return B.update(e)};f.selectKeySystemFormat=function(c){var e=
Object.keys(c.levelkeys||{});this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+c.sn+" "+c.type+": "+c.level+") key formats "+e.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(e));return this.keyFormatPromise};f.getKeyFormatPromise=function(c){var e=this;return new Promise(function(t,B){var y=(0,x.getKeySystemsForConfig)(e.config),A=c.map(x.keySystemFormatToKeySystemDomain).filter(function(H){return!!H&&-1!==y.indexOf(H)});return e.getKeySystemSelectionPromise(A).then(function(H){H=
H.keySystem;var J=(0,x.keySystemDomainToKeySystemFormat)(H);J?t(J):B(Error('Unable to find format for key-system "'+H+'"'))}).catch(B)})};f.loadKey=function(c){var e=this,t=c.keyInfo.decryptdata,B=this.getKeyIdString(t),y="(keyId: "+B+' format: "'+t.keyFormat+'" method: '+t.method+" uri: "+t.uri+")";this.log("Starting session for key "+y);var A=this.keyIdToKeySessionPromise[B];A||(A=this.keyIdToKeySessionPromise[B]=this.getKeySystemForKeyPromise(t).then(function(H){var J=H.keySystem,N=H.mediaKeys;
e.throwIfDestroyed();e.log("Handle encrypted media sn: "+c.frag.sn+" "+c.frag.type+": "+c.frag.level+" using key "+y);return e.attemptSetMediaKeys(J,N).then(function(){e.throwIfDestroyed();var ea=e.createMediaKeySessionContext({keySystem:J,mediaKeys:N,decryptdata:t});return e.generateRequestWithPreferredKeySession(ea,"cenc",t.pssh,"playlist-key")})}),A.catch(function(H){return e.handleError(H)}));return A};f.throwIfDestroyed=function(c){if(!this.hls)throw Error("invalid state");};f.handleError=function(c){this.hls&&
(this.error(c.message),c instanceof r?this.hls.trigger(C.Events.ERROR,c.data):this.hls.trigger(C.Events.ERROR,{type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:c,fatal:!0}))};f.getKeySystemForKeyPromise=function(c){var e=this.getKeyIdString(c);e=this.keyIdToKeySessionPromise[e];return e?e:(c=(c=(0,x.keySystemFormatToKeySystemDomain)(c.keyFormat))?[c]:(0,x.getKeySystemsForConfig)(this.config),this.attemptKeySystemAccess(c))};f.getKeySystemSelectionPromise=function(c){c.length||
(c=(0,x.getKeySystemsForConfig)(this.config));if(0===c.length)throw new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(c)};f._onMediaEncrypted=function(c){var e=this,t=c.initDataType,B=c.initData;this.debug('"'+c.type+'" event: init data type: "'+t+'"');if(null!==B){if("sinf"===t&&this.config.drmSystems[x.KeySystems.FAIRPLAY]){c=
(0,k.bin2str)(new Uint8Array(B));try{var y=(0,g.base64Decode)(JSON.parse(c).sinf),A=(0,k.parseSinf)(new Uint8Array(y));if(!A)return;var H=A.subarray(8,24);var J=x.KeySystems.FAIRPLAY}catch(S){this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{J=(0,k.parsePssh)(B);if(null===J)return;0===J.version&&J.systemId===x.KeySystemIds.WIDEVINE&&J.data&&(H=J.data.subarray(8,24));J=(0,x.keySystemIdToKeySystemDomain)(J.systemId)}if(J&&H){var N=h["default"].hexDump(H),ea=this.keyIdToKeySessionPromise,
ia=this.mediaKeySessions,la=ea[N];y=function(S){var aa=ia[S];S=aa.decryptdata;if(S.pssh||!S.keyId)return"continue";var da=h["default"].hexDump(S.keyId);if(N===da||-1!==S.uri.replace(/-/g,"").indexOf(N))return la=ea[da],delete ea[da],S.pssh=new Uint8Array(B),S.keyId=H,la=ea[N]=la.then(function(){return e.generateRequestWithPreferredKeySession(aa,t,B,"encrypted-event-key-match")}),"break"};for(A=0;A<ia.length&&(c=y(A),"continue"===c||"break"!==c);A++);la||(la=ea[N]=this.getKeySystemSelectionPromise([J]).then(function(S){var aa,
da=S.keySystem,ma=S.mediaKeys;e.throwIfDestroyed();var na=new l.LevelKey("ISO-23001-7",N,null!=(aa=(0,x.keySystemDomainToKeySystemFormat)(da))?aa:"");na.pssh=new Uint8Array(B);na.keyId=H;return e.attemptSetMediaKeys(da,ma).then(function(){e.throwIfDestroyed();var Ba=e.createMediaKeySessionContext({decryptdata:na,keySystem:da,mediaKeys:ma});return e.generateRequestWithPreferredKeySession(Ba,t,B,"encrypted-event-no-match")})}));la.catch(function(S){return e.handleError(S)})}}};f._onWaitingForKey=function(c){this.log('"'+
c.type+'" event')};f.attemptSetMediaKeys=function(c,e){var t=this,B=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+c+'"');var y=Promise.all(B).then(function(){if(!t.media)throw Error("Attempted to set mediaKeys without media element attached");return t.media.setMediaKeys(e)});this.setMediaKeysQueue.push(y);return y.then(function(){t.log('Media-keys set for "'+c+'"');B.push(y);t.setMediaKeysQueue=t.setMediaKeysQueue.filter(function(A){return-1===B.indexOf(A)})})};f.generateRequestWithPreferredKeySession=
function(c,e,t,B){var y,A,H=this,J=null===(y=this.config.drmSystems)||void 0===y?void 0:null===(A=y[c.keySystem])||void 0===A?void 0:A.generateRequest;if(J)try{var N=J.call(this.hls,e,t,c);if(!N)throw Error("Invalid response from configured generateRequest filter");e=N.initDataType;t=c.decryptdata.pssh=N.initData?new Uint8Array(N.initData):null}catch(aa){var ea;this.warn(aa.message);if(null!==(ea=this.hls)&&void 0!==ea&&ea.config.debug)throw aa;}if(null===t)return this.log('Skipping key-session request for "'+
B+'" (no initData)'),Promise.resolve(c);var ia=this.getKeyIdString(c.decryptdata);this.log('Generating key-session request for "'+B+'": '+ia+" (init data type: "+e+" length: "+(t?t.byteLength:null)+")");var la=new (p());c.mediaKeysSession.onmessage=function(aa){var da=c.mediaKeysSession;if(da){var ma=aa.messageType;aa=aa.message;H.log('"'+ma+'" message event for session "'+da.sessionId+'" message size: '+aa.byteLength);"license-request"===ma||"license-renewal"===ma?H.renewLicense(c,aa).catch(function(na){H.handleError(na);
la.emit("error",na)}):"license-release"===ma?c.keySystem===x.KeySystems.FAIRPLAY&&(H.updateKeySession(c,(0,v.strToUtf8array)("acknowledged")),H.removeSession(c)):H.warn('unhandled media key message type "'+ma+'"')}else la.emit("error",Error("invalid state"))};c.mediaKeysSession.onkeystatuseschange=function(aa){c.mediaKeysSession?(H.onKeyStatusChange(c),aa=c.keyStatus,la.emit("keyStatus",aa),"expired"===aa&&(H.warn(c.keySystem+" expired for key "+ia),H.renewKeySession(c))):la.emit("error",Error("invalid state"))};
var S=new Promise(function(aa,da){la.on("error",da);la.on("keyStatus",function(ma){ma.startsWith("usable")?aa():"output-restricted"===ma?da(new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===ma?da(new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+ma+'"')):"expired"===ma?da(Error("key expired while generating request")):
H.warn('unhandled key status change "'+ma+'"')})});return c.mediaKeysSession.generateRequest(e,t).then(function(){var aa;H.log('Request generated for key-session "'+(null===(aa=c.mediaKeysSession)||void 0===aa?void 0:aa.sessionId)+'" keyId: '+ia)}).catch(function(aa){throw new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:aa,fatal:!1},"Error generating key-session request: "+aa);}).then(function(){return S}).catch(function(aa){la.removeAllListeners();H.removeSession(c);
throw aa;}).then(function(){la.removeAllListeners();return c})};f.onKeyStatusChange=function(c){var e=this;c.mediaKeysSession.keyStatuses.forEach(function(t,B){e.log('key status change "'+t+'" for keyStatuses keyId: '+h["default"].hexDump("buffer"in B?new Uint8Array(B.buffer,B.byteOffset,B.byteLength):new Uint8Array(B))+" session keyId: "+h["default"].hexDump(new Uint8Array(c.decryptdata.keyId||[]))+" uri: "+c.decryptdata.uri);c.keyStatus=t})};f.fetchServerCertificate=function(c){var e=this;return new Promise(function(t,
B){var y=e.getServerCertificateUrl(c);if(!y)return t();e.log('Fetching serverCertificate for "'+c+'"');var A=new XMLHttpRequest;A.open("GET",y,!0);A.responseType="arraybuffer";A.onreadystatechange=function(){A.readyState===XMLHttpRequest.DONE&&(200===A.status?t(A.response):B(new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:A},'"'+c+'" certificate request XHR failed ('+y+"). Status: "+A.status+" ("+A.statusText+")")))};
A.send()})};f.setMediaKeysServerCertificate=function(c,e,t){var B=this;return new Promise(function(y,A){c.setServerCertificate(t).then(function(H){B.log("setServerCertificate "+(H?"success":"not supported by CDM")+" ("+(null===t||void 0===t?void 0:t.byteLength)+') on "'+e+'"');y(c)}).catch(function(H){A(new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:H,fatal:!0},H.message))})})};f.renewLicense=function(c,e){var t=this;return this.requestLicense(c,
new Uint8Array(e)).then(function(B){return t.updateKeySession(c,new Uint8Array(B)).catch(function(y){throw new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:y,fatal:!0},y.message);})})};f.setupLicenseXHR=function(c,e,t,B){var y=this,A=this.config.licenseXhrSetup;return A?Promise.resolve().then(function(){if(!t.decryptdata)throw Error("Key removed");return A.call(y.hls,c,e,t,B)}).catch(function(H){if(!t.decryptdata)throw H;c.open("POST",e,!0);return A.call(y.hls,
c,e,t,B)}).then(function(H){c.readyState||c.open("POST",e,!0);return{xhr:c,licenseChallenge:H?H:B}}):(c.open("POST",e,!0),Promise.resolve({xhr:c,licenseChallenge:B}))};f.requestLicense=function(c,e){var t=this;return new Promise(function(B,y){var A=t.getLicenseServerUrl(c.keySystem);t.log("Sending license request to URL: "+A);var H=new XMLHttpRequest;H.responseType="arraybuffer";H.onreadystatechange=function(){if(!t.hls||!c.mediaKeysSession)return y(Error("invalid state"));if(4===H.readyState)if(200===
H.status){t._requestLicenseFailureCount=0;var J=H.response;t.log("License received "+(J instanceof ArrayBuffer?J.byteLength:J));var N=t.config.licenseResponseCallback;if(N)try{J=N.call(t.hls,H,A,c)}catch(ea){t.error(ea)}B(J)}else t._requestLicenseFailureCount++,3<t._requestLicenseFailureCount||400<=H.status&&500>H.status?y(new r({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:H},"License Request XHR failed ("+A+"). Status: "+H.status+
" ("+H.statusText+")")):(t.warn("Retrying license request, "+(3-t._requestLicenseFailureCount+1)+" attempts left"),t.requestLicense(c,e).then(B,y))};c.licenseXhr&&c.licenseXhr.readyState!==XMLHttpRequest.DONE&&c.licenseXhr.abort();c.licenseXhr=H;t.setupLicenseXHR(H,A,c,e).then(function(J){J.xhr.send(J.licenseChallenge)})})};f.onMediaAttached=function(c,e){this.config.emeEnabled&&(this.media=c=e.media,c.addEventListener("encrypted",this.onMediaEncrypted),c.addEventListener("waitingforkey",this.onWaitingForKey))};
f.onMediaDetached=function(){var c=this,e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null);this._requestLicenseFailureCount=0;this.setMediaKeysQueue=[];this.mediaKeySessions=[];this.keyIdToKeySessionPromise={};l.LevelKey.clearKeyUriToKeyIdMap();var B=t.length;m.CDMCleanupPromise=Promise.all(t.map(function(y){return c.removeSession(y)}).concat(null===e||void 0===e?void 0:e.setMediaKeys(null).catch(function(y){c.log("Could not clear media keys: "+
y+". media.src: "+(null===e||void 0===e?void 0:e.src))}))).then(function(){B&&(c.log("finished closing key sessions and clearing media keys"),t.length=0)}).catch(function(y){c.log("Could not close sessions and clear media keys: "+y+". media.src: "+(null===e||void 0===e?void 0:e.src))})};f.onManifestLoaded=function(c,e){(c=e.sessionKeys)&&this.config.emeEnabled&&!this.keyFormatPromise&&(c=c.reduce(function(t,B){-1===t.indexOf(B.keyFormat)&&t.push(B.keyFormat);return t},[]),this.log("Selecting key-system from session-keys "+
c.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(c))};f.removeSession=function(c){var e=this,t=c.mediaKeysSession,B=c.licenseXhr;if(t)return this.log("Remove licenses and keys and close session "+t.sessionId),t.onmessage=null,t.onkeystatuseschange=null,B&&B.readyState!==XMLHttpRequest.DONE&&B.abort(),c.mediaKeysSession=c.decryptdata=c.licenseXhr=void 0,c=this.mediaKeySessions.indexOf(c),-1<c&&this.mediaKeySessions.splice(c,1),t.remove().catch(function(y){e.log("Could not remove session: "+
y)}).then(function(){return t.close()}).catch(function(y){e.log("Could not close session: "+y)})};return m}();G.CDMCleanupPromise=void 0;var r=function(m){function f(c,e){e=m.call(this,e)||this;e.data=void 0;e.data=c;c.err=c.error;return e}X(f,m);return f}(T(Error));const u=G},"./src/controller/fps-controller.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>F});var X=G("./src/events.ts"),T=G("./src/utils/logger.ts");const F=function(){function K(z){this.hls=void 0;this.isVideoPlaybackQualityAvailable=!1;
this.timer=void 0;this.media=null;this.lastTime=void 0;this.lastDecodedFrames=this.lastDroppedFrames=0;this.streamController=void 0;this.hls=z;this.registerListeners()}var E=K.prototype;E.setStreamController=function(z){this.streamController=z};E.registerListeners=function(){this.hls.on(X.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)};E.unregisterListeners=function(){this.hls.off(X.Events.MEDIA_ATTACHING,this.onMediaAttaching)};E.destroy=function(){this.timer&&clearInterval(this.timer);this.unregisterListeners();
this.isVideoPlaybackQualityAvailable=!1;this.media=null};E.onMediaAttaching=function(z,C){z=this.hls.config;z.capLevelOnFPSDrop&&((this.media=C=C.media instanceof self.HTMLVideoElement?C.media:null)&&"function"===typeof C.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),z.fpsDroppedMonitoringPeriod))};E.checkFPS=function(z,C,w){z=performance.now();if(C){if(this.lastTime){var q=w-this.lastDroppedFrames,
x=C-this.lastDecodedFrames,v=1E3*q/(z-this.lastTime),g=this.hls;g.trigger(X.Events.FPS_DROP,{currentDropped:q,currentDecoded:x,totalDroppedFrames:w});0<v&&q>g.config.fpsDroppedMonitoringThreshold*x&&(q=g.currentLevel,T.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+q),0<q&&(-1===g.autoLevelCapping||g.autoLevelCapping>=q)&&(--q,g.trigger(X.Events.FPS_DROP_LEVEL_CAPPING,{level:q,droppedLevel:g.currentLevel}),g.autoLevelCapping=q,this.streamController.nextLevelSwitch()))}this.lastTime=
z;this.lastDroppedFrames=w;this.lastDecodedFrames=C}};E.checkFPSInterval=function(){var z=this.media;if(z)if(this.isVideoPlaybackQualityAvailable){var C=z.getVideoPlaybackQuality();this.checkFPS(z,C.totalVideoFrames,C.droppedVideoFrames)}else this.checkFPS(z,z.webkitDecodedFrameCount,z.webkitDroppedFrameCount)};return K}()},"./src/controller/fragment-finders.ts":(oa,Y,G)=>{function X(w,q,x){if(null===q||!Array.isArray(w)||!w.length||!(0,z.isFiniteNumber)(q)||q<(w[0].programDateTime||0)||q>=(w[w.length-
1].endProgramDateTime||0))return null;x=x||0;for(var v=0;v<w.length;++v){var g=w[v];if(K(q,x,g))return g}return null}function T(w,q,x,v){void 0===x&&(x=0);void 0===v&&(v=0);var g=null;w?g=q[w.sn-q[0].sn+1]||null:0===x&&0===q[0].start&&(g=q[0]);if(g&&0===F(x,v,g))return g;q=C["default"].search(q,F.bind(null,x,v));return!q||q===w&&g?g:q}function F(w,q,x){void 0===w&&(w=0);void 0===q&&(q=0);if(x.start<=w&&x.start+x.duration>w)return 0;q=Math.min(q,x.duration+(x.deltaPTS?x.deltaPTS:0));return x.start+
x.duration-q<=w?1:x.start-q>w&&x.start?-1:0}function K(w,q,x){return(x.endProgramDateTime||0)-1E3*Math.min(q,x.duration+(x.deltaPTS?x.deltaPTS:0))>w}function E(w,q){return C["default"].search(w,function(x){return x.cc<q?1:x.cc>q?-1:0})}G.r(Y);G.d(Y,{findFragWithCC:()=>E,findFragmentByPDT:()=>X,findFragmentByPTS:()=>T,fragmentWithinToleranceTest:()=>F,pdtWithinToleranceTest:()=>K});var z=G("./src/polyfills/number.ts"),C=G("./src/utils/binary-search.ts")},"./src/controller/fragment-tracker.ts":(oa,
Y,G)=>{function X(C){var w,q;return C.buffered&&((null===(w=C.range.video)||void 0===w?void 0:w.partial)||(null===(q=C.range.audio)||void 0===q?void 0:q.partial))}function T(C){return C.type+"_"+C.level+"_"+C.urlId+"_"+C.sn}G.r(Y);G.d(Y,{FragmentState:()=>E,FragmentTracker:()=>z});var F=G("./src/events.ts"),K=G("./src/types/loader.ts"),E;(function(C){C.NOT_LOADED="NOT_LOADED";C.APPENDING="APPENDING";C.PARTIAL="PARTIAL";C.OK="OK"})(E||(E={}));var z=function(){function C(q){this.activeParts=this.activeFragment=
null;this.endListFragments=Object.create(null);this.fragments=Object.create(null);this.timeRanges=Object.create(null);this.bufferPadding=.2;this.hls=q;this._registerListeners()}var w=C.prototype;w._registerListeners=function(){var q=this.hls;q.on(F.Events.BUFFER_APPENDED,this.onBufferAppended,this);q.on(F.Events.FRAG_BUFFERED,this.onFragBuffered,this);q.on(F.Events.FRAG_LOADED,this.onFragLoaded,this)};w._unregisterListeners=function(){var q=this.hls;q.off(F.Events.BUFFER_APPENDED,this.onBufferAppended,
this);q.off(F.Events.FRAG_BUFFERED,this.onFragBuffered,this);q.off(F.Events.FRAG_LOADED,this.onFragLoaded,this)};w.destroy=function(){this._unregisterListeners();this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null};w.getAppendedFrag=function(q,x){if(x===K.PlaylistLevelType.MAIN){var v=this.activeFragment,g=this.activeParts;if(!v)return null;if(g)for(var l=g.length;l--;){var h=g[l],k=h?h.end:v.appendedPTS;if(h.start<=q&&void 0!==k&&q<=k)return 9<l&&(this.activeParts=
g.slice(l-9)),h}else if(v.start<=q&&void 0!==v.appendedPTS&&q<=v.appendedPTS)return v}return this.getBufferedFrag(q,x)};w.getBufferedFrag=function(q,x){for(var v=this.fragments,g=Object.keys(v),l=g.length;l--;){var h=v[g[l]];if((null===h||void 0===h?void 0:h.body.type)===x&&h.buffered&&(h=h.body,h.start<=q&&q<=h.end))return h}return null};w.detectEvictedFragments=function(q,x,v){var g=this;this.timeRanges&&(this.timeRanges[q]=x);Object.keys(this.fragments).forEach(function(l){var h=g.fragments[l];
h&&(h.buffered||h.loaded?(l=h.range[q])&&l.time.some(function(k){(k=!g.isTimeBuffered(k.startPTS,k.endPTS,x))&&g.removeFragment(h.body);return k}):h.body.type===v&&g.removeFragment(h.body))})};w.detectPartialFragments=function(q){var x=this,v=this.timeRanges,g=q.frag,l=q.part;if(v&&"initSegment"!==g.sn){q=T(g);var h=this.fragments[q];h&&(Object.keys(v).forEach(function(k){var p=g.elementaryStreams[k];p&&(h.range[k]=x.getBufferedTimes(g,l,null!==l||!0===p.partial,v[k]))}),h.loaded=null,Object.keys(h.range).length?
(h.buffered=!0,h.body.endList&&(this.endListFragments[h.body.type]=h)):this.removeFragment(h.body))}};w.fragBuffered=function(q){q=T(q);if(q=this.fragments[q])q.loaded=null,q.buffered=!0};w.getBufferedTimes=function(q,x,v,g){v={time:[],partial:v};var l=x?x.start:q.start;x=x?x.end:q.end;var h=q.minEndPTS||x;q=q.maxStartPTS||l;for(var k=0;k<g.length;k++){var p=g.start(k)-this.bufferPadding,r=g.end(k)+this.bufferPadding;if(q>=p&&h<=r){v.time.push({startPTS:Math.max(l,g.start(k)),endPTS:Math.min(x,g.end(k))});
break}else if(l<r&&x>p)v.partial=!0,v.time.push({startPTS:Math.max(l,g.start(k)),endPTS:Math.min(x,g.end(k))});else if(x<=p)break}return v};w.getPartialFragment=function(q){var x=null,v,g,l,h=0,k=this.bufferPadding,p=this.fragments;Object.keys(p).forEach(function(r){(r=p[r])&&X(r)&&(g=r.body.start-k,l=r.body.end+k,q>=g&&q<=l&&(v=Math.min(q-g,l-q),h<=v&&(x=r.body,h=v)))});return x};w.isEndListAppended=function(q){q=this.endListFragments[q];return void 0!==q&&(q.buffered||X(q))};w.getState=function(q){q=
T(q);return(q=this.fragments[q])?q.buffered?X(q)?E.PARTIAL:E.OK:E.APPENDING:E.NOT_LOADED};w.isTimeBuffered=function(q,x,v){for(var g,l,h=0;h<v.length;h++){g=v.start(h)-this.bufferPadding;l=v.end(h)+this.bufferPadding;if(q>=g&&x<=l)return!0;if(x<=g)break}return!1};w.onFragLoaded=function(q,x){q=x.frag;var v=x.part;"initSegment"===q.sn||q.bitrateTest||v||(v=T(q),this.fragments[v]={body:q,loaded:x,buffered:!1,range:Object.create(null)})};w.onBufferAppended=function(q,x){var v=this,g=x.frag,l=x.part,
h=x.timeRanges;g.type===K.PlaylistLevelType.MAIN&&(this.activeFragment!==g&&(this.activeFragment=g,g.appendedPTS=void 0),l?(q=this.activeParts,q||(this.activeParts=q=[]),q.push(l)):this.activeParts=null);this.timeRanges=h;Object.keys(h).forEach(function(k){var p=h[k];v.detectEvictedFragments(k,p);if(!l&&g.type===K.PlaylistLevelType.MAIN&&(k=g.elementaryStreams[k]))for(var r=0;r<p.length;r++){var u=p.end(r);g.appendedPTS=u<=k.endPTS&&u>k.startPTS?Math.max(u,g.appendedPTS||0):k.endPTS}})};w.onFragBuffered=
function(q,x){this.detectPartialFragments(x)};w.hasFragment=function(q){q=T(q);return!!this.fragments[q]};w.removeFragmentsInRange=function(q,x,v){var g=this;Object.keys(this.fragments).forEach(function(l){(l=g.fragments[l])&&l.buffered&&(l=l.body,l.type===v&&l.start<x&&l.end>q&&g.removeFragment(l))})};w.removeFragment=function(q){var x=T(q);q.stats.loaded=0;q.clearElementaryStreamInfo();q.appendedPTS=void 0;delete this.fragments[x];q.endList&&delete this.endListFragments[q.type]};w.removeAllFragments=
function(){this.fragments=Object.create(null);this.endListFragments=Object.create(null);this.activeParts=this.activeFragment=null};return C}()},"./src/controller/gap-controller.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{MAX_START_GAP_JUMP:()=>z,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>C,SKIP_BUFFER_RANGE_START:()=>w,STALL_MINIMUM_DURATION_MS:()=>E,"default":()=>q});var X=G("./src/utils/buffer-helper.ts"),T=G("./src/errors.ts"),F=G("./src/events.ts"),K=G("./src/utils/logger.ts"),E=250,z=2,C=.1,w=.05,q=function(){function x(g,
l,h,k){this.config=void 0;this.media=null;this.hls=this.fragmentTracker=void 0;this.nudgeRetry=0;this.stallReported=!1;this.stalled=null;this.seeking=this.moved=!1;this.config=g;this.media=l;this.fragmentTracker=h;this.hls=k}var v=x.prototype;v.destroy=function(){this.hls=this.fragmentTracker=this.media=null};v.poll=function(g,l){var h=this.config,k=this.media,p=this.stalled;if(null!==k){var r=k.currentTime,u=k.seeking,m=this.seeking&&!u,f=!this.seeking&&u;this.seeking=u;if(r!==g)this.moved=!0,null!==
p&&(this.stallReported&&(h=self.performance.now()-p,K.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(h)+"ms"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0);else{if(f||m)this.stalled=null;if(!(k.paused&&!u||k.ended||0===k.playbackRate)&&X.BufferHelper.getBuffered(k).length&&(g=X.BufferHelper.bufferInfo(k,r,0),m=g.nextStart||0,0<g.len||m)){if(u){f=g.len>z;l=!m||l&&l.start<=r||m-r>z&&!this.fragmentTracker.getPartialFragment(r);if(f||l)return;this.moved=!1}if(!this.moved&&
null!==this.stalled){var c;l=Math.max(m,g.start||0)-r;m=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null;f=(null===m||void 0===m?0:null===(c=m.details)||void 0===c?0:c.live)?2*m.details.targetduration:z;if(0<l&&l<=f){this._trySkipBufferHole(null);return}}c=self.performance.now();if(null===p)this.stalled=c;else{p=c-p;if(!u&&p>=E&&(this._reportStall(g),!this.media))return;r=X.BufferHelper.bufferInfo(k,r,h.maxBufferHole);this._tryFixBufferStall(r,p)}}}}};v._tryFixBufferStall=function(g,l){var h=
this.config,k=this.media;null!==k&&(k=this.fragmentTracker.getPartialFragment(k.currentTime),(!k||!this._trySkipBufferHole(k)&&this.media)&&g.len>h.maxBufferHole&&l>1E3*h.highBufferWatchdogPeriod&&(K.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer()))};v._reportStall=function(g){var l=this.hls,h=this.media;!this.stallReported&&h&&(this.stallReported=!0,K.logger.warn("Playback stalling at @"+h.currentTime+" due to low buffer ("+JSON.stringify(g)+")"),
l.trigger(F.Events.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:g.len}))};v._trySkipBufferHole=function(g){var l=this.config,h=this.hls,k=this.media;if(null===k)return 0;for(var p=k.currentTime,r=0,u=X.BufferHelper.getBuffered(k),m=0;m<u.length;m++){var f=u.start(m);if(p+l.maxBufferHole>=r&&p<f)return l=Math.max(f+w,k.currentTime+C),K.logger.warn("skipping hole, adjusting currentTime from "+p+" to "+l),this.moved=!0,this.stalled=null,k.currentTime=
l,g&&h.trigger(F.Events.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+p+" to "+l,frag:g}),l;r=u.end(m)}return 0};v._tryNudgeBuffer=function(){var g=this.config,l=this.hls,h=this.media,k=this.nudgeRetry;if(null!==h){var p=h.currentTime;this.nudgeRetry++;k<g.nudgeMaxRetry?(g=p+(k+1)*g.nudgeOffset,K.logger.warn("Nudging 'currentTime' from "+p+" to "+g),h.currentTime=g,l.trigger(F.Events.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,
details:T.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})):(K.logger.error("Playhead still not moving while enough data buffered @"+p+" after "+g.nudgeMaxRetry+" nudges"),l.trigger(F.Events.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0}))}};return x}()},"./src/controller/id3-track-controller.ts":(oa,Y,G)=>{function X(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}function T(v,g){return v.getTime()/1E3-g}G.r(Y);G.d(Y,{"default":()=>x});var F=G("./src/polyfills/number.ts"),
K=G("./src/events.ts"),E=G("./src/utils/texttrack-utils.ts"),z=G("./src/demux/id3.ts"),C=G("./src/loader/date-range.ts"),w=G("./src/types/demuxer.ts"),q=function(){var v=X();try{new v(0,Number.POSITIVE_INFINITY,"")}catch(g){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();const x=function(){function v(l){this.hls=void 0;this.media=this.id3Track=null;this.dateRangeCuesAppended={};this.hls=l;this._registerListeners()}var g=v.prototype;g.destroy=function(){this._unregisterListeners();this.media=
this.id3Track=null;this.dateRangeCuesAppended={};this.hls=null};g._registerListeners=function(){var l=this.hls;l.on(K.Events.MEDIA_ATTACHED,this.onMediaAttached,this);l.on(K.Events.MEDIA_DETACHING,this.onMediaDetaching,this);l.on(K.Events.MANIFEST_LOADING,this.onManifestLoading,this);l.on(K.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this);l.on(K.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);l.on(K.Events.LEVEL_UPDATED,this.onLevelUpdated,this)};g._unregisterListeners=function(){var l=
this.hls;l.off(K.Events.MEDIA_ATTACHED,this.onMediaAttached,this);l.off(K.Events.MEDIA_DETACHING,this.onMediaDetaching,this);l.off(K.Events.MANIFEST_LOADING,this.onManifestLoading,this);l.off(K.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this);l.off(K.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);l.off(K.Events.LEVEL_UPDATED,this.onLevelUpdated,this)};g.onMediaAttached=function(l,h){this.media=h.media};g.onMediaDetaching=function(){this.id3Track&&((0,E.clearCurrentCues)(this.id3Track),
this.media=this.id3Track=null,this.dateRangeCuesAppended={})};g.onManifestLoading=function(){this.dateRangeCuesAppended={}};g.createTrack=function(l){l=this.getID3Track(l.textTracks);l.mode="hidden";return l};g.getID3Track=function(l){if(this.media){for(var h=0;h<l.length;h++){var k=l[h];if("metadata"===k.kind&&"id3"===k.label)return(0,E.sendAddTrackEvent)(k,this.media),k}return this.media.addTextTrack("metadata","id3")}};g.onFragParsingMetadata=function(l,h){if(this.media){var k=this.hls.config;
l=k.enableEmsgMetadataCues;k=k.enableID3MetadataCues;if(l||k){h=h.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var p=X(),r=0;r<h.length;r++){var u=h[r].type;if((u!==w.MetadataSchema.emsg||l)&&k){var m=z.getID3Frames(h[r].data);if(m){var f=h[r].pts,c=f+h[r].duration;c>q&&(c=q);0>=c-f&&(c=f+.25);for(var e=0;e<m.length;e++){var t=m[e];if(!z.isTimeStampFrame(t)){this.updateId3CueEnds(f);var B=new p(f,c,"");B.value=t;u&&(B.type=u);this.id3Track.addCue(B)}}}}}}}};g.updateId3CueEnds=
function(l){var h,k=null===(h=this.id3Track)||void 0===h?void 0:h.cues;if(k)for(h=k.length;h--;){var p=k[h];p.startTime<l&&p.endTime===q&&(p.endTime=l)}};g.onBufferFlushing=function(l,h){l=h.startOffset;var k=h.endOffset;h=h.type;var p=this.id3Track,r=this.hls;if(r){r=r.config;var u=r.enableEmsgMetadataCues,m=r.enableID3MetadataCues;p&&(u||m)&&(0,E.removeCuesInRange)(p,l,k,"audio"===h?function(f){return f.type===w.MetadataSchema.audioId3&&m}:"video"===h?function(f){return f.type===w.MetadataSchema.emsg&&
u}:function(f){return f.type===w.MetadataSchema.audioId3&&m||f.type===w.MetadataSchema.emsg&&u})}};g.onLevelUpdated=function(l,h){var k=this;l=h.details;if(this.media&&l.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var p=this.dateRangeCuesAppended,r=this.id3Track,u=l.dateRanges,m=Object.keys(u);if(r){var f=Object.keys(p).filter(function(B){return!m.includes(B)});h=function(B){var y=f[B];Object.keys(p[y].cues).forEach(function(A){r.removeCue(p[y].cues[A])});delete p[y]};for(var c=
f.length;c--;)h(c)}l=l.fragments[l.fragments.length-1];if(0!==m.length&&(0,F.isFiniteNumber)(null===l||void 0===l?void 0:l.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));var e=l.programDateTime/1E3-l.start,t=X();l=function(B){B=m[B];var y=u[B],A=p[B],H=(null===A||void 0===A?void 0:A.cues)||{},J=(null===A||void 0===A?void 0:A.durationKnown)||!1,N=T(y.startDate,e),ea=q,ia=y.endDate;ia?(ea=T(ia,e),J=!0):y.endOnNext&&!J&&(ia=m.reduce(function(ma,na){var Ba=u[na];Ba.class===
y.class&&Ba.id!==na&&Ba.startDate>y.startDate&&ma.push(Ba);return ma},[]).sort(function(ma,na){return ma.startDate.getTime()-na.startDate.getTime()})[0])&&(ea=T(ia.startDate,e),J=!0);ia=Object.keys(y.attr);for(var la=0;la<ia.length;la++){var S=ia[la];if(S!==C.DateRangeAttribute.ID&&S!==C.DateRangeAttribute.CLASS&&S!==C.DateRangeAttribute.START_DATE&&S!==C.DateRangeAttribute.DURATION&&S!==C.DateRangeAttribute.END_DATE&&S!==C.DateRangeAttribute.END_ON_NEXT){var aa=H[S];if(aa)J&&!A.durationKnown&&(aa.endTime=
ea);else{var da=y.attr[S];aa=new t(N,ea,"");if(S===C.DateRangeAttribute.SCTE35_OUT||S===C.DateRangeAttribute.SCTE35_IN)da=Uint8Array.from(da.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer;aa.value={key:S,data:da};aa.type=w.MetadataSchema.dateRange;k.id3Track.addCue(aa);H[S]=aa}}}p[B]={cues:H,dateRange:y,durationKnown:J}};for(h=0;h<m.length;h++)l(h)}}};return v}()},"./src/controller/latency-controller.ts":(oa,Y,G)=>{function X(C,w){for(var q=0;q<w.length;q++){var x=
w[q];x.enumerable=x.enumerable||!1;x.configurable=!0;"value"in x&&(x.writable=!0);var v=Object,g=v.defineProperty;a:{var l=x.key;if("object"===typeof l&&null!==l){var h=l[Symbol.toPrimitive];if(void 0!==h){l=h.call(l,"string");if("object"!==typeof l)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}l=String(l)}}g.call(v,C,"symbol"===typeof l?l:String(l),x)}}function T(C,w,q){w&&X(C.prototype,w);q&&X(C,q);Object.defineProperty(C,"prototype",{writable:!1});return C}G.r(Y);
G.d(Y,{"default":()=>z});var F=G("./src/errors.ts"),K=G("./src/events.ts"),E=G("./src/utils/logger.ts"),z=function(){function C(q){var x=this;this.config=this.hls=void 0;this.levelDetails=this.media=null;this.stallCount=this.currentTime=0;this._latency=null;this.timeupdateHandler=function(){return x.timeupdate()};this.hls=q;this.config=q.config;this.registerListeners()}var w=C.prototype;w.destroy=function(){this.unregisterListeners();this.onMediaDetaching();this.hls=this.timeupdateHandler=this.levelDetails=
null};w.registerListeners=function(){this.hls.on(K.Events.MEDIA_ATTACHED,this.onMediaAttached,this);this.hls.on(K.Events.MEDIA_DETACHING,this.onMediaDetaching,this);this.hls.on(K.Events.MANIFEST_LOADING,this.onManifestLoading,this);this.hls.on(K.Events.LEVEL_UPDATED,this.onLevelUpdated,this);this.hls.on(K.Events.ERROR,this.onError,this)};w.unregisterListeners=function(){this.hls.off(K.Events.MEDIA_ATTACHED,this.onMediaAttached);this.hls.off(K.Events.MEDIA_DETACHING,this.onMediaDetaching);this.hls.off(K.Events.MANIFEST_LOADING,
this.onManifestLoading);this.hls.off(K.Events.LEVEL_UPDATED,this.onLevelUpdated);this.hls.off(K.Events.ERROR,this.onError)};w.onMediaAttached=function(q,x){this.media=x.media;this.media.addEventListener("timeupdate",this.timeupdateHandler)};w.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)};w.onManifestLoading=function(){this._latency=this.levelDetails=null;this.stallCount=0};w.onLevelUpdated=function(q,x){this.levelDetails=
q=x.details;q.advanced&&this.timeupdate();!q.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)};w.onError=function(q,x){x.details===F.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,E.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))};w.timeupdate=function(){var q=this.media,x=this.levelDetails;if(q&&x){this.currentTime=q.currentTime;var v=this.computeLatency();if(null!==v){this._latency=v;var g=this.config,l=g.maxLiveSyncPlaybackRate;
g.lowLatencyMode&&1!==l&&(g=this.targetLatency,null!==g&&(v-=g,g=Math.min(this.maxLatency,g+x.targetduration),x.live&&v<g&&.05<v&&1<this.forwardBufferLength?q.playbackRate=Math.min(Math.min(2,Math.max(1,l)),Math.max(1,Math.round(2/(1+Math.exp(-.75*v-this.edgeStalled))*20)/20)):1!==q.playbackRate&&0!==q.playbackRate&&(q.playbackRate=1)))}}};w.estimateLiveEdge=function(){var q=this.levelDetails;return null===q?null:q.edge+q.age};w.computeLatency=function(){var q=this.estimateLiveEdge();return null===
q?null:q-this.currentTime};T(C,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var q=this.config,x=this.levelDetails;return void 0!==q.liveMaxLatencyDuration?q.liveMaxLatencyDuration:x?q.liveMaxLatencyDurationCount*x.targetduration:0}},{key:"targetLatency",get:function(){var q=this.levelDetails;if(null===q)return null;var x=q.holdBack,v=q.partHoldBack;q=q.targetduration;var g=this.config,l=g.liveSyncDuration,h=g.liveSyncDurationCount,k=this.hls.userConfig;
x=g.lowLatencyMode?v||x:x;if(k.liveSyncDuration||k.liveSyncDurationCount||0===x)x=void 0!==l?l:h*q;return x+Math.min(1*this.stallCount,q)}},{key:"liveSyncPosition",get:function(){var q=this.estimateLiveEdge(),x=this.targetLatency,v=this.levelDetails;if(null===q||null===x||null===v)return null;var g=v.edge;return Math.min(Math.max(g-v.totalduration,q-x-this.edgeStalled),g-(this.config.lowLatencyMode&&v.partTarget||v.targetduration))}},{key:"drift",get:function(){var q=this.levelDetails;return null===
q?1:q.drift}},{key:"edgeStalled",get:function(){var q=this.levelDetails;return null===q?0:Math.max(q.age-3*(this.config.lowLatencyMode&&q.partTarget||q.targetduration),0)}},{key:"forwardBufferLength",get:function(){var q=this.media,x=this.levelDetails;if(!q||!x)return 0;var v=q.buffered.length;return(v?q.buffered.end(v-1):x.edge)-this.currentTime}}]);return C}()},"./src/controller/level-controller.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(h){for(var k=1;k<arguments.length;k++){var p=
arguments[k],r;for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(h[r]=p[r])}return h};return X.apply(this,arguments)}function T(h,k){for(var p=0;p<k.length;p++){var r=k[p];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);var u=Object,m=u.defineProperty;a:{var f=r.key;if("object"===typeof f&&null!==f){var c=f[Symbol.toPrimitive];if(void 0!==c){f=c.call(f,"string");if("object"!==typeof f)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}f=
String(f)}}m.call(u,h,"symbol"===typeof f?f:String(f),r)}}function F(h,k,p){k&&T(h.prototype,k);p&&T(h,p);Object.defineProperty(h,"prototype",{writable:!1});return h}function K(h,k){h.prototype=Object.create(k.prototype);h.prototype.constructor=h;E(h,k)}function E(h,k){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,r){p.__proto__=r;return p};return E(h,k)}G.r(Y);G.d(Y,{"default":()=>l});var z=G("./src/types/level.ts"),C=G("./src/events.ts"),w=G("./src/errors.ts"),q=G("./src/utils/codecs.ts"),
x=G("./src/controller/level-helper.ts");oa=G("./src/controller/base-playlist-controller.ts");var v=G("./src/types/loader.ts"),g=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=function(h){function k(r){r=h.call(this,r,"[level-controller]")||this;r._levels=[];r._firstLevel=-1;r._startLevel=void 0;r.currentLevelIndex=-1;r.manualLevelIndex=-1;r.onParsedComplete=void 0;r._registerListeners();return r}K(k,h);var p=k.prototype;p._registerListeners=function(){var r=this.hls;r.on(C.Events.MANIFEST_LOADED,
this.onManifestLoaded,this);r.on(C.Events.LEVEL_LOADED,this.onLevelLoaded,this);r.on(C.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);r.on(C.Events.FRAG_LOADED,this.onFragLoaded,this);r.on(C.Events.ERROR,this.onError,this)};p._unregisterListeners=function(){var r=this.hls;r.off(C.Events.MANIFEST_LOADED,this.onManifestLoaded,this);r.off(C.Events.LEVEL_LOADED,this.onLevelLoaded,this);r.off(C.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);r.off(C.Events.FRAG_LOADED,this.onFragLoaded,
this);r.off(C.Events.ERROR,this.onError,this)};p.destroy=function(){this._unregisterListeners();this.manualLevelIndex=-1;this._levels.length=0;h.prototype.destroy.call(this)};p.startLoad=function(){this._levels.forEach(function(r){r.loadError=0});h.prototype.startLoad.call(this)};p.onManifestLoaded=function(r,u){var m=[];r=[];var f=[],c={},e,t=!1,B=!1,y=!1;u.levels.forEach(function(J){var N=J.attrs;t=t||!(!J.width||!J.height);B=B||!!J.videoCodec;y=y||!!J.audioCodec;g&&J.audioCodec&&-1!==J.audioCodec.indexOf("mp4a.40.34")&&
(J.audioCodec=void 0);var ea=J.bitrate+"-"+J.attrs.RESOLUTION+"-"+J.attrs.CODECS;(e=c[ea])?e.url.push(J.url):(e=new z.Level(J),c[ea]=e,m.push(e));N&&(N.AUDIO&&(0,x.addGroupId)(e,"audio",N.AUDIO),N.SUBTITLES&&(0,x.addGroupId)(e,"text",N.SUBTITLES))});(t||B)&&y&&(m=m.filter(function(J){var N=J.width,ea=J.height;return!!J.videoCodec||!(!N||!ea)}));m=m.filter(function(J){var N=J.audioCodec;J=J.videoCodec;return(!N||(0,q.isCodecSupportedInMp4)(N,"audio"))&&(!J||(0,q.isCodecSupportedInMp4)(J,"video"))});
u.audioTracks&&(r=u.audioTracks.filter(function(J){return!J.audioCodec||(0,q.isCodecSupportedInMp4)(J.audioCodec,"audio")}),(0,x.assignTrackIdsByGroup)(r));u.subtitles&&(f=u.subtitles,(0,x.assignTrackIdsByGroup)(f));if(0<m.length){var A=m[0].bitrate;m.sort(function(J,N){return J.attrs["HDCP-LEVEL"]!==N.attrs["HDCP-LEVEL"]?(J.attrs["HDCP-LEVEL"]||"")>(N.attrs["HDCP-LEVEL"]||"")?1:-1:J.bitrate!==N.bitrate?J.bitrate-N.bitrate:J.attrs.SCORE!==N.attrs.SCORE?J.attrs.decimalFloatingPoint("SCORE")-N.attrs.decimalFloatingPoint("SCORE"):
t&&J.height!==N.height?J.height-N.height:0});this._levels=m;for(var H=0;H<m.length;H++)if(m[H].bitrate===A){this._firstLevel=H;this.log("manifest loaded, "+m.length+" level(s) found, first bitrate: "+A);break}u={levels:m,audioTracks:r,subtitleTracks:f,sessionData:u.sessionData,sessionKeys:u.sessionKeys,firstLevel:this._firstLevel,stats:u.stats,audio:y,video:B,altAudio:!(y&&!B)&&r.some(function(J){return!!J.url})};this.hls.trigger(C.Events.MANIFEST_PARSED,u);(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&
this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(C.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:u.url,reason:"no level with compatible codecs found in manifest"})};p.onError=function(r,u){var m;h.prototype.onError.call(this,r,u);if(!u.fatal){var f=u.context,c=this._levels[this.currentLevelIndex];if(f&&(f.type===v.PlaylistContextType.AUDIO_TRACK&&c.audioGroupIds&&f.groupId===c.audioGroupIds[c.urlId]||f.type===
v.PlaylistContextType.SUBTITLE_TRACK&&c.textGroupIds&&f.groupId===c.textGroupIds[c.urlId]))this.redundantFailover(this.currentLevelIndex);else{r=!1;var e=!0,t;switch(u.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:if(u.frag){var B=u.frag.type===v.PlaylistLevelType.MAIN?u.frag.level:this.currentLevelIndex;(m=this._levels[B])?(m.fragmentError++,m.fragmentError>this.hls.config.fragLoadingMaxRetry&&
(t=B)):t=B}break;case w.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:if(t=c.attrs["HDCP-LEVEL"])this.hls.maxHdcpLevel=z.HdcpLevels[z.HdcpLevels.indexOf(t)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower');case w.ErrorDetails.FRAG_PARSING_ERROR:case w.ErrorDetails.KEY_SYSTEM_NO_SESSION:t=(null===(B=u.frag)||void 0===B?void 0:B.type)===v.PlaylistLevelType.MAIN?u.frag.level:this.currentLevelIndex;u.levelRetry=!1;break;case w.ErrorDetails.LEVEL_LOAD_ERROR:case w.ErrorDetails.LEVEL_LOAD_TIMEOUT:f&&
(f.deliveryDirectives&&(e=!1),t=f.level);r=!0;break;case w.ErrorDetails.REMUX_ALLOC_ERROR:t=null!=(m=u.level)?m:this.currentLevelIndex,r=!0}void 0!==t&&this.recoverLevel(u,t,r,e)}}};p.recoverLevel=function(r,u,m,f){var c=r.details,e=this._levels[u];e.loadError++;if(m)if(this.retryLoadingOrFail(r))r.levelRetry=!0;else{this.currentLevelIndex=-1;return}if(f)if(m=e.url.length,1<m&&e.loadError<m)r.levelRetry=!0,this.redundantFailover(u);else if(-1===this.manualLevelIndex){u=-1;e=this._levels;for(m=e.length;m--;)if(f=
(m+this.currentLevelIndex)%e.length,f!==this.currentLevelIndex&&0===e[f].loadError){u=f;break}-1<u&&this.currentLevelIndex!==u?(this.warn(c+": switch to "+u),r.levelRetry=!0,this.hls.nextAutoLevel=u):!1===r.levelRetry&&(r.fatal=!0)}};p.redundantFailover=function(r){var u=this._levels[r],m=u.url.length;if(1<m){var f=(u.urlId+1)%m;this.warn("Switching to redundant URL-id "+f);this._levels.forEach(function(c){c.urlId=f});this.level=r}};p.onFragLoaded=function(r,u){r=u.frag;void 0!==r&&r.type===v.PlaylistLevelType.MAIN&&
(r=this._levels[r.level],void 0!==r&&(r.fragmentError=0,r.loadError=0))};p.onLevelLoaded=function(r,u){var m;r=u.level;var f=u.details,c=this._levels[r];if(c)r===this.currentLevelIndex?(0===c.fragmentError&&(this.retryCount=c.loadError=0),this.playlistLoaded(r,u,c.details)):null!==(m=u.deliveryDirectives)&&void 0!==m&&m.skip&&(f.deltaUpdateFailed=!0);else{var e;this.warn("Invalid level index "+r);null!==(e=u.deliveryDirectives)&&void 0!==e&&e.skip&&(f.deltaUpdateFailed=!0)}};p.onAudioTrackSwitched=
function(r,u){if((r=this.hls.levels[this.currentLevelIndex])&&r.audioGroupIds){var m=-1;u=this.hls.audioTracks[u.id].groupId;for(var f=0;f<r.audioGroupIds.length;f++)if(r.audioGroupIds[f]===u){m=f;break}m!==r.urlId&&(r.urlId=m,this.startLoad())}};p.loadPlaylist=function(r){h.prototype.loadPlaylist.call(this);var u=this.currentLevelIndex,m=this._levels[u];if(this.canLoad&&m&&0<m.url.length){var f=m.urlId;m=m.url[f];if(r)try{m=r.addDirectives(m)}catch(c){this.warn("Could not construct new URL with HLS Delivery Directives: "+
c)}this.log("Attempt loading level index "+u+(void 0!==(null===r||void 0===r?void 0:r.msn)?" at sn "+r.msn+" part "+r.part:"")+" with URL-id "+f+" "+m);this.clearTimer();this.hls.trigger(C.Events.LEVEL_LOADING,{url:m,level:u,id:f,deliveryDirectives:r||null})}};p.removeLevel=function(r,u){var m=function(c,e){return e!==u},f=this._levels.filter(function(c,e){return e!==r?!0:1<c.url.length&&void 0!==u?(c.url=c.url.filter(m),c.audioGroupIds&&(c.audioGroupIds=c.audioGroupIds.filter(m)),c.textGroupIds&&
(c.textGroupIds=c.textGroupIds.filter(m)),c.urlId=0,!0):!1}).map(function(c,e){var t=c.details;null!==t&&void 0!==t&&t.fragments&&t.fragments.forEach(function(B){B.level=e});return c});this._levels=f;this.hls.trigger(C.Events.LEVELS_UPDATED,{levels:f})};F(k,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(r){var u,m=this._levels;if(0!==m.length&&(this.currentLevelIndex!==r||null===(u=m[r])||void 0===
u||!u.details)){if(0>r||r>=m.length){u=0>r;this.hls.trigger(C.Events.ERROR,{type:w.ErrorTypes.OTHER_ERROR,details:w.ErrorDetails.LEVEL_SWITCH_ERROR,level:r,fatal:u,reason:"invalid level idx"});if(u)return;r=Math.min(r,m.length-1)}this.clearTimer();var f=this.currentLevelIndex;u=m[f];m=m[r];this.log("switching to level "+r+" from "+f);this.currentLevelIndex=r;r=X({},m,{level:r,maxBitrate:m.maxBitrate,uri:m.uri,urlId:m.urlId});delete r._urlId;this.hls.trigger(C.Events.LEVEL_SWITCHING,r);r=m.details;
if(!r||r.live)r=this.switchParams(m.uri,null===u||void 0===u?void 0:u.details),this.loadPlaylist(r)}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(r){this.manualLevelIndex=r;void 0===this._startLevel&&(this._startLevel=r);-1!==r&&(this.level=r)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(r){this._firstLevel=r}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var r=this.hls.config.startLevel;return void 0!==r?r:this._firstLevel}return this._startLevel},
set:function(r){this._startLevel=r}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(r){this.level=r;-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=r)}}]);return k}(oa["default"])},"./src/controller/level-helper.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(m){for(var f=1;f<arguments.length;f++){var c=arguments[f],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(m[e]=c[e])}return m};
return X.apply(this,arguments)}function T(m,f,c){switch(f){case "audio":m.audioGroupIds||(m.audioGroupIds=[]);m.audioGroupIds.push(c);break;case "text":m.textGroupIds||(m.textGroupIds=[]),m.textGroupIds.push(c)}}function F(m){var f={};m.forEach(function(c){var e=c.groupId||"";c.id=f[e]=f[e]||0;f[e]++})}function K(m,f,c){E(m[f],m[c])}function E(m,f){var c=f.startPTS;(0,p.isFiniteNumber)(c)?(f.sn>m.sn?c-=m.start:(c=m.start-c,m=f),m.duration!==c&&(m.duration=c)):f.start=f.sn>m.sn?m.cc===f.cc&&m.minEndPTS?
m.start+(m.minEndPTS-m.start):m.start+m.duration:Math.max(m.start-f.duration,0)}function z(m,f,c,e,t,B){0>=e-c&&(r.logger.warn("Fragment should have a positive duration",f),e=c+f.duration,B=t+f.duration);var y=c,A=e,H=f.startPTS,J=f.endPTS;(0,p.isFiniteNumber)(H)&&(y=Math.abs(H-c),(0,p.isFiniteNumber)(f.deltaPTS)?f.deltaPTS=Math.max(y,f.deltaPTS):f.deltaPTS=y,y=Math.max(c,H),c=Math.min(c,H),t=Math.min(t,f.startDTS),A=Math.min(e,J),e=Math.max(e,J),B=Math.max(B,f.endDTS));f.duration=e-c;H=c-f.start;
f.start=f.startPTS=c;f.maxStartPTS=y;f.startDTS=t;f.endPTS=e;f.minEndPTS=A;f.endDTS=B;c=f.sn;if(!m||c<m.startSN||c>m.endSN)return 0;c-=m.startSN;e=m.fragments;e[c]=f;for(f=c;0<f;f--)E(e[f],e[f-1]);for(f=c;f<e.length-1;f++)E(e[f],e[f+1]);m.fragmentHint&&E(e[e.length-1],m.fragmentHint);m.PTSKnown=m.alignedSliding=!0;return H}function C(m,f){for(var c=null,e=m.fragments,t=e.length-1;0<=t;t--){var B=e[t].initSegment;if(B){c=B;break}}m.fragmentHint&&delete m.fragmentHint.endPTS;var y=0,A;x(m,f,function(H,
J){H.relurl&&(y=H.cc-J.cc);(0,p.isFiniteNumber)(H.startPTS)&&(0,p.isFiniteNumber)(H.endPTS)&&(J.start=J.startPTS=H.startPTS,J.startDTS=H.startDTS,J.appendedPTS=H.appendedPTS,J.maxStartPTS=H.maxStartPTS,J.endPTS=H.endPTS,J.endDTS=H.endDTS,J.minEndPTS=H.minEndPTS,J.duration=H.endPTS-H.startPTS,J.duration&&(A=J),f.PTSKnown=f.alignedSliding=!0);J.elementaryStreams=H.elementaryStreams;J.loader=H.loader;J.stats=H.stats;J.urlId=H.urlId;H.initSegment&&(c=J.initSegment=H.initSegment)});c&&(f.fragmentHint?
f.fragments.concat(f.fragmentHint):f.fragments).forEach(function(H){var J;H.initSegment&&H.initSegment.relurl!==(null===(J=c)||void 0===J?void 0:J.relurl)||(H.initSegment=c)});if(f.skippedSegments)if(f.deltaUpdateFailed=f.fragments.some(function(H){return!H}),f.deltaUpdateFailed){r.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(e=f.skippedSegments;e--;)f.fragments.shift();f.startSN=f.fragments[0].sn;f.startCC=f.fragments[0].cc}else f.canSkipDateRanges&&
(f.dateRanges=w(m.dateRanges,f.dateRanges,f.recentlyRemovedDateranges));e=f.fragments;if(y)for(r.logger.warn("discontinuity sliding from playlist, take drift into account"),t=0;t<e.length;t++)e[t].cc+=y;f.skippedSegments&&(f.startCC=f.fragments[0].cc);q(m.partList,f.partList,function(H,J){J.elementaryStreams=H.elementaryStreams;J.stats=H.stats});A?z(f,A,A.startPTS,A.endPTS,A.startDTS,A.endDTS):v(m,f);e.length&&(f.totalduration=f.edge-e[0].start);f.driftStartTime=m.driftStartTime;f.driftStart=m.driftStart;
e=f.advancedDateTime;f.advanced&&e?(m=f.edge,f.driftStart||(f.driftStartTime=e,f.driftStart=m),f.driftEndTime=e,f.driftEnd=m):(f.driftEndTime=m.driftEndTime,f.driftEnd=m.driftEnd,f.advancedDateTime=m.advancedDateTime)}function w(m,f,c){var e=X({},m);c&&c.forEach(function(t){delete e[t]});Object.keys(f).forEach(function(t){var B=new u.DateRange(f[t].attr,e[t]);B.isValid?e[t]=B:r.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(f[t].attr)+'"')});return e}function q(m,
f,c){if(m&&f)for(var e=0,t=0,B=m.length;t<=B;t++){var y=m[t],A=f[t+e];y&&A&&y.index===A.index&&y.fragment.sn===A.fragment.sn?c(y,A):e--}}function x(m,f,c){var e=f.skippedSegments,t=Math.max(m.startSN,f.startSN)-f.startSN,B=(m.fragmentHint?1:0)+(e?f.endSN:Math.min(m.endSN,f.endSN))-f.startSN,y=f.startSN-m.startSN,A=f.fragmentHint?f.fragments.concat(f.fragmentHint):f.fragments;for(m=m.fragmentHint?m.fragments.concat(m.fragmentHint):m.fragments;t<=B;t++){var H=m[y+t],J=A[t];e&&!J&&t<e&&(J=f.fragments[t]=
H);H&&J&&c(H,J)}}function v(m,f){var c=f.startSN+f.skippedSegments-m.startSN;m=m.fragments;0>c||c>=m.length||g(f,m[c].start)}function g(m,f){if(f){for(var c=m.fragments,e=m.skippedSegments;e<c.length;e++)c[e].start+=f;m.fragmentHint&&(m.fragmentHint.start+=f)}}function l(m,f){void 0===f&&(f=Infinity);var c=1E3*m.targetduration;m.updated?(m=m.fragments,m.length&&4*c>f&&(f=1E3*m[m.length-1].duration,f<c&&(c=f))):c/=2;return Math.round(c)}function h(m,f,c){if(!m||!m.details)return null;m=m.details;var e=
m.fragments[f-m.startSN];return e?e:(e=m.fragmentHint)&&e.sn===f?e:f<m.startSN&&c&&c.sn===f?c:null}function k(m,f,c){if(!m||!m.details)return null;if(m=m.details.partList)for(var e=m.length;e--;){var t=m[e];if(t.index===c&&t.fragment.sn===f)return t}return null}G.r(Y);G.d(Y,{addGroupId:()=>T,addSliding:()=>g,adjustSliding:()=>v,assignTrackIdsByGroup:()=>F,computeReloadInterval:()=>l,getFragmentWithSN:()=>h,getPartWith:()=>k,mapFragmentIntersection:()=>x,mapPartIntersection:()=>q,mergeDetails:()=>
C,updateFragPTSDTS:()=>z,updatePTS:()=>K});var p=G("./src/polyfills/number.ts"),r=G("./src/utils/logger.ts"),u=G("./src/loader/date-range.ts")},"./src/controller/stream-controller.ts":(oa,Y,G)=>{function X(u,m){for(var f=0;f<m.length;f++){var c=m[f];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);var e=Object,t=e.defineProperty;a:{var B=c.key;if("object"===typeof B&&null!==B){var y=B[Symbol.toPrimitive];if(void 0!==y){B=y.call(B,"string");if("object"!==typeof B)break a;
throw new TypeError("@@toPrimitive must return a primitive value.");}B=String(B)}}t.call(e,u,"symbol"===typeof B?B:String(B),c)}}function T(u,m,f){m&&X(u.prototype,m);f&&X(u,f);Object.defineProperty(u,"prototype",{writable:!1});return u}function F(u,m){u.prototype=Object.create(m.prototype);u.prototype.constructor=u;K(u,m)}function K(u,m){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,c){f.__proto__=c;return f};return K(u,m)}G.r(Y);G.d(Y,{"default":()=>r});var E=G("./src/polyfills/number.ts"),
z=G("./src/controller/base-stream-controller.ts"),C=G("./src/is-supported.ts"),w=G("./src/events.ts"),q=G("./src/utils/buffer-helper.ts"),x=G("./src/controller/fragment-tracker.ts"),v=G("./src/types/loader.ts"),g=G("./src/loader/fragment.ts"),l=G("./src/demux/transmuxer-interface.ts"),h=G("./src/types/transmuxer.ts"),k=G("./src/controller/gap-controller.ts"),p=G("./src/errors.ts"),r=function(u){function m(c,e,t){c=u.call(this,c,e,t,"[stream-controller]")||this;c.audioCodecSwap=!1;c.gapController=
null;c.level=-1;c._forceStartLoad=!1;c.altAudio=!1;c.audioOnly=!1;c.fragPlaying=null;c.onvplaying=null;c.onvseeked=null;c.fragLastKbps=0;c.couldBacktrack=!1;c.backtrackFragment=null;c.audioCodecSwitch=!1;c.videoBuffer=null;c._registerListeners();return c}F(m,u);var f=m.prototype;f._registerListeners=function(){var c=this.hls;c.on(w.Events.MEDIA_ATTACHED,this.onMediaAttached,this);c.on(w.Events.MEDIA_DETACHING,this.onMediaDetaching,this);c.on(w.Events.MANIFEST_LOADING,this.onManifestLoading,this);
c.on(w.Events.MANIFEST_PARSED,this.onManifestParsed,this);c.on(w.Events.LEVEL_LOADING,this.onLevelLoading,this);c.on(w.Events.LEVEL_LOADED,this.onLevelLoaded,this);c.on(w.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this);c.on(w.Events.ERROR,this.onError,this);c.on(w.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);c.on(w.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);c.on(w.Events.BUFFER_CREATED,this.onBufferCreated,this);c.on(w.Events.BUFFER_FLUSHED,
this.onBufferFlushed,this);c.on(w.Events.LEVELS_UPDATED,this.onLevelsUpdated,this);c.on(w.Events.FRAG_BUFFERED,this.onFragBuffered,this)};f._unregisterListeners=function(){var c=this.hls;c.off(w.Events.MEDIA_ATTACHED,this.onMediaAttached,this);c.off(w.Events.MEDIA_DETACHING,this.onMediaDetaching,this);c.off(w.Events.MANIFEST_LOADING,this.onManifestLoading,this);c.off(w.Events.MANIFEST_PARSED,this.onManifestParsed,this);c.off(w.Events.LEVEL_LOADED,this.onLevelLoaded,this);c.off(w.Events.FRAG_LOAD_EMERGENCY_ABORTED,
this.onFragLoadEmergencyAborted,this);c.off(w.Events.ERROR,this.onError,this);c.off(w.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);c.off(w.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);c.off(w.Events.BUFFER_CREATED,this.onBufferCreated,this);c.off(w.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);c.off(w.Events.LEVELS_UPDATED,this.onLevelsUpdated,this);c.off(w.Events.FRAG_BUFFERED,this.onFragBuffered,this)};f.onHandlerDestroying=function(){this._unregisterListeners();
this.onMediaDetaching()};f.startLoad=function(c){if(this.levels){var e=this.lastCurrentTime,t=this.hls;this.stopLoad();this.setInterval(100);this.level=-1;this.fragLoadError=0;if(!this.startFragRequested){var B=t.startLevel;-1===B&&(t.config.testBandwidth&&1<this.levels.length?(B=0,this.bitrateTest=!0):B=t.nextAutoLevel);this.level=t.nextLoadLevel=B;this.loadedmetadata=!1}0<e&&-1===c&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),c=e);this.state=z.State.IDLE;this.nextLoadPosition=
this.startPosition=this.lastCurrentTime=c;this.tick()}else this._forceStartLoad=!0,this.state=z.State.STOPPED};f.stopLoad=function(){this._forceStartLoad=!1;u.prototype.stopLoad.call(this)};f.doTick=function(){switch(this.state){case z.State.IDLE:this.doTickIdle();break;case z.State.WAITING_LEVEL:var c,e=this.levels,t=this.level;!(e=null===e||void 0===e?void 0:null===(c=e[t])||void 0===c?void 0:c.details)||e.live&&this.levelLastLoaded!==this.level||this.waitForCdnTuneIn(e)||(this.state=z.State.IDLE);
break;case z.State.FRAG_LOADING_WAITING_RETRY:if(c=self.performance.now(),t=this.retryDate,!t||c>=t||null!==(e=this.media)&&void 0!==e&&e.seeking)this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=z.State.IDLE}this.onTickEnd()};f.onTickEnd=function(){u.prototype.onTickEnd.call(this);this.checkBuffer();this.checkFragmentChanged()};f.doTickIdle=function(){var c=this.hls,e=this.levels,t=this.media,B=c.config,y=c.nextLoadLevel;if(null!==this.levelLastLoaded&&
(t||!this.startFragRequested&&B.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&e&&e[y]&&(t=e[y],e=this.getMainFwdBufferInfo(),null!==e))if((B=this.getLevelDetails())&&this._streamEnded(e,B)){var A={};this.altAudio&&(A.type="video");this.hls.trigger(w.Events.BUFFER_EOS,A);this.state=z.State.ENDED}else this.level=c.nextLoadLevel=y,c=t.details,!c||this.state===z.State.WAITING_LEVEL||c.live&&this.levelLastLoaded!==y?(this.level=y,this.state=z.State.WAITING_LEVEL):(y=e.len,t=this.getMaxBufferLength(t.maxBitrate),
y>=t||(this.backtrackFragment&&this.backtrackFragment.start>e.end&&(this.backtrackFragment=null),y=this.backtrackFragment?this.backtrackFragment.start:e.end,t=this.getNextFragment(y,c),this.couldBacktrack&&!this.fragPrevious&&t&&"initSegment"!==t.sn&&this.fragmentTracker.getState(t)!==x.FragmentState.OK?(e=(null!=(A=this.backtrackFragment)?A:t).sn-c.startSN,(A=c.fragments[e-1])&&t.cc===A.cc&&(t=A,this.fragmentTracker.removeFragment(A))):this.backtrackFragment&&e.len&&(this.backtrackFragment=null),
t&&this.fragmentTracker.getState(t)===x.FragmentState.OK&&this.nextLoadPosition>y&&(A=this.audioOnly&&!this.altAudio?g.ElementaryStreamTypes.AUDIO:g.ElementaryStreamTypes.VIDEO,(e=(A===g.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media)&&this.afterBufferFlushed(e,A,v.PlaylistLevelType.MAIN),t=this.getNextFragment(this.nextLoadPosition,c)),t&&(!t.initSegment||t.initSegment.data||this.bitrateTest||(t=t.initSegment),this.loadFragment(t,c,y))))};f.loadFragment=function(c,e,t){var B,
y=this.fragmentTracker.getState(c);this.fragCurrent=c;y===x.FragmentState.NOT_LOADED?"initSegment"===c.sn?this._loadInitSegment(c,e):this.bitrateTest?(this.log("Fragment "+c.sn+" of level "+c.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(c,e)):(this.startFragRequested=!0,u.prototype.loadFragment.call(this,c,e,t)):y===x.FragmentState.APPENDING?this.reduceMaxBufferLength(c.duration)&&this.fragmentTracker.removeFragment(c):0===(null===(B=this.media)||
void 0===B?void 0:B.buffered.length)&&this.fragmentTracker.removeAllFragments()};f.getAppendedFrag=function(c){return(c=this.fragmentTracker.getAppendedFrag(c,v.PlaylistLevelType.MAIN))&&"fragment"in c?c.fragment:c};f.getBufferedFrag=function(c){return this.fragmentTracker.getBufferedFrag(c,v.PlaylistLevelType.MAIN)};f.followingBufferedFrag=function(c){return c?this.getBufferedFrag(c.end+.5):null};f.immediateLevelSwitch=function(){this.abortCurrentFrag();this.flushMainBuffer(0,Number.POSITIVE_INFINITY)};
f.nextLevelSwitch=function(){var c=this.levels,e=this.media;if(null!==e&&void 0!==e&&e.readyState){var t=this.getAppendedFrag(e.currentTime);t&&1<t.start&&this.flushMainBuffer(0,t.start-1);!e.paused&&c?(c=c[this.hls.nextLoadLevel],c=(t=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*c.maxBitrate/(1E3*t)+1:0):c=0;if(e=this.getBufferedFrag(e.currentTime+c))if(c=this.followingBufferedFrag(e))this.abortCurrentFrag(),t=c.duration,this.flushMainBuffer(Math.max(e.end,(c.maxStartPTS?c.maxStartPTS:
c.start)+Math.min(Math.max(t-this.config.maxFragLookUpTolerance,.5*t),.75*t)),Number.POSITIVE_INFINITY)}};f.abortCurrentFrag=function(){var c=this.fragCurrent;this.backtrackFragment=this.fragCurrent=null;c&&c.abortRequests();switch(this.state){case z.State.KEY_LOADING:case z.State.FRAG_LOADING:case z.State.FRAG_LOADING_WAITING_RETRY:case z.State.PARSING:case z.State.PARSED:this.state=z.State.IDLE}this.nextLoadPosition=this.getLoadPosition()};f.flushMainBuffer=function(c,e){u.prototype.flushMainBuffer.call(this,
c,e,this.altAudio?"video":null)};f.onMediaAttached=function(c,e){u.prototype.onMediaAttached.call(this,c,e);c=e.media;this.onvplaying=this.onMediaPlaying.bind(this);this.onvseeked=this.onMediaSeeked.bind(this);c.addEventListener("playing",this.onvplaying);c.addEventListener("seeked",this.onvseeked);this.gapController=new k["default"](this.config,c,this.fragmentTracker,this.hls)};f.onMediaDetaching=function(){var c=this.media;c&&this.onvplaying&&this.onvseeked&&(c.removeEventListener("playing",this.onvplaying),
c.removeEventListener("seeked",this.onvseeked),this.videoBuffer=this.onvplaying=this.onvseeked=null);this.fragPlaying=null;this.gapController&&(this.gapController.destroy(),this.gapController=null);u.prototype.onMediaDetaching.call(this)};f.onMediaPlaying=function(){this.tick()};f.onMediaSeeked=function(){var c=this.media;c=c?c.currentTime:null;(0,E.isFiniteNumber)(c)&&this.log("Media seeked to "+c.toFixed(3));this.tick()};f.onManifestLoading=function(){this.log("Trigger BUFFER_RESET");this.hls.trigger(w.Events.BUFFER_RESET,
void 0);this.fragmentTracker.removeAllFragments();this.couldBacktrack=!1;this.startPosition=this.lastCurrentTime=0;this.backtrackFragment=this.fragPlaying=null};f.onManifestParsed=function(c,e){var t=!1,B=!1,y;e.levels.forEach(function(A){if(y=A.audioCodec)-1!==y.indexOf("mp4a.40.2")&&(t=!0),-1!==y.indexOf("mp4a.40.5")&&(B=!0)});(this.audioCodecSwitch=t&&B&&!(0,C.changeTypeSupported)())&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC");this.levels=e.levels;this.startFragRequested=
!1};f.onLevelLoading=function(c,e){(c=this.levels)&&this.state===z.State.IDLE&&(c=c[e.level],!c.details||c.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(c.details))&&(this.state=z.State.WAITING_LEVEL)};f.onLevelLoaded=function(c,e){var t,B=this.levels;c=e.level;var y=e.details,A=y.totalduration;if(B){this.log("Level "+c+" loaded ["+y.startSN+","+y.endSN+"], cc ["+y.startCC+", "+y.endCC+"] duration:"+A);(A=this.fragCurrent)&&(this.state===z.State.FRAG_LOADING||this.state===z.State.FRAG_LOADING_WAITING_RETRY)&&
A.level!==e.level&&A.loader&&(this.state=z.State.IDLE,this.backtrackFragment=null,A.abortRequests());e=B[c];B=0;if(y.live||null!==(t=e.details)&&void 0!==t&&t.live){y.fragments[0]||(y.deltaUpdateFailed=!0);if(y.deltaUpdateFailed)return;B=this.alignPlaylists(y,e.details)}e.details=y;this.levelLastLoaded=c;this.hls.trigger(w.Events.LEVEL_UPDATED,{details:y,level:c});if(this.state===z.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(y))return;this.state=z.State.IDLE}this.startFragRequested?y.live&&this.synchronizeToLiveEdge(y):
this.setStartPosition(y,B);this.tick()}else this.warn("Levels were reset while loading level "+c)};f._handleFragmentLoadProgress=function(c){var e,t=c.frag,B=c.part;c=c.payload;var y=this.levels;if(y){var A=y[t.level];if(y=A.details){var H=A.videoCodec,J=y.PTSKnown||!y.live,N=null===(e=t.initSegment)||void 0===e?void 0:e.data;e=this._getAudioCodec(A);A=this.transmuxer=this.transmuxer||new l["default"](this.hls,v.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this));
var ea=B?B.index:-1;ea=new h.ChunkMetadata(t.level,t.sn,t.stats.chunkCount,c.byteLength,ea,-1!==ea);A.push(c,N,e,H,t,B,y.totalduration,J,ea,this.initPTS[t.cc])}else this.warn("Dropping fragment "+t.sn+" of level "+t.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+t.sn+" of level "+t.level+" will not be buffered")};f.onAudioTrackSwitching=function(c,e){c=this.altAudio;var t=e.id;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading");
this.mediaBuffer=this.media;if(e=this.fragCurrent)this.log("Switching to main audio track, cancel main fragment load"),e.abortRequests();this.resetTransmuxer();this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();e=this.hls;c&&e.trigger(w.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"});e.trigger(w.Events.AUDIO_TRACK_SWITCHED,{id:t})}};f.onAudioTrackSwitched=function(c,e){(c=!!this.hls.audioTracks[e.id].url)&&(e=this.videoBuffer)&&this.mediaBuffer!==
e&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e);this.altAudio=c;this.tick()};f.onBufferCreated=function(c,e){c=e.tracks;e=!1;for(var t in c){var B=c[t];if("main"===B.id){var y=t;var A=B;"video"===t&&(B=c[t])&&(this.videoBuffer=B.buffer)}else e=!0}e&&A?(this.log("Alternate track found, use "+y+".buffered to schedule main fragment loading"),this.mediaBuffer=A.buffer):this.mediaBuffer=this.media};f.onFragBuffered=function(c,e){c=
e.frag;e=e.part;if(!c||c.type===v.PlaylistLevelType.MAIN)if(this.fragContextChanged(c))this.warn("Fragment "+c.sn+(e?" p: "+e.index:"")+" of level "+c.level+" finished buffering, but was aborted. state: "+this.state),this.state===z.State.PARSED&&(this.state=z.State.IDLE);else{var t=e?e.stats:c.stats;this.fragLastKbps=Math.round(8*t.total/(t.buffering.end-t.loading.first));"initSegment"!==c.sn&&(this.fragPrevious=c);this.fragBufferedComplete(c,e)}};f.onError=function(c,e){if(e.type===p.ErrorTypes.KEY_SYSTEM_ERROR)this.onFragmentOrKeyLoadError(v.PlaylistLevelType.MAIN,
e);else switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.FRAG_PARSING_ERROR:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(v.PlaylistLevelType.MAIN,e);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==z.State.ERROR&&(e.fatal?(this.warn(""+e.details),this.state=z.State.ERROR):e.levelRetry||this.state!==z.State.WAITING_LEVEL||(this.state=
z.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==z.State.PARSING&&this.state!==z.State.PARSED||(c=!0,(e=this.getFwdBufferInfo(this.media,v.PlaylistLevelType.MAIN))&&.5<e.len&&(c=!this.reduceMaxBufferLength(e.len)),c&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState())}};f.checkBuffer=function(){var c=this.media,e=this.gapController;c&&e&&c.readyState&&(!this.loadedmetadata&&
q.BufferHelper.getBuffered(c).length||e.poll(this.lastCurrentTime,this.state!==z.State.IDLE?this.fragCurrent:null),this.lastCurrentTime=c.currentTime)};f.onFragLoadEmergencyAborted=function(){this.state=z.State.IDLE;this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);this.tickImmediate()};f.onBufferFlushed=function(c,e){c=e.type;(c!==g.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed((c===g.ElementaryStreamTypes.VIDEO?this.videoBuffer:
this.mediaBuffer)||this.media,c,v.PlaylistLevelType.MAIN)};f.onLevelsUpdated=function(c,e){this.levels=e.levels};f.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap};f.seekToStartPos=function(){var c=this.media;if(c){var e=c.currentTime,t=this.startPosition;if(0<=t&&e<t)if(c.seeking)this.log("could not seek to "+t+", already seeking at "+e);else{var B=q.BufferHelper.getBuffered(c);B=(B.length?B.start(0):0)-t;0<B&&(B<this.config.maxBufferHole||B<this.config.maxFragLookUpTolerance)&&
(this.log("adjusting start position by "+B+" to match buffer start"),this.startPosition=t+=B);this.log("seek to target start position "+t+" from current time "+e);c.currentTime=t}}};f._getAudioCodec=function(c){c=this.config.defaultAudioCodec||c.audioCodec;this.audioCodecSwap&&c&&(this.log("Swapping audio codec"),c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");return c};f._loadBitrateTestFrag=function(c,e){var t=this;c.bitrateTest=!0;this._doFragLoad(c,e).then(function(B){var y=t.hls;if(B&&
!t.fragContextChanged(c)){t.fragLoadError=0;t.state=z.State.IDLE;t.startFragRequested=!1;t.bitrateTest=!1;var A=c.stats;A.parsing.start=A.parsing.end=A.buffering.start=A.buffering.end=self.performance.now();y.trigger(w.Events.FRAG_LOADED,B);c.bitrateTest=!1}})};f._handleTransmuxComplete=function(c){var e,t=this.hls,B=c.remuxResult;c=c.chunkMeta;var y=this.getCurrentContext(c);if(y){var A=y.frag,H=y.part,J=y.level,N=B.video;y=B.text;var ea=B.id3,ia=B.initSegment,la=J.details,S=this.altAudio?void 0:
B.audio;if(!this.fragContextChanged(A)){this.state=z.State.PARSING;ia&&(ia.tracks&&(this._bufferInitSegment(J,ia.tracks,A,c),t.trigger(w.Events.FRAG_PARSING_INIT_SEGMENT,{frag:A,id:"main",tracks:ia.tracks})),J=ia.initPTS,ia=ia.timescale,(0,E.isFiniteNumber)(J)&&(this.initPTS[A.cc]=J,t.trigger(w.Events.INIT_PTS_FOUND,{frag:A,id:"main",initPTS:J,timescale:ia})));if(N&&!1!==B.independent){if(la){B=N.startPTS;ia=N.endPTS;J=N.startDTS;var aa=N.endDTS;if(H)H.elementaryStreams[N.type]={startPTS:B,endPTS:ia,
startDTS:J,endDTS:aa};else if(N.firstKeyFrame&&N.independent&&1===c.id&&(this.couldBacktrack=!0),N.dropped&&N.independent){var da=this.getMainFwdBufferInfo();if((da?da.end:this.getLoadPosition())+this.config.maxBufferHole<(N.firstKeyFramePTS?N.firstKeyFramePTS:B)-this.config.maxBufferHole){this.backtrack(A);return}A.setElementaryStreamInfo(N.type,A.start,ia,A.start,aa,!0)}A.setElementaryStreamInfo(N.type,B,ia,J,aa);this.backtrackFragment&&(this.backtrackFragment=A);this.bufferFragmentData(N,A,H,c)}}else if(!1===
B.independent){this.backtrack(A);return}S&&(N=S.startPTS,B=S.endPTS,ia=S.startDTS,J=S.endDTS,H&&(H.elementaryStreams[g.ElementaryStreamTypes.AUDIO]={startPTS:N,endPTS:B,startDTS:ia,endDTS:J}),A.setElementaryStreamInfo(g.ElementaryStreamTypes.AUDIO,N,B,ia,J),this.bufferFragmentData(S,A,H,c));la&&null!==ea&&void 0!==ea&&null!==(e=ea.samples)&&void 0!==e&&e.length&&t.trigger(w.Events.FRAG_PARSING_METADATA,{id:"main",frag:A,details:la,samples:ea.samples});la&&y&&t.trigger(w.Events.FRAG_PARSING_USERDATA,
{id:"main",frag:A,details:la,samples:y.samples})}}else this.warn("The loading context changed while buffering fragment "+c.sn+" of level "+c.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(c.level)};f._bufferInitSegment=function(c,e,t,B){var y=this;if(this.state===z.State.PARSING){this.audioOnly=!!e.audio&&!e.video;this.altAudio&&!this.audioOnly&&delete e.audio;var A=e.audio,H=e.video,J=e.audiovideo;if(A){var N=c.audioCodec,ea=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&
(N&&(N=-1!==N.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==A.metadata.channelCount&&-1===ea.indexOf("firefox")&&(N="mp4a.40.5"));-1!==ea.indexOf("android")&&"audio/mpeg"!==A.container&&(N="mp4a.40.2",this.log("Android: force audio codec to "+N));c.audioCodec&&c.audioCodec!==N&&this.log('Swapping manifest audio codec "'+c.audioCodec+'" for "'+N+'"');A.levelCodec=N;A.id="main";this.log("Init audio buffer, container:"+A.container+", codecs[selected/level/parsed]\x3d["+(N||"")+"/"+(c.audioCodec||
"")+"/"+A.codec+"]")}H&&(H.levelCodec=c.videoCodec,H.id="main",this.log("Init video buffer, container:"+H.container+", codecs[level/parsed]\x3d["+(c.videoCodec||"")+"/"+H.codec+"]"));J&&this.log("Init audiovideo buffer, container:"+J.container+", codecs[level/parsed]\x3d["+(c.attrs.CODECS||"")+"/"+J.codec+"]");this.hls.trigger(w.Events.BUFFER_CODECS,e);Object.keys(e).forEach(function(ia){var la=e[ia].initSegment;null!==la&&void 0!==la&&la.byteLength&&y.hls.trigger(w.Events.BUFFER_APPENDING,{type:ia,
data:la,frag:t,part:null,chunkMeta:B,parent:t.type})});this.tick()}};f.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,v.PlaylistLevelType.MAIN)};f.backtrack=function(c){this.couldBacktrack=!0;this.backtrackFragment=c;this.resetTransmuxer();this.flushBufferGap(c);this.fragmentTracker.removeFragment(c);this.fragPrevious=null;this.nextLoadPosition=c.start;this.state=z.State.IDLE};f.checkFragmentChanged=function(){var c=this.media,e=null;if(c&&
1<c.readyState&&!1===c.seeking){var t=c.currentTime;q.BufferHelper.isBuffered(c,t)?e=this.getAppendedFrag(t):q.BufferHelper.isBuffered(c,t+.1)&&(e=this.getAppendedFrag(t+.1));e&&(this.backtrackFragment=null,c=this.fragPlaying,t=e.level,c&&e.sn===c.sn&&c.level===t&&e.urlId===c.urlId||(this.fragPlaying=e,this.hls.trigger(w.Events.FRAG_CHANGED,{frag:e}),c&&c.level===t||this.hls.trigger(w.Events.LEVEL_SWITCHED,{level:t})))}};T(m,[{key:"nextLevel",get:function(){var c=this.nextBufferedFrag;return c?c.level:
-1}},{key:"currentFrag",get:function(){var c=this.media;return c?this.fragPlaying||this.getAppendedFrag(c.currentTime):null}},{key:"currentProgramDateTime",get:function(){var c=this.media;if(c){c=c.currentTime;var e=this.currentFrag;if(e&&(0,E.isFiniteNumber)(c)&&(0,E.isFiniteNumber)(e.programDateTime))return new Date(e.programDateTime+1E3*(c-e.start))}return null}},{key:"currentLevel",get:function(){var c=this.currentFrag;return c?c.level:-1}},{key:"nextBufferedFrag",get:function(){var c=this.currentFrag;
return c?this.followingBufferedFrag(c):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]);return m}(z["default"])},"./src/controller/subtitle-stream-controller.ts":(oa,Y,G)=>{function X(p,r){for(var u=0;u<r.length;u++){var m=r[u];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);var f=Object,c=f.defineProperty;a:{var e=m.key;if("object"===typeof e&&null!==e){var t=e[Symbol.toPrimitive];if(void 0!==t){e=t.call(e,"string");if("object"!==typeof e)break a;
throw new TypeError("@@toPrimitive must return a primitive value.");}e=String(e)}}c.call(f,p,"symbol"===typeof e?e:String(e),m)}}function T(p,r,u){r&&X(p.prototype,r);u&&X(p,u);Object.defineProperty(p,"prototype",{writable:!1});return p}function F(p,r){p.prototype=Object.create(r.prototype);p.prototype.constructor=p;K(p,r)}function K(p,r){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,m){u.__proto__=m;return u};return K(p,r)}G.r(Y);G.d(Y,{SubtitleStreamController:()=>h});var E=G("./src/events.ts"),
z=G("./src/utils/buffer-helper.ts"),C=G("./src/controller/fragment-finders.ts"),w=G("./src/utils/discontinuities.ts"),q=G("./src/controller/level-helper.ts"),x=G("./src/controller/fragment-tracker.ts"),v=G("./src/controller/base-stream-controller.ts"),g=G("./src/types/loader.ts"),l=G("./src/types/level.ts"),h=function(p){function r(m,f,c){m=p.call(this,m,f,c,"[subtitle-stream-controller]")||this;m.levels=[];m.currentTrackId=-1;m.tracksBuffered=[];m.mainDetails=null;m._registerListeners();return m}
F(r,p);var u=r.prototype;u.onHandlerDestroying=function(){this._unregisterListeners();this.mainDetails=null};u._registerListeners=function(){var m=this.hls;m.on(E.Events.MEDIA_ATTACHED,this.onMediaAttached,this);m.on(E.Events.MEDIA_DETACHING,this.onMediaDetaching,this);m.on(E.Events.MANIFEST_LOADING,this.onManifestLoading,this);m.on(E.Events.LEVEL_LOADED,this.onLevelLoaded,this);m.on(E.Events.ERROR,this.onError,this);m.on(E.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);m.on(E.Events.SUBTITLE_TRACK_SWITCH,
this.onSubtitleTrackSwitch,this);m.on(E.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);m.on(E.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this);m.on(E.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);m.on(E.Events.FRAG_BUFFERED,this.onFragBuffered,this)};u._unregisterListeners=function(){var m=this.hls;m.off(E.Events.MEDIA_ATTACHED,this.onMediaAttached,this);m.off(E.Events.MEDIA_DETACHING,this.onMediaDetaching,this);m.off(E.Events.MANIFEST_LOADING,this.onManifestLoading,
this);m.off(E.Events.LEVEL_LOADED,this.onLevelLoaded,this);m.off(E.Events.ERROR,this.onError,this);m.off(E.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);m.off(E.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this);m.off(E.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);m.off(E.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this);m.off(E.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);m.off(E.Events.FRAG_BUFFERED,this.onFragBuffered,this)};
u.startLoad=function(m){this.stopLoad();this.state=v.State.IDLE;this.setInterval(500);this.nextLoadPosition=this.startPosition=this.lastCurrentTime=m;this.tick()};u.onManifestLoading=function(){this.mainDetails=null;this.fragmentTracker.removeAllFragments()};u.onLevelLoaded=function(m,f){this.mainDetails=f.details};u.onSubtitleFragProcessed=function(m,f){m=f.frag;f=f.success;this.fragPrevious=m;this.state=v.State.IDLE;if(f&&(f=this.tracksBuffered[this.currentTrackId])){for(var c,e=m.start,t=0;t<f.length;t++)if(e>=
f[t].start&&e<=f[t].end){c=f[t];break}t=m.start+m.duration;c?c.end=t:(c={start:e,end:t},f.push(c));this.fragmentTracker.fragBuffered(m)}};u.onBufferFlushing=function(m,f){m=f.startOffset;var c=f.endOffset;if(0===m&&c!==Number.POSITIVE_INFINITY){var e=this.currentTrackId,t=this.levels;if(t.length&&t[e]&&t[e].details){var B=c-t[e].details.targetduration;0>=B||(f.endOffsetSubtitles=Math.max(0,B),this.tracksBuffered.forEach(function(y){for(var A=0;A<y.length;)if(y[A].end<=B)y.shift();else{if(y[A].start<
B)y[A].start=B;else break;A++}}),this.fragmentTracker.removeFragmentsInRange(m,B,g.PlaylistLevelType.SUBTITLE))}}};u.onFragBuffered=function(m,f){if(!this.loadedmetadata&&f.frag.type===g.PlaylistLevelType.MAIN){var c;null!==(c=this.media)&&void 0!==c&&c.buffered.length&&(this.loadedmetadata=!0)}};u.onError=function(m,f){(m=f.frag)&&m.type===g.PlaylistLevelType.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=v.State.IDLE)};u.onSubtitleTracksUpdated=function(m,f){var c=this;
m=f.subtitleTracks;this.tracksBuffered=[];this.levels=m.map(function(e){return new l.Level(e)});this.fragmentTracker.removeAllFragments();this.fragPrevious=null;this.levels.forEach(function(e){c.tracksBuffered[e.id]=[]});this.mediaBuffer=null};u.onSubtitleTrackSwitch=function(m,f){this.currentTrackId=f.id;this.levels.length&&-1!==this.currentTrackId?(m=this.levels[this.currentTrackId],this.mediaBuffer=null!==m&&void 0!==m&&m.details?this.mediaBufferTimeRanges:null,m&&this.setInterval(500)):this.clearInterval()};
u.onSubtitleTrackLoaded=function(m,f){var c;m=f.details;f=f.id;var e=this.currentTrackId,t=this.levels;if(t.length){var B=t[e];if(!(f>=t.length||f!==e)&&B){this.mediaBuffer=this.mediaBufferTimeRanges;e=0;if(m.live||null!==(c=B.details)&&void 0!==c&&c.live){c=this.mainDetails;if(m.deltaUpdateFailed||!c)return;t=c.fragments[0];B.details?(e=this.alignPlaylists(m,B.details),0===e&&t&&(e=t.start,(0,q.addSliding)(m,e))):m.hasProgramDateTime&&c.hasProgramDateTime?((0,w.alignMediaPlaylistByPDT)(m,c),e=m.fragments[0].start):
t&&(e=t.start,(0,q.addSliding)(m,e))}B.details=m;this.levelLastLoaded=f;this.startFragRequested||!this.mainDetails&&m.live||this.setStartPosition(B.details,e);this.tick();m.live&&!this.fragCurrent&&this.media&&this.state===v.State.IDLE&&!(0,C.findFragmentByPTS)(null,m.fragments,this.media.currentTime,0)&&(this.warn("Subtitle playlist not aligned with playback"),B.details=void 0)}}};u._handleFragmentLoadComplete=function(m){var f=this,c=m.frag;m=m.payload;var e=c.decryptdata,t=this.hls;if(!this.fragContextChanged(c)&&
m&&0<m.byteLength&&e&&e.key&&e.iv&&"AES-128"===e.method){var B=performance.now();this.decrypter.decrypt(new Uint8Array(m),e.key.buffer,e.iv.buffer).then(function(y){var A=performance.now();t.trigger(E.Events.FRAG_DECRYPTED,{frag:c,payload:y,stats:{tstart:B,tdecrypt:A}})}).catch(function(y){f.warn(y.name+": "+y.message);f.state=v.State.IDLE})}};u.doTick=function(){if(!this.media)this.state=v.State.IDLE;else if(this.state===v.State.IDLE){var m=this.currentTrackId,f=this.levels;if(f.length&&f[m]&&f[m].details){m=
f[m].details;var c=m.targetduration;f=this.config;var e=this.getLoadPosition(),t=z.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],e-c,f.maxBufferHole);e=t.end;t=t.len;var B=this.getFwdBufferInfo(this.media,g.PlaylistLevelType.MAIN);c=this.getMaxBufferLength(null===B||void 0===B?void 0:B.len)+c;t>c||(console.assert(m,"Subtitle track details are defined on idle subtitle stream controller tick"),c=m.fragments,B=c.length,t=this.fragPrevious,e<m.edge?(f=(0,C.findFragmentByPTS)(t,
c,Math.max(c[0].start,e),f.maxFragLookUpTolerance),!f&&t&&t.start<c[0].start&&(f=c[0])):f=c[B-1],f&&(f=this.mapToInitFragWhenRequired(f),this.fragmentTracker.getState(f)===x.FragmentState.NOT_LOADED&&this.loadFragment(f,m,e)))}}};u.getMaxBufferLength=function(m){var f=p.prototype.getMaxBufferLength.call(this);return m?Math.max(f,m):f};u.loadFragment=function(m,f,c){this.fragCurrent=m;"initSegment"===m.sn?this._loadInitSegment(m,f):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,m,f,
c))};T(r,[{key:"mediaBufferTimeRanges",get:function(){return new k(this.tracksBuffered[this.currentTrackId]||[])}}]);return r}(v["default"]),k=function(p){this.buffered=void 0;var r=function(u,m,f){m>>>=0;if(m>f-1)throw new DOMException("Failed to execute '"+u+"' on 'TimeRanges': The index provided ("+m+") is greater than the maximum bound ("+f+")");return p[m][u]};this.buffered={get length(){return p.length},end:function(u){return r("end",u,p.length)},start:function(u){return r("start",u,p.length)}}}},
"./src/controller/subtitle-track-controller.ts":(oa,Y,G)=>{function X(x,v){for(var g=0;g<v.length;g++){var l=v[g];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);var h=Object,k=h.defineProperty;a:{var p=l.key;if("object"===typeof p&&null!==p){var r=p[Symbol.toPrimitive];if(void 0!==r){p=r.call(p,"string");if("object"!==typeof p)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}p=String(p)}}k.call(h,x,"symbol"===typeof p?p:String(p),l)}}function T(x,
v,g){v&&X(x.prototype,v);g&&X(x,g);Object.defineProperty(x,"prototype",{writable:!1});return x}function F(x,v){x.prototype=Object.create(v.prototype);x.prototype.constructor=x;K(x,v)}function K(x,v){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,l){g.__proto__=l;return g};return K(x,v)}function E(x){for(var v=[],g=0;g<x.length;g++){var l=x[g];"subtitles"===l.kind&&l.label&&v.push(x[g])}return v}G.r(Y);G.d(Y,{"default":()=>q});var z=G("./src/events.ts"),C=G("./src/utils/texttrack-utils.ts");
oa=G("./src/controller/base-playlist-controller.ts");var w=G("./src/types/loader.ts");const q=function(x){function v(l){var h=x.call(this,l,"[subtitle-track-controller]")||this;h.media=null;h.tracks=[];h.groupId=null;h.tracksInGroup=[];h.trackId=-1;h.selectDefaultTrack=!0;h.queuedDefaultTrack=-1;h.trackChangeListener=function(){return h.onTextTracksChanged()};h.asyncPollTrackChange=function(){return h.pollTrackChange(0)};h.useTextTrackPolling=!1;h.subtitlePollingInterval=-1;h._subtitleDisplay=!0;
h.registerListeners();return h}F(v,x);var g=v.prototype;g.destroy=function(){this.unregisterListeners();this.tracks.length=0;this.tracksInGroup.length=0;this.trackChangeListener=this.asyncPollTrackChange=null;x.prototype.destroy.call(this)};g.registerListeners=function(){var l=this.hls;l.on(z.Events.MEDIA_ATTACHED,this.onMediaAttached,this);l.on(z.Events.MEDIA_DETACHING,this.onMediaDetaching,this);l.on(z.Events.MANIFEST_LOADING,this.onManifestLoading,this);l.on(z.Events.MANIFEST_PARSED,this.onManifestParsed,
this);l.on(z.Events.LEVEL_LOADING,this.onLevelLoading,this);l.on(z.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);l.on(z.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);l.on(z.Events.ERROR,this.onError,this)};g.unregisterListeners=function(){var l=this.hls;l.off(z.Events.MEDIA_ATTACHED,this.onMediaAttached,this);l.off(z.Events.MEDIA_DETACHING,this.onMediaDetaching,this);l.off(z.Events.MANIFEST_LOADING,this.onManifestLoading,this);l.off(z.Events.MANIFEST_PARSED,this.onManifestParsed,
this);l.off(z.Events.LEVEL_LOADING,this.onLevelLoading,this);l.off(z.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);l.off(z.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);l.off(z.Events.ERROR,this.onError,this)};g.onMediaAttached=function(l,h){if(this.media=h.media)-1<this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),(this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks))?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",
this.asyncPollTrackChange)};g.pollTrackChange=function(l){self.clearInterval(this.subtitlePollingInterval);this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,l)};g.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),-1<this.trackId&&(this.queuedDefaultTrack=this.trackId),E(this.media.textTracks).forEach(function(l){(0,C.clearCurrentCues)(l)}),
this.subtitleTrack=-1,this.media=null)};g.onManifestLoading=function(){this.tracks=[];this.groupId=null;this.tracksInGroup=[];this.trackId=-1;this.selectDefaultTrack=!0};g.onManifestParsed=function(l,h){this.tracks=h.subtitleTracks};g.onSubtitleTrackLoaded=function(l,h){l=h.id;var k=h.details,p=this.tracksInGroup[this.trackId];if(p){var r=p.details;p.details=h.details;this.log("subtitle track "+l+" loaded ["+k.startSN+"-"+k.endSN+"]");l===this.trackId&&(this.retryCount=0,this.playlistLoaded(l,h,r))}else this.warn("Invalid subtitle track id "+
l)};g.onLevelLoading=function(l,h){this.switchLevel(h.level)};g.onLevelSwitching=function(l,h){this.switchLevel(h.level)};g.switchLevel=function(l){l=this.hls.levels[l];if(null!==l&&void 0!==l&&l.textGroupIds){var h=l.textGroupIds[l.urlId];if(this.groupId!==h){l=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;var k=this.tracks.filter(function(u){return!h||u.groupId===h});this.tracksInGroup=k;var p=this.findTrackId(null===l||void 0===l?void 0:l.name)||this.findTrackId();this.groupId=h;var r=
{subtitleTracks:k};this.log("Updating subtitle tracks, "+k.length+' track(s) found in "'+h+'" group-id');this.hls.trigger(z.Events.SUBTITLE_TRACKS_UPDATED,r);-1!==p&&this.setSubtitleTrack(p,l)}}};g.findTrackId=function(l){for(var h=this.tracksInGroup,k=0;k<h.length;k++){var p=h[k];if(!this.selectDefaultTrack||p.default)if(!l||l===p.name)return p.id}return-1};g.onError=function(l,h){x.prototype.onError.call(this,l,h);!h.fatal&&h.context&&h.context.type===w.PlaylistContextType.SUBTITLE_TRACK&&h.context.id===
this.trackId&&h.context.groupId===this.groupId&&this.retryLoadingOrFail(h)};g.loadPlaylist=function(l){x.prototype.loadPlaylist.call(this);var h=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(h)){var k=h.id,p=h.groupId;h=h.url;if(l)try{h=l.addDirectives(h)}catch(r){this.warn("Could not construct new URL with HLS Delivery Directives: "+r)}this.log("Loading subtitle playlist for id "+k);this.hls.trigger(z.Events.SUBTITLE_TRACK_LOADING,{url:h,id:k,groupId:p,deliveryDirectives:l||null})}};g.toggleTrackModes=
function(l){var h=this,k=this.media,p=this.trackId;if(k){var r=E(k.textTracks);k=r.filter(function(u){return u.groupId===h.groupId});if(-1===l)[].slice.call(r).forEach(function(u){u.mode="disabled"});else if(p=k[p])p.mode="disabled";if(l=k[l])l.mode=this.subtitleDisplay?"showing":"hidden"}};g.setSubtitleTrack=function(l,h){var k,p=this.tracksInGroup;this.media?(this.trackId!==l&&this.toggleTrackModes(l),this.trackId===l&&(-1===l||null!==(k=p[l])&&void 0!==k&&k.details)||-1>l||l>=p.length||(this.clearTimer(),
k=p[l],this.log("Switching to subtitle track "+l),this.trackId=l,k?(l=k.groupId,this.hls.trigger(z.Events.SUBTITLE_TRACK_SWITCH,{id:k.id,groupId:void 0===l?"":l,name:k.name,type:k.type,url:k.url}),h=this.switchParams(k.url,null===h||void 0===h?void 0:h.details),this.loadPlaylist(h)):this.hls.trigger(z.Events.SUBTITLE_TRACK_SWITCH,{id:l}))):this.queuedDefaultTrack=l};g.onTextTracksChanged=function(){this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval);if(this.media&&this.hls.config.renderTextTracksNatively){for(var l=
-1,h=E(this.media.textTracks),k=0;k<h.length;k++)if("hidden"===h[k].mode)l=k;else if("showing"===h[k].mode){l=k;break}this.subtitleTrack!==l&&(this.subtitleTrack=l)}};T(v,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(l){this._subtitleDisplay=l;-1<this.trackId&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(l){this.selectDefaultTrack=!1;this.setSubtitleTrack(l,
this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}}]);return v}(oa["default"])},"./src/controller/timeline-controller.ts":(oa,Y,G)=>{function X(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}G.r(Y);G.d(Y,{TimelineController:()=>g});var T=G("./src/polyfills/number.ts"),F=G("./src/events.ts"),K=G("./src/utils/cea-608-parser.ts"),E=G("./src/utils/output-filter.ts"),z=G("./src/utils/webvtt-parser.ts"),C=G("./src/utils/texttrack-utils.ts"),w=G("./src/utils/imsc1-ttml-parser.ts"),
q=G("./src/utils/mp4-tools.ts"),x=G("./src/types/loader.ts"),v=G("./src/utils/logger.ts"),g=function(){function l(k){this.hls=void 0;this.media=null;this.config=void 0;this.enabled=!0;this.Cues=void 0;this.textTracks=[];this.tracks=[];this.initPTS=[];this.timescale=[];this.unparsedVttFrags=[];this.captionsTracks={};this.nonNativeCaptionsTracks={};this.cea608Parser2=this.cea608Parser1=void 0;this.prevCC=this.lastPartIndex=this.lastSn=-1;this.vttCCs=X();this.hls=k;this.config=k.config;this.Cues=k.config.cueHandler;
this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}};if(this.config.enableCEA708Captions){var p=
new E["default"](this,"textTrack1"),r=new E["default"](this,"textTrack2"),u=new E["default"](this,"textTrack3"),m=new E["default"](this,"textTrack4");this.cea608Parser1=new K["default"](1,p,r);this.cea608Parser2=new K["default"](3,u,m)}k.on(F.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);k.on(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this);k.on(F.Events.MANIFEST_LOADING,this.onManifestLoading,this);k.on(F.Events.MANIFEST_LOADED,this.onManifestLoaded,this);k.on(F.Events.SUBTITLE_TRACKS_UPDATED,
this.onSubtitleTracksUpdated,this);k.on(F.Events.FRAG_LOADING,this.onFragLoading,this);k.on(F.Events.FRAG_LOADED,this.onFragLoaded,this);k.on(F.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this);k.on(F.Events.FRAG_DECRYPTED,this.onFragDecrypted,this);k.on(F.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);k.on(F.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this);k.on(F.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var h=l.prototype;h.destroy=function(){var k=this.hls;
k.off(F.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);k.off(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this);k.off(F.Events.MANIFEST_LOADING,this.onManifestLoading,this);k.off(F.Events.MANIFEST_LOADED,this.onManifestLoaded,this);k.off(F.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);k.off(F.Events.FRAG_LOADING,this.onFragLoading,this);k.off(F.Events.FRAG_LOADED,this.onFragLoaded,this);k.off(F.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this);k.off(F.Events.FRAG_DECRYPTED,
this.onFragDecrypted,this);k.off(F.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);k.off(F.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this);k.off(F.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null};h.addCues=function(k,p,r,u,m){for(var f=!1,c=m.length;c--;){var e=m[c],t=Math.min(e[1],r)-Math.max(e[0],p);if(0<=t&&(e[0]=Math.min(e[0],p),e[1]=Math.max(e[1],r),f=!0,.5<t/(r-p)))return}f||m.push([p,r]);this.config.renderTextTracksNatively?
this.Cues.newCue(this.captionsTracks[k],p,r,u):(p=this.Cues.newCue(null,p,r,u),this.hls.trigger(F.Events.CUES_PARSED,{type:"captions",cues:p,track:k}))};h.onInitPtsFound=function(k,p){var r=this;k=p.frag;var u=p.initPTS,m=p.timescale,f=this.unparsedVttFrags;"main"===p.id&&(this.initPTS[k.cc]=u,this.timescale[k.cc]=m);f.length&&(this.unparsedVttFrags=[],f.forEach(function(c){r.onFragLoaded(F.Events.FRAG_LOADED,c)}))};h.getExistingTrack=function(k){var p=this.media;if(p)for(var r=0;r<p.textTracks.length;r++){var u=
p.textTracks[r];if(u[k])return u}return null};h.createCaptionsTrack=function(k){this.config.renderTextTracksNatively?this.createNativeTrack(k):this.createNonNativeTrack(k)};h.createNativeTrack=function(k){if(!this.captionsTracks[k]){var p=this.captionsTracks,r=this.media,u=this.captionsProperties[k],m=u.label;u=u.languageCode;var f=this.getExistingTrack(k);if(f)p[k]=f,(0,C.clearCurrentCues)(p[k]),(0,C.sendAddTrackEvent)(p[k],r);else if(r=this.createTextTrack("captions",m,u))r[k]=!0,p[k]=r}};h.createNonNativeTrack=
function(k){if(!this.nonNativeCaptionsTracks[k]){var p=this.captionsProperties[k];p&&(p={_id:k,label:p.label,kind:"captions",default:p.media?!!p.media.default:!1,closedCaptions:p.media},this.nonNativeCaptionsTracks[k]=p,this.hls.trigger(F.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[p]}))}};h.createTextTrack=function(k,p,r){var u=this.media;if(u)return u.addTextTrack(k,p,r)};h.onMediaAttaching=function(k,p){this.media=p.media;this._cleanTracks()};h.onMediaDetaching=function(){var k=this.captionsTracks;
Object.keys(k).forEach(function(p){(0,C.clearCurrentCues)(k[p]);delete k[p]});this.nonNativeCaptionsTracks={}};h.onManifestLoading=function(){this.prevCC=this.lastPartIndex=this.lastSn=-1;this.vttCCs=X();this._cleanTracks();this.tracks=[];this.captionsTracks={};this.nonNativeCaptionsTracks={};this.textTracks=[];this.unparsedVttFrags=this.unparsedVttFrags||[];this.initPTS=[];this.timescale=[];this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())};h._cleanTracks=
function(){var k=this.media;if(k&&(k=k.textTracks))for(var p=0;p<k.length;p++)(0,C.clearCurrentCues)(k[p])};h.onSubtitleTracksUpdated=function(k,p){var r=this;this.textTracks=[];k=p.subtitleTracks||[];p=k.some(function(m){return m.textCodec===w.IMSC1_CODEC});if(this.config.enableWebVTT||p&&this.config.enableIMSC1)if(p=this.tracks&&k&&this.tracks.length===k.length,this.tracks=k||[],this.config.renderTextTracksNatively){var u=this.media?this.media.textTracks:[];this.tracks.forEach(function(m,f){var c;
if(f<u.length){f=null;for(var e=0;e<u.length;e++){var t=u[e];if(t&&t.label===m.name&&!t.textTrack1&&!t.textTrack2){f=u[e];break}}f&&(c=f)}if(c)(0,C.clearCurrentCues)(c);else if(c=r._captionsOrSubtitlesFromCharacteristics(m),c=r.createTextTrack(c,m.name,m.lang))c.mode="disabled";c&&(c.groupId=m.groupId,r.textTracks.push(c))})}else!p&&this.tracks&&this.tracks.length&&(k=this.tracks.map(function(m){return{label:m.name,kind:m.type.toLowerCase(),default:m.default,subtitleTrack:m}}),this.hls.trigger(F.Events.NON_NATIVE_TEXT_TRACKS_FOUND,
{tracks:k}))};h._captionsOrSubtitlesFromCharacteristics=function(k){var p;return null!==(p=k.attrs)&&void 0!==p&&p.CHARACTERISTICS&&(p=/transcribes-spoken-dialog/gi.test(k.attrs.CHARACTERISTICS),k=/describes-music-and-sound/gi.test(k.attrs.CHARACTERISTICS),p&&k)?"captions":"subtitles"};h.onManifestLoaded=function(k,p){var r=this;this.config.enableCEA708Captions&&p.captions&&p.captions.forEach(function(u){var m=/(?:CC|SERVICE)([1-4])/.exec(u.instreamId);m&&(m=r.captionsProperties["textTrack"+m[1]])&&
(m.label=u.name,u.lang&&(m.languageCode=u.lang),m.media=u)})};h.closedCaptionsForLevel=function(k){k=this.hls.levels[k.level];return null===k||void 0===k?void 0:k.attrs["CLOSED-CAPTIONS"]};h.onFragLoading=function(k,p){k=this.cea608Parser1;var r=this.cea608Parser2,u=this.lastSn,m=this.lastPartIndex;if(this.enabled&&k&&r&&p.frag.type===x.PlaylistLevelType.MAIN){var f,c,e=p.frag.sn;p=null!=(f=null===p||void 0===p?void 0:null===(c=p.part)||void 0===c?void 0:c.index)?f:-1;e===u+1||e===u&&p===m+1||(k.reset(),
r.reset());this.lastSn=e;this.lastPartIndex=p}};h.onFragLoaded=function(k,p){k=p.frag;var r=p.payload,u=this.initPTS,m=this.unparsedVttFrags;if(k.type===x.PlaylistLevelType.SUBTITLE)if(r.byteLength)if((0,T.isFiniteNumber)(u[k.cc])){if(u=k.decryptdata,null==u||!u.encrypted||"stats"in p)p=this.tracks[k.level],u=this.vttCCs,u[k.cc]||(u[k.cc]={start:k.start,prevCC:this.prevCC,new:!0},this.prevCC=k.cc),p&&p.textCodec===w.IMSC1_CODEC?this._parseIMSC1(k,r):this._parseVTTs(k,r,u)}else m.push(p),u.length&&
this.hls.trigger(F.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:k,error:Error("Missing initial subtitle PTS")});else this.hls.trigger(F.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:k,error:Error("Empty subtitle payload")})};h._parseIMSC1=function(k,p){var r=this,u=this.hls;(0,w.parseIMSC1)(p,this.initPTS[k.cc],this.timescale[k.cc],function(m){r._appendCues(m,k.level);u.trigger(F.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:k})},function(m){v.logger.log("Failed to parse IMSC1: "+m);u.trigger(F.Events.SUBTITLE_FRAG_PROCESSED,
{success:!1,frag:k,error:m})})};h._parseVTTs=function(k,p,r){var u,m=this,f=this.hls,c=null!==(u=k.initSegment)&&void 0!==u&&u.data?(0,q.appendUint8Array)(k.initSegment.data,new Uint8Array(p)):p;(0,z.parseWebVTT)(c,this.initPTS[k.cc],this.timescale[k.cc],r,k.cc,k.start,function(e){m._appendCues(e,k.level);f.trigger(F.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:k})},function(e){m._fallbackToIMSC1(k,p);v.logger.log("Failed to parse VTT cue: "+e);f.trigger(F.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,
frag:k,error:e})})};h._fallbackToIMSC1=function(k,p){var r=this,u=this.tracks[k.level];u.textCodec||(0,w.parseIMSC1)(p,this.initPTS[k.cc],this.timescale[k.cc],function(){u.textCodec=w.IMSC1_CODEC;r._parseIMSC1(k,p)},function(){u.textCodec="wvtt"})};h._appendCues=function(k,p){var r=this.hls;if(this.config.renderTextTracksNatively){var u=this.textTracks[p];u&&"disabled"!==u.mode&&k.forEach(function(f){return(0,C.addCueToTrack)(u,f)})}else{var m=this.tracks[p];m&&r.trigger(F.Events.CUES_PARSED,{type:"subtitles",
cues:k,track:m.default?"default":"subtitles"+p})}};h.onFragDecrypted=function(k,p){k=p.frag;if(k.type===x.PlaylistLevelType.SUBTITLE)if((0,T.isFiniteNumber)(this.initPTS[k.cc]))this.onFragLoaded(F.Events.FRAG_LOADED,p);else this.unparsedVttFrags.push(p)};h.onSubtitleTracksCleared=function(){this.tracks=[];this.captionsTracks={}};h.onFragParsingUserdata=function(k,p){k=this.cea608Parser1;var r=this.cea608Parser2;if(this.enabled&&k&&r){var u=p.frag;p=p.samples;if(u.type!==x.PlaylistLevelType.MAIN||
"NONE"!==this.closedCaptionsForLevel(u))for(u=0;u<p.length;u++){var m=p[u].bytes;m&&(m=this.extractCea608Data(m),k.addData(p[u].pts,m[0]),r.addData(p[u].pts,m[1]))}}};h.onBufferFlushing=function(k,p){var r=p.startOffset,u=p.endOffset,m=p.endOffsetSubtitles;k=p.type;if((p=this.media)&&!(p.currentTime<u)){if(!k||"video"===k){var f=this.captionsTracks;Object.keys(f).forEach(function(e){return(0,C.removeCuesInRange)(f[e],r,u)})}if(this.config.renderTextTracksNatively&&0===r&&void 0!==m){var c=this.textTracks;
Object.keys(c).forEach(function(e){return(0,C.removeCuesInRange)(c[e],r,m)})}}};h.extractCea608Data=function(k){for(var p=[[],[]],r=k[0]&31,u=2,m=0;m<r;m++){var f=k[u++],c=127&k[u++],e=127&k[u++];0===c&&0===e||0===(4&f)||(f&=3,0!==f&&1!==f)||(p[f].push(c),p[f].push(e))}return p};return l}()},"./src/crypt/aes-crypto.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});var X=function(){function T(F,K){this.aesIV=this.subtle=void 0;this.subtle=F;this.aesIV=K}T.prototype.decrypt=function(F,K){return this.subtle.decrypt({name:"AES-CBC",
iv:this.aesIV},K,F)};return T}()},"./src/crypt/aes-decryptor.ts":(oa,Y,G)=>{function X(K){var E=K.byteLength,z=E&&(new DataView(K.buffer)).getUint8(E-1);return z?(0,T.sliceUint8)(K,0,E-z):K}G.r(Y);G.d(Y,{"default":()=>F,removePadding:()=>X});var T=G("./src/utils/typed-array.ts"),F=function(){function K(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54];this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.invSubMix=[new Uint32Array(256),new Uint32Array(256),
new Uint32Array(256),new Uint32Array(256)];this.sBox=new Uint32Array(256);this.invSBox=new Uint32Array(256);this.key=new Uint32Array(0);this.keySize=this.ksRows=0;this.invKeySchedule=this.keySchedule=void 0;this.initTable()}var E=K.prototype;E.uint8ArrayToUint32Array_=function(z){z=new DataView(z);for(var C=new Uint32Array(4),w=0;4>w;w++)C[w]=z.getUint32(4*w);return C};E.initTable=function(){var z=this.sBox,C=this.invSBox,w=this.subMix,q=w[0],x=w[1],v=w[2];w=w[3];var g=this.invSubMix,l=g[0],h=g[1],
k=g[2];g=g[3];var p=new Uint32Array(256),r=0,u=0,m;for(m=0;256>m;m++)p[m]=128>m?m<<1:m<<1^283;for(m=0;256>m;m++){var f=u^u<<1^u<<2^u<<3^u<<4;f=f>>>8^f&255^99;z[r]=f;C[f]=r;var c=p[r],e=p[c],t=p[e],B=257*p[f]^16843008*f;q[r]=B<<24|B>>>8;x[r]=B<<16|B>>>16;v[r]=B<<8|B>>>24;w[r]=B;B=16843009*t^65537*e^257*c^16843008*r;l[f]=B<<24|B>>>8;h[f]=B<<16|B>>>16;k[f]=B<<8|B>>>24;g[f]=B;r?(r=c^p[p[p[t^c]]],u^=p[p[u]]):r=u=1}};E.expandKey=function(z){z=this.uint8ArrayToUint32Array_(z);for(var C=!0,w=0;w<z.length&&
C;)C=z[w]===this.key[w],w++;if(!C){this.key=z;var q=this.keySize=z.length;if(4!==q&&6!==q&&8!==q)throw Error("Invalid aes key size\x3d"+q);C=this.ksRows=4*(q+6+1);w=this.keySchedule=new Uint32Array(C);var x=this.invKeySchedule=new Uint32Array(C),v=this.sBox,g=this.rcon;var l=this.invSubMix;var h=l[0],k=l[1],p=l[2],r=l[3];for(l=0;l<C;l++)if(l<q)var u=w[l]=z[l];else 0===l%q?(u=u<<8|u>>>24,u=v[u>>>24]<<24|v[u>>>16&255]<<16|v[u>>>8&255]<<8|v[u&255],u^=g[l/q|0]<<24):6<q&&4===l%q&&(u=v[u>>>24]<<24|v[u>>>
16&255]<<16|v[u>>>8&255]<<8|v[u&255]),w[l]=u=(w[l-q]^u)>>>0;for(z=0;z<C;z++)l=C-z,u=z&3?w[l]:w[l-4],x[z]=4>z||4>=l?u:h[v[u>>>24]]^k[v[u>>>16&255]]^p[v[u>>>8&255]]^r[v[u&255]],x[z]>>>=0}};E.networkToHostOrderSwap=function(z){return z<<24|(z&65280)<<8|(z&16711680)>>8|z>>>24};E.decrypt=function(z,C,w){var q=this.keySize+6,x=this.invKeySchedule,v=this.invSBox,g=this.invSubMix,l=g[0],h=g[1],k=g[2];g=g[3];var p=this.uint8ArrayToUint32Array_(w);w=p[0];var r=p[1],u=p[2];p=p[3];z=new Int32Array(z);for(var m=
new Int32Array(z.length),f,c,e,t,B,y,A,H,J,N,ea,ia,la,S=this.networkToHostOrderSwap;C<z.length;){H=S(z[C]);J=S(z[C+1]);N=S(z[C+2]);ea=S(z[C+3]);B=H^x[0];y=ea^x[1];A=N^x[2];t=J^x[3];ia=4;for(la=1;la<q;la++)f=l[B>>>24]^h[y>>16&255]^k[A>>8&255]^g[t&255]^x[ia],c=l[y>>>24]^h[A>>16&255]^k[t>>8&255]^g[B&255]^x[ia+1],e=l[A>>>24]^h[t>>16&255]^k[B>>8&255]^g[y&255]^x[ia+2],t=l[t>>>24]^h[B>>16&255]^k[y>>8&255]^g[A&255]^x[ia+3],B=f,y=c,A=e,ia+=4;f=v[B>>>24]<<24^v[y>>16&255]<<16^v[A>>8&255]<<8^v[t&255]^x[ia];c=
v[y>>>24]<<24^v[A>>16&255]<<16^v[t>>8&255]<<8^v[B&255]^x[ia+1];e=v[A>>>24]<<24^v[t>>16&255]<<16^v[B>>8&255]<<8^v[y&255]^x[ia+2];t=v[t>>>24]<<24^v[B>>16&255]<<16^v[y>>8&255]<<8^v[A&255]^x[ia+3];m[C]=S(f^w);m[C+1]=S(t^r);m[C+2]=S(e^u);m[C+3]=S(c^p);w=H;r=J;u=N;p=ea;C+=4}return m.buffer};return K}()},"./src/crypt/decrypter.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>C});var X=G("./src/crypt/aes-crypto.ts"),T=G("./src/crypt/fast-aes-key.ts"),F=G("./src/crypt/aes-decryptor.ts"),K=G("./src/utils/logger.ts"),
E=G("./src/utils/mp4-tools.ts"),z=G("./src/utils/typed-array.ts"),C=function(){function w(x,v){v=(void 0===v?{}:v).removePKCS7Padding;v=void 0===v?!0:v;this.logEnabled=!0;this.removePKCS7Padding=void 0;this.currentResult=this.currentIV=this.remainderData=this.fastAesKey=this.key=this.softwareDecrypter=this.subtle=null;this.useSoftware=x.enableSoftwareAES;if(this.removePKCS7Padding=v)try{var g=self.crypto;g&&(this.subtle=g.subtle||g.webkitSubtle)}catch(l){}null===this.subtle&&(this.useSoftware=!0)}
var q=w.prototype;q.destroy=function(){this.currentResult=this.currentIV=this.remainderData=this.fastAesKey=this.key=this.softwareDecrypter=this.subtle=null};q.isSync=function(){return this.useSoftware};q.flush=function(){var x=this.currentResult,v=this.remainderData;if(!x||v)return this.reset(),null;x=new Uint8Array(x);this.reset();return this.removePKCS7Padding?(0,F.removePadding)(x):x};q.reset=function(){this.remainderData=this.currentIV=this.currentResult=null;this.softwareDecrypter&&(this.softwareDecrypter=
null)};q.decrypt=function(x,v,g){var l=this;return this.useSoftware?new Promise(function(h,k){l.softwareDecrypt(new Uint8Array(x),v,g);var p=l.flush();p?h(p.buffer):k(Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(x),v,g)};q.softwareDecrypt=function(x,v,g){var l=this.currentIV,h=this.currentResult,k=this.remainderData;this.logOnce("JS AES decrypt");k&&(x=(0,E.appendUint8Array)(k,x),this.remainderData=null);x=this.getValidChunk(x);if(!x.length)return null;
l&&(g=l);l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new F["default"]);l.expandKey(v);this.currentResult=l.decrypt(x.buffer,0,g);this.currentIV=(0,z.sliceUint8)(x,-16).buffer;return h?h:null};q.webCryptoDecrypt=function(x,v,g){var l=this,h=this.subtle;this.key===v&&this.fastAesKey||(this.key=v,this.fastAesKey=new T["default"](h,v));return this.fastAesKey.expandKey().then(function(k){if(!h)return Promise.reject(Error("web crypto not initialized"));l.logOnce("WebCrypto AES decrypt");return(new X["default"](h,
new Uint8Array(g))).decrypt(x.buffer,k)}).catch(function(k){K.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+k.name+": "+k.message);return l.onWebCryptoError(x,v,g)})};q.onWebCryptoError=function(x,v,g){this.logEnabled=this.useSoftware=!0;this.softwareDecrypt(x,v,g);if(x=this.flush())return x.buffer;throw Error("WebCrypto and softwareDecrypt: failed to decrypt data");};q.getValidChunk=function(x){var v=x,g=x.length-x.length%16;g!==x.length&&(v=(0,z.sliceUint8)(x,0,g),this.remainderData=
(0,z.sliceUint8)(x,g));return v};q.logOnce=function(x){this.logEnabled&&(K.logger.log("[decrypter]: "+x),this.logEnabled=!1)};return w}()},"./src/crypt/fast-aes-key.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});var X=function(){function T(F,K){this.key=this.subtle=void 0;this.subtle=F;this.key=K}T.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])};return T}()},"./src/demux/aacdemuxer.ts":(oa,Y,G)=>{function X(C,w){C.prototype=Object.create(w.prototype);
C.prototype.constructor=C;T(C,w)}function T(C,w){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,x){q.__proto__=x;return q};return T(C,w)}G.r(Y);G.d(Y,{"default":()=>z});oa=G("./src/demux/base-audio-demuxer.ts");var F=G("./src/demux/adts.ts"),K=G("./src/utils/logger.ts"),E=G("./src/demux/id3.ts");const z=function(C){function w(x,v){var g=C.call(this)||this;g.observer=void 0;g.observer=x;g.config=v;return g}X(w,C);var q=w.prototype;q.resetInitSegment=function(x,v,g,l){C.prototype.resetInitSegment.call(this,
x,v,g,l);this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:v,duration:l,inputTimeScale:9E4,dropped:0}};w.probe=function(x){if(!x)return!1;for(var v=(E.getID3Data(x,0)||[]).length,g=x.length;v<g;v++)if(F.probe(x,v))return K.logger.log("ADTS sync word found !"),!0;return!1};q.canParse=function(x,v){return F.canParse(x,v)};q.appendFrame=function(x,v,g){F.initTrackConfig(x,this.observer,v,g,x.manifestCodec);if((x=F.appendFrame(x,
v,g,this.basePTS,this.frameIndex))&&0===x.missing)return x};return w}(oa["default"])},"./src/demux/adts.ts":(oa,Y,G)=>{function X(p,r,u,m){var f=navigator.userAgent.toLowerCase();var c=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];var e=((r[u+2]&192)>>>6)+1;var t=(r[u+2]&60)>>>2;if(t>c.length-1)p.trigger(k.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+t});else{p=(r[u+2]&1)<<2;p|=(r[u+3]&
192)>>>6;l.logger.log("manifest codec:"+m+", ADTS type:"+e+", samplingIndex:"+t);if(/firefox/i.test(f))6<=t?(e=5,r=Array(4),f=t-3):(e=2,r=Array(2),f=t);else if(-1!==f.indexOf("android"))e=2,r=Array(2),f=t;else if(e=5,r=Array(4),m&&(-1!==m.indexOf("mp4a.40.29")||-1!==m.indexOf("mp4a.40.5"))||!m&&6<=t)f=t-3;else{if(m&&-1!==m.indexOf("mp4a.40.2")&&(6<=t&&1===p||/vivaldi/i.test(f))||!m&&1===p)e=2,r=Array(2);f=t}r[0]=e<<3;r[0]|=(t&14)>>1;r[1]|=(t&1)<<7;r[1]|=p<<3;5===e&&(r[1]|=(f&14)>>1,r[2]=(f&1)<<7,
r[2]|=8,r[3]=0);return{config:r,samplerate:c[t],channelCount:p,codec:"mp4a.40."+e,manifestCodec:m}}}function T(p,r){return 255===p[r]&&240===(p[r+1]&246)}function F(p,r){return p[r+1]&1?7:9}function K(p,r){return(p[r+3]&3)<<11|p[r+4]<<3|(p[r+5]&224)>>>5}function E(p,r){return r+5<p.length}function z(p,r){return r+1<p.length&&T(p,r)}function C(p,r){return E(p,r)&&T(p,r)&&K(p,r)<=p.length-r}function w(p,r){if(z(p,r)){var u=F(p,r);if(r+u>=p.length)return!1;var m=K(p,r);if(m<=u)return!1;r+=m;return r===
p.length||z(p,r)}return!1}function q(p,r,u,m,f){!p.samplerate&&(r=X(r,u,m,f))&&(p.config=r.config,p.samplerate=r.samplerate,p.channelCount=r.channelCount,p.codec=r.codec,p.manifestCodec=r.manifestCodec,l.logger.log("parsed codec:"+p.codec+", rate:"+r.samplerate+", channels:"+r.channelCount))}function x(p){return 9216E4/p}function v(p,r){var u=F(p,r);if(r+u<=p.length&&(p=K(p,r)-u,0<p))return{headerLength:u,frameLength:p}}function g(p,r,u,m,f){m+=9216E4/p.samplerate*f;if(f=v(r,u)){var c=f.headerLength,
e=c+f.frameLength,t=Math.max(0,u+e-r.length);t?(f=new Uint8Array(e-c),f.set(r.subarray(u+c,r.length),0)):f=r.subarray(u+c,u+e);r={unit:f,pts:m};t||p.samples.push(r);return{sample:r,length:e,missing:t}}p=r.length-u;f=new Uint8Array(p);f.set(r.subarray(u,r.length),0);return{sample:{unit:f,pts:m},length:p,missing:-1}}G.r(Y);G.d(Y,{appendFrame:()=>g,canGetFrameLength:()=>E,canParse:()=>C,getAudioConfig:()=>X,getFrameDuration:()=>x,getFullFrameLength:()=>K,getHeaderLength:()=>F,initTrackConfig:()=>q,isHeader:()=>
z,isHeaderPattern:()=>T,parseFrameHeader:()=>v,probe:()=>w});var l=G("./src/utils/logger.ts"),h=G("./src/errors.ts"),k=G("./src/events.ts")},"./src/demux/base-audio-demuxer.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>w,initPTSFn:()=>C});var X=G("./src/polyfills/number.ts"),T=G("./src/demux/id3.ts"),F=G("./src/types/demuxer.ts"),K=G("./src/demux/dummy-demuxed-track.ts"),E=G("./src/utils/mp4-tools.ts"),z=G("./src/utils/typed-array.ts"),C=function(q,x,v){return(0,X.isFiniteNumber)(q)?90*q:9E4*x+(v||0)};
const w=function(){function q(){this._id3Track=this._audioTrack=void 0;this.frameIndex=0;this.lastPTS=this.initPTS=this.basePTS=this.cachedData=null}var x=q.prototype;x.resetInitSegment=function(v,g,l,h){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],dropped:0}};x.resetTimeStamp=function(v){this.initPTS=v;this.resetContiguity()};x.resetContiguity=function(){this.lastPTS=this.basePTS=null;this.frameIndex=0};x.canParse=function(v,g){return!1};x.appendFrame=function(v,
g,l){};x.demux=function(v,g){this.cachedData&&(v=(0,E.appendUint8Array)(this.cachedData,v),this.cachedData=null);var l=T.getID3Data(v,0),h=l?l.length:0,k=this._audioTrack,p=this._id3Track,r=l?T.getTimeStamp(l):void 0,u=v.length;if(null===this.basePTS||0===this.frameIndex&&(0,X.isFiniteNumber)(r))this.lastPTS=this.basePTS=C(r,g,this.initPTS);null===this.lastPTS&&(this.lastPTS=this.basePTS);for(l&&0<l.length&&p.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:F.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});h<
u;){if(this.canParse(v,h))if(g=this.appendFrame(k,v,h)){this.frameIndex++;this.lastPTS=g.sample.pts;var m=h+=g.length}else h=u;else T.canParse(v,h)?(l=T.getID3Data(v,h),p.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:F.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),m=h+=l.length):h++;h===u&&m!==u&&(g=(0,z.sliceUint8)(v,m),this.cachedData=this.cachedData?(0,E.appendUint8Array)(this.cachedData,g):g)}return{audioTrack:k,videoTrack:(0,K.dummyTrack)(),id3Track:p,textTrack:(0,K.dummyTrack)()}};
x.demuxSampleAes=function(v,g,l){return Promise.reject(Error("["+this+"] This demuxer does not support Sample-AES decryption"))};x.flush=function(v){if(v=this.cachedData)this.cachedData=null,this.demux(v,0);return{audioTrack:this._audioTrack,videoTrack:(0,K.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,K.dummyTrack)()}};x.destroy=function(){};return q}()},"./src/demux/chunk-cache.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});var X=function(){function T(){this.chunks=[];this.dataLength=0}var F=
T.prototype;F.push=function(K){this.chunks.push(K);this.dataLength+=K.length};F.flush=function(){var K=this.chunks,E=this.dataLength;if(K.length)if(1===K.length)K=K[0];else{E=new Uint8Array(E);for(var z=0,C=0;C<K.length;C++){var w=K[C];E.set(w,z);z+=w.length}K=E}else return new Uint8Array(0);this.reset();return K};F.reset=function(){this.dataLength=this.chunks.length=0};return T}()},"./src/demux/dummy-demuxed-track.ts":(oa,Y,G)=>{function X(T,F){void 0===T&&(T="");void 0===F&&(F=9E4);return{type:T,
id:-1,pid:-1,inputTimeScale:F,sequenceNumber:-1,samples:[],dropped:0}}G.r(Y);G.d(Y,{dummyTrack:()=>X})},"./src/demux/exp-golomb.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>T});var X=G("./src/utils/logger.ts");const T=function(){function F(E){this.bitsAvailable=this.word=this.bytesAvailable=this.data=void 0;this.data=E;this.bytesAvailable=E.byteLength;this.bitsAvailable=this.word=0}var K=F.prototype;K.loadWord=function(){var E=this.data,z=this.bytesAvailable,C=E.byteLength-z,w=new Uint8Array(4);z=Math.min(4,
z);if(0===z)throw Error("no bytes available");w.set(E.subarray(C,C+z));this.word=(new DataView(w.buffer)).getUint32(0);this.bitsAvailable=8*z;this.bytesAvailable-=z};K.skipBits=function(E){E=Math.min(E,8*this.bytesAvailable+this.bitsAvailable);if(!(this.bitsAvailable>E)){E-=this.bitsAvailable;var z=E>>3;E-=z<<3;this.bytesAvailable-=z;this.loadWord()}this.word<<=E;this.bitsAvailable-=E};K.readBits=function(E){var z=Math.min(this.bitsAvailable,E),C=this.word>>>32-z;32<E&&X.logger.error("Cannot read more than 32 bits at a time");
this.bitsAvailable-=z;if(0<this.bitsAvailable)this.word<<=z;else if(0<this.bytesAvailable)this.loadWord();else throw Error("no bits available");z=E-z;return 0<z&&this.bitsAvailable?C<<z|this.readBits(z):C};K.skipLZ=function(){var E;for(E=0;E<this.bitsAvailable;++E)if(0!==(this.word&2147483648>>>E))return this.word<<=E,this.bitsAvailable-=E,E;this.loadWord();return E+this.skipLZ()};K.skipUEG=function(){this.skipBits(1+this.skipLZ())};K.skipEG=function(){this.skipBits(1+this.skipLZ())};K.readUEG=function(){var E=
this.skipLZ();return this.readBits(E+1)-1};K.readEG=function(){var E=this.readUEG();return 1&E?1+E>>>1:-1*(E>>>1)};K.readBoolean=function(){return 1===this.readBits(1)};K.readUByte=function(){return this.readBits(8)};K.readUShort=function(){return this.readBits(16)};K.readUInt=function(){return this.readBits(32)};K.skipScalingList=function(E){for(var z=8,C=8,w=0;w<E;w++)0!==C&&(C=this.readEG(),C=(z+C+256)%256),z=0===C?z:C};K.readSPS=function(){var E=0,z=0,C=0,w=0,q=this.readUByte.bind(this),x=this.readBits.bind(this),
v=this.readUEG.bind(this),g=this.readBoolean.bind(this),l=this.skipBits.bind(this),h=this.skipEG.bind(this),k=this.skipUEG.bind(this);var p=this.skipScalingList.bind(this);q();var r=q();x(5);l(3);q();k();if(100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r)if(r=v(),3===r&&l(1),k(),k(),l(1),g()){var u=3!==r?8:12;for(r=0;r<u;r++)g()&&(6>r?p(16):p(64))}k();p=v();if(0===p)v();else if(1===p)for(l(1),h(),h(),p=v(),r=0;r<p;r++)h();k();l(1);h=v();k=v();x=x(1);0===x&&l(1);l(1);g()&&
(E=v(),z=v(),C=v(),w=v());v=[1,1];if(g()&&g())switch(q()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[q()<<8|q(),q()<<8|q()]}return{width:Math.ceil(16*(h+1)-2*E-2*z),
height:(2-x)*(k+1)*16-(x?2:4)*(C+w),pixelRatio:v}};K.readSliceType=function(){this.readUByte();this.readUEG();return this.readUEG()};return F}()},"./src/demux/id3.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{canParse:()=>E,decodeFrame:()=>q,getID3Data:()=>F,getID3Frames:()=>w,getTimeStamp:()=>z,isFooter:()=>T,isHeader:()=>X,isTimeStampFrame:()=>C,testables:()=>g,utf8ArrayToStr:()=>v});var X=function(h,k){return k+10<=h.length&&73===h[k]&&68===h[k+1]&&51===h[k+2]&&255>h[k+3]&&255>h[k+4]&&128>h[k+6]&&128>h[k+7]&&128>
h[k+8]&&128>h[k+9]?!0:!1},T=function(h,k){return k+10<=h.length&&51===h[k]&&68===h[k+1]&&73===h[k+2]&&255>h[k+3]&&255>h[k+4]&&128>h[k+6]&&128>h[k+7]&&128>h[k+8]&&128>h[k+9]?!0:!1},F=function(h,k){for(var p=k,r=0;X(h,k);){r+=10;var u=K(h,k+6);r+=u;T(h,k+10)&&(r+=10);k+=r}if(0<r)return h.subarray(p,p+r)},K=function(h,k){var p=(h[k]&127)<<21;p|=(h[k+1]&127)<<14;p|=(h[k+2]&127)<<7;return p|=h[k+3]&127},E=function(h,k){return X(h,k)&&K(h,k+6)+10<=h.length-k},z=function(h){h=w(h);for(var k=0;k<h.length;k++){var p=
h[k];if(C(p))return 8===p.data.byteLength?(k=new Uint8Array(p.data),h=k[3]&1,k=(k[4]<<23)+(k[5]<<15)+(k[6]<<7)+k[7],k/=45,h&&(k+=4.772185884E7),h=Math.round(k)):h=void 0,h}},C=function(h){return h&&"PRIV"===h.key&&"com.apple.streaming.transportStreamTimestamp"===h.info},w=function(h){for(var k=0,p=[];X(h,k);){var r=K(h,k+6);k+=10;for(r=k+r;k+8<r;){var u=h.subarray(k);var m=String.fromCharCode(u[0],u[1],u[2],u[3]),f=K(u,4);u={type:m,size:f,data:u.subarray(10,10+f)};(m=q(u))&&p.push(m);k+=u.size+10}T(h,
k)&&(k+=10)}return p},q=function(h){if("PRIV"===h.type){if(2>h.size)h=void 0;else{var k=v(h.data,!0),p=new Uint8Array(h.data.subarray(k.length+1));h={key:h.type,info:k,data:p.buffer}}return h}return"W"===h.type[0]?("WXXX"===h.type?2>h.size?h=void 0:(p=1,k=v(h.data.subarray(p),!0),p+=k.length+1,p=v(h.data.subarray(p)),h={key:h.type,info:k,data:p}):(k=v(h.data),h={key:h.type,data:k}),h):x(h)},x=function(h){if(!(2>h.size)){if("TXXX"===h.type){var k=1,p=v(h.data.subarray(k),!0);k+=p.length+1;k=v(h.data.subarray(k));
return{key:h.type,info:p,data:k}}p=v(h.data.subarray(1));return{key:h.type,data:p}}},v=function(h,k){void 0===k&&(k=!1);var p;l||"undefined"===typeof self.TextDecoder||(l=new self.TextDecoder("utf-8"));if(p=l)return h=p.decode(h),k?(k=h.indexOf("\x00"),-1!==k?h.substring(0,k):h):h.replace(/\0/g,"");p=h.length;for(var r,u,m,f="",c=0;c<p;){r=h[c++];if(0===r&&k)break;else if(0===r||3===r)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:f+=String.fromCharCode(r);break;case 12:case 13:u=
h[c++];f+=String.fromCharCode((r&31)<<6|u&63);break;case 14:u=h[c++],m=h[c++],f+=String.fromCharCode((r&15)<<12|(u&63)<<6|(m&63)<<0)}}return f},g={decodeTextFrame:x},l},"./src/demux/mp3demuxer.ts":(oa,Y,G)=>{function X(C,w){C.prototype=Object.create(w.prototype);C.prototype.constructor=C;T(C,w)}function T(C,w){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,x){q.__proto__=x;return q};return T(C,w)}G.r(Y);G.d(Y,{"default":()=>z});oa=G("./src/demux/base-audio-demuxer.ts");var F=G("./src/demux/id3.ts"),
K=G("./src/utils/logger.ts"),E=G("./src/demux/mpegaudio.ts");const z=function(C){function w(){return C.apply(this,arguments)||this}X(w,C);var q=w.prototype;q.resetInitSegment=function(x,v,g,l){C.prototype.resetInitSegment.call(this,x,v,g,l);this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:v,duration:l,inputTimeScale:9E4,dropped:0}};w.probe=function(x){if(!x)return!1;for(var v=(F.getID3Data(x,0)||[]).length,g=x.length;v<
g;v++)if(E.probe(x,v))return K.logger.log("MPEG Audio sync word found !"),!0;return!1};q.canParse=function(x,v){return E.canParse(x,v)};q.appendFrame=function(x,v,g){if(null!==this.basePTS)return E.appendFrame(x,v,g,this.basePTS,this.frameIndex)};return w}(oa["default"])},"./src/demux/mp4demuxer.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>z});var X=G("./src/polyfills/number.ts"),T=G("./src/types/demuxer.ts"),F=G("./src/utils/mp4-tools.ts"),K=G("./src/demux/dummy-demuxed-track.ts"),E=/\/emsg[-/]ID3/i;
const z=function(){function C(q,x){this.remainderData=null;this.timeOffset=0;this.txtTrack=this.id3Track=this.audioTrack=this.videoTrack=void 0;this.config=x}var w=C.prototype;w.resetTimeStamp=function(){};w.resetInitSegment=function(q,x,v,g){x=this.videoTrack=(0,K.dummyTrack)("video",1);v=this.audioTrack=(0,K.dummyTrack)("audio",1);var l=this.txtTrack=(0,K.dummyTrack)("text",1);this.id3Track=(0,K.dummyTrack)("id3",1);this.timeOffset=0;if(q&&q.byteLength){q=(0,F.parseInitSegment)(q);if(q.video){var h=
q.video,k=h.timescale,p=h.codec;x.id=h.id;x.timescale=l.timescale=k;x.codec=p}q.audio&&(q=q.audio,h=q.timescale,k=q.codec,v.id=q.id,v.timescale=h,v.codec=k);l.id=F.RemuxerTrackIdConfig.text;x.sampleDuration=0;x.duration=v.duration=g}};w.resetContiguity=function(){};C.probe=function(q){q=16384<q.length?q.subarray(0,16384):q;return 0<(0,F.findBox)(q,["moof"]).length};w.demux=function(q,x){this.timeOffset=x;var v=q,g=this.videoTrack,l=this.txtTrack;this.config.progressive?(this.remainderData&&(v=(0,F.appendUint8Array)(this.remainderData,
q)),q=(0,F.segmentValidRange)(v),this.remainderData=q.remainder,g.samples=q.valid||new Uint8Array):g.samples=v;q=this.extractID3Track(g,x);l.samples=(0,F.parseSamples)(x,g);return{videoTrack:g,audioTrack:this.audioTrack,id3Track:q,textTrack:this.txtTrack}};w.flush=function(){var q=this.timeOffset,x=this.videoTrack,v=this.txtTrack;x.samples=this.remainderData||new Uint8Array;this.remainderData=null;var g=this.extractID3Track(x,this.timeOffset);v.samples=(0,F.parseSamples)(q,x);return{videoTrack:x,
audioTrack:(0,K.dummyTrack)(),id3Track:g,textTrack:(0,K.dummyTrack)()}};w.extractID3Track=function(q,x){var v=this.id3Track;q.samples.length&&(q=(0,F.findBox)(q.samples,["emsg"]))&&q.forEach(function(g){var l=(0,F.parseEmsg)(g);if(E.test(l.schemeIdUri)){g=(0,X.isFiniteNumber)(l.presentationTime)?l.presentationTime/l.timeScale:x+l.presentationTimeDelta/l.timeScale;var h=4294967295===l.eventDuration?Number.POSITIVE_INFINITY:l.eventDuration/l.timeScale;.001>=h&&(h=Number.POSITIVE_INFINITY);l=l.payload;
v.samples.push({data:l,len:l.byteLength,dts:g,pts:g,type:T.MetadataSchema.emsg,duration:h})}});return v};w.demuxSampleAes=function(q,x,v){return Promise.reject(Error("The MP4 demuxer does not support SAMPLE-AES decryption"))};w.destroy=function(){};return C}()},"./src/demux/mpegaudio.ts":(oa,Y,G)=>{function X(g,l,h,k,p){if(!(h+24>l.length)){var r=T(l,h);if(r&&h+r.frameLength<=l.length)return k+=9E4*r.samplesPerFrame/r.sampleRate*p,l={unit:l.subarray(h,h+r.frameLength),pts:k,dts:k},g.config=[],g.channelCount=
r.channelCount,g.samplerate=r.sampleRate,g.samples.push(l),{sample:l,length:r.frameLength,missing:0}}}function T(g,l){var h=g[l+1]>>3&3,k=g[l+1]>>1&3,p=g[l+2]>>4&15,r=g[l+2]>>2&3;if(1!==h&&0!==p&&15!==p&&3!==r){var u=g[l+3]>>6;p=1E3*w[14*(3===h?3-k:3===k?3:4)+p-1];r=q[3*(3===h?0:2===h?1:2)+r];var m=3===u?1:2,f=x[h][k],c=v[k];h=8*f*c;f=Math.floor(f*p/r+(g[l+2]>>1&1))*c;null===C&&(C=(c=(navigator.userAgent||"").match(/Chrome\/(\d+)/i))?parseInt(c[1]):0);C&&87>=C&&2===k&&224E3<=p&&0===u&&(g[l+3]|=128);
return{sampleRate:r,channelCount:m,frameLength:f,samplesPerFrame:h}}}function F(g,l){return 255===g[l]&&224===(g[l+1]&224)&&0!==(g[l+1]&6)}function K(g,l){return l+1<g.length&&F(g,l)}function E(g,l){return F(g,l)&&4<=g.length-l}function z(g,l){if(l+1<g.length&&F(g,l)){var h=T(g,l),k=4;null!==h&&void 0!==h&&h.frameLength&&(k=h.frameLength);l+=k;return l===g.length||K(g,l)}return!1}G.r(Y);G.d(Y,{appendFrame:()=>X,canParse:()=>E,isHeader:()=>K,isHeaderPattern:()=>F,parseHeader:()=>T,probe:()=>z});var C=
null,w=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],q=[44100,48E3,32E3,22050,24E3,16E3,11025,12E3,8E3],x=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],v=[0,1,1,4]},"./src/demux/sample-aes.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>F});var X=G("./src/crypt/decrypter.ts"),T=G("./src/utils/mp4-tools.ts");
const F=function(){function K(z,C,w){this.decrypter=void 0;this.keyData=w;this.decrypter=new X["default"](C,{removePKCS7Padding:!1})}var E=K.prototype;E.decryptBuffer=function(z){return this.decrypter.decrypt(z,this.keyData.key.buffer,this.keyData.iv.buffer)};E.decryptAacSample=function(z,C,w){var q=this,x=z[C].unit;if(!(16>=x.length)){var v=x.subarray(16,x.length-x.length%16);v=v.buffer.slice(v.byteOffset,v.byteOffset+v.length);this.decryptBuffer(v).then(function(g){g=new Uint8Array(g);x.set(g,16);
q.decrypter.isSync()||q.decryptAacSamples(z,C+1,w)})}};E.decryptAacSamples=function(z,C,w){for(;;C++){if(C>=z.length){w();break}if(!(32>z[C].unit.length||(this.decryptAacSample(z,C,w),this.decrypter.isSync())))break}};E.getAvcEncryptedData=function(z){for(var C=new Int8Array(16*Math.floor((z.length-48)/160)+16),w=0,q=32;q<z.length-16;q+=160,w+=16)C.set(z.subarray(q,q+16),w);return C};E.getAvcDecryptedUnit=function(z,C){C=new Uint8Array(C);for(var w=0,q=32;q<z.length-16;q+=160,w+=16)z.set(C.subarray(w,
w+16),q);return z};E.decryptAvcSample=function(z,C,w,q,x){var v=this,g=(0,T.discardEPB)(x.data),l=this.getAvcEncryptedData(g);this.decryptBuffer(l.buffer).then(function(h){x.data=v.getAvcDecryptedUnit(g,h);v.decrypter.isSync()||v.decryptAvcSamples(z,C,w+1,q)})};E.decryptAvcSamples=function(z,C,w,q){if(z instanceof Uint8Array)throw Error("Cannot decrypt samples of type Uint8Array");for(;;C++,w=0){if(C>=z.length){q();break}for(var x=z[C].units;!(w>=x.length);w++){var v=x[w];if(!(48>=v.data.length||
1!==v.type&&5!==v.type||(this.decryptAvcSample(z,C,w,q,v),this.decrypter.isSync())))return}}};return K}()},"./src/demux/transmuxer-interface.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>w});var X=G("./src/demux/webworkify-webpack.js"),T=G("./src/events.ts"),F=G("./src/demux/transmuxer.ts"),K=G("./src/utils/logger.ts"),E=G("./src/errors.ts");oa=G("./src/utils/mediasource-helper.ts");var z=G("./node_modules/eventemitter3/index.js");G.n(z);var C=(0,oa.getMediaSource)()||{isTypeSupported:function(){return!1}},
w=function(){function q(v,g,l,h){var k=this;this.observer=this.id=this.hls=void 0;this.part=this.frag=null;this.onwmsg=this.worker=this.useWorker=void 0;this.transmuxer=null;this.onFlush=this.onTransmuxComplete=void 0;var p=v.config;this.hls=v;this.id=g;this.useWorker=!!p.enableWorker;this.onTransmuxComplete=l;this.onFlush=h;v=function(u,m){m=m||{};m.frag=k.frag;m.id=k.id;k.hls.trigger(u,m)};this.observer=new z.EventEmitter;this.observer.on(T.Events.FRAG_DECRYPTED,v);this.observer.on(T.Events.ERROR,
v);v={mp4:C.isTypeSupported("video/mp4"),mpeg:C.isTypeSupported("audio/mpeg"),mp3:C.isTypeSupported('audio/mp4; codecs\x3d"mp3"')};l=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){K.logger.log("demuxing in webworker");try{var r=this.worker=(0,X["default"])("./src/demux/transmuxer-worker.ts");this.onwmsg=this.onWorkerMessage.bind(this);r.addEventListener("message",this.onwmsg);r.onerror=function(u){k.useWorker=!1;K.logger.warn("Exception in webworker, fallback to inline");k.hls.trigger(T.Events.ERROR,
{type:E.ErrorTypes.OTHER_ERROR,details:E.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Error(u.message+"  ("+u.filename+":"+u.lineno+")")})};r.postMessage({cmd:"init",typeSupported:v,vendor:l,id:g,config:JSON.stringify(p)})}catch(u){K.logger.warn("Error in worker:",u),K.logger.error("Error while initializing DemuxerWorker, fallback to inline"),r&&self.URL.revokeObjectURL(r.objectURL),this.transmuxer=new F["default"](this.observer,v,p,l,g),this.worker=null}}else this.transmuxer=
new F["default"](this.observer,v,p,l,g)}var x=q.prototype;x.destroy=function(){var v=this.worker;if(v)v.removeEventListener("message",this.onwmsg),v.terminate(),this.worker=null,this.onwmsg=void 0;else if(v=this.transmuxer)v.destroy(),this.transmuxer=null;(v=this.observer)&&v.removeAllListeners();this.hls=this.observer=this.frag=null};x.push=function(v,g,l,h,k,p,r,u,m,f){var c,e,t=this;m.transmuxing.start=self.performance.now();var B=this.transmuxer,y=this.worker,A=p?p.start:k.start,H=k.decryptdata,
J=this.frag,N=!(J&&k.cc===J.cc),ea=!(J&&m.level===J.level),ia=J?m.sn-J.sn:-1,la=this.part?m.part-this.part.index:-1,S=0===ia&&1<m.id&&m.id===(null===J||void 0===J?void 0:J.stats.chunkCount);S=!ea&&(1===ia||0===ia&&(1===la||S&&0>=la));var aa=self.performance.now();if(ea||ia||0===k.stats.parsing.start)k.stats.parsing.start=aa;!p||!la&&S||(p.stats.parsing.start=aa);ia=!(J&&(null===(c=k.initSegment)||void 0===c?void 0:c.url)===(null===(e=J.initSegment)||void 0===e?void 0:e.url));c=new F.TransmuxState(N,
S,u,ea,A,ia);if(!S||N||ia)K.logger.log("[transmuxer-interface, "+k.type+"]: Starting new transmux session for sn: "+m.sn+" p: "+m.part+" level: "+m.level+" id: "+m.id+"\n        discontinuity: "+N+"\n        trackSwitch: "+ea+"\n        contiguous: "+S+"\n        accurateTimeOffset: "+u+"\n        timeOffset: "+A+"\n        initSegmentChange: "+ia),g=new F.TransmuxConfig(l,h,g,r,f),this.configureTransmuxer(g);this.frag=k;this.part=p;y?y.postMessage({cmd:"demux",data:v,decryptdata:H,chunkMeta:m,state:c},
v instanceof ArrayBuffer?[v]:[]):B&&(v=B.push(v,H,m,c),(0,F.isPromise)(v)?(B.async=!0,v.then(function(da){t.handleTransmuxComplete(da)}).catch(function(da){t.transmuxerError(da,m,"transmuxer-interface push error")})):(B.async=!1,this.handleTransmuxComplete(v)))};x.flush=function(v){var g=this;v.transmuxing.start=self.performance.now();var l=this.transmuxer,h=this.worker;h?(1,h.postMessage({cmd:"flush",chunkMeta:v})):l&&(h=l.flush(v),(0,F.isPromise)(h)||l.async?((0,F.isPromise)(h)||(h=Promise.resolve(h)),
h.then(function(k){g.handleFlushResult(k,v)}).catch(function(k){g.transmuxerError(k,v,"transmuxer-interface flush error")})):this.handleFlushResult(h,v))};x.transmuxerError=function(v,g,l){this.hls&&this.hls.trigger(T.Events.ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:g,fatal:!1,error:v,err:v,reason:l})};x.handleFlushResult=function(v,g){var l=this;v.forEach(function(h){l.handleTransmuxComplete(h)});this.onFlush(g)};x.onWorkerMessage=function(v){v=v.data;
var g=this.hls;switch(v.event){case "init":self.URL.revokeObjectURL(this.worker.objectURL);break;case "transmuxComplete":this.handleTransmuxComplete(v.data);break;case "flush":this.onFlush(v.data);break;case "workerLog":if(K.logger[v.data.logType])K.logger[v.data.logType](v.data.message);break;default:v.data=v.data||{},v.data.frag=this.frag,v.data.id=this.id,g.trigger(v.event,v.data)}};x.configureTransmuxer=function(v){var g=this.worker,l=this.transmuxer;g?g.postMessage({cmd:"configure",config:v}):
l&&l.configure(v)};x.handleTransmuxComplete=function(v){v.chunkMeta.transmuxing.end=self.performance.now();this.onTransmuxComplete(v)};return q}()},"./src/demux/transmuxer-worker.ts":(oa,Y,G)=>{function X(x){var v=new w.EventEmitter,g=function(h,k){x.postMessage({event:h,data:k})};v.on(z.Events.FRAG_DECRYPTED,g);v.on(z.Events.ERROR,g);var l=function(){var h=function(p){C.logger[p]=function(r){g("workerLog",{logType:p,message:r})}},k;for(k in C.logger)h(k)};x.addEventListener("message",function(h){var k=
h.data;switch(k.cmd){case "init":h=JSON.parse(k.config);x.transmuxer=new E["default"](v,k.typeSupported,h,k.vendor,k.id);(0,C.enableLogs)(h.debug,k.id);l();g("init",null);break;case "configure":x.transmuxer.configure(k.config);break;case "demux":h=x.transmuxer.push(k.data,k.decryptdata,k.chunkMeta,k.state);(0,E.isPromise)(h)?(x.transmuxer.async=!0,h.then(function(r){T(x,r)}).catch(function(r){g(z.Events.ERROR,{type:q.ErrorTypes.MEDIA_ERROR,details:q.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:k.chunkMeta,
fatal:!1,error:r,err:r,reason:"transmuxer-worker push error"})})):(x.transmuxer.async=!1,T(x,h));break;case "flush":var p=k.chunkMeta;h=x.transmuxer.flush(p);(0,E.isPromise)(h)||x.transmuxer.async?((0,E.isPromise)(h)||(h=Promise.resolve(h)),h.then(function(r){K(x,r,p)}).catch(function(r){g(z.Events.ERROR,{type:q.ErrorTypes.MEDIA_ERROR,details:q.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:k.chunkMeta,fatal:!1,error:r,err:r,reason:"transmuxer-worker flush error"})})):K(x,h,p)}})}function T(x,v){var g=
v.remuxResult;if(!(g.audio||g.video||g.text||g.id3||g.initSegment))return!1;g=[];var l=v.remuxResult,h=l.audio;l=l.video;h&&F(g,h);l&&F(g,l);x.postMessage({event:"transmuxComplete",data:v},g);return!0}function F(x,v){v.data1&&x.push(v.data1.buffer);v.data2&&x.push(v.data2.buffer)}function K(x,v,g){v.reduce(function(l,h){return T(x,h)||l},!1)||x.postMessage({event:"transmuxComplete",data:v[0]});x.postMessage({event:"flush",data:g})}G.r(Y);G.d(Y,{"default":()=>X});var E=G("./src/demux/transmuxer.ts"),
z=G("./src/events.ts"),C=G("./src/utils/logger.ts"),w=G("./node_modules/eventemitter3/index.js");G.n(w);var q=G("./src/errors.ts")},"./src/demux/transmuxer.ts":(oa,Y,G)=>{function X(p,r){var u=null;0<p.byteLength&&null!=r&&null!=r.key&&null!==r.iv&&null!=r.method&&(u=r);return u}function T(p){return"then"in p&&p.then instanceof Function}G.r(Y);G.d(Y,{TransmuxConfig:()=>h,TransmuxState:()=>k,"default":()=>l,isPromise:()=>T});var F=G("./src/events.ts"),K=G("./src/errors.ts"),E=G("./src/crypt/decrypter.ts");
oa=G("./src/demux/aacdemuxer.ts");var z=G("./src/demux/mp4demuxer.ts");Y=G("./src/demux/tsdemuxer.ts");var C=G("./src/demux/mp3demuxer.ts"),w=G("./src/remux/mp4-remuxer.ts"),q=G("./src/remux/passthrough-remuxer.ts"),x=G("./src/utils/logger.ts");try{var v=self.performance.now.bind(self.performance)}catch(p){x.logger.debug("Unable to use Performance API on this environment"),v=self.Date.now}var g=[{demux:z["default"],remux:q["default"]},{demux:Y["default"],remux:w["default"]},{demux:oa["default"],remux:w["default"]},
{demux:C["default"],remux:w["default"]}],l=function(){function p(u,m,f,c,e){this.async=!1;this.probe=this.decrypter=this.remuxer=this.demuxer=this.id=this.vendor=this.config=this.typeSupported=this.observer=void 0;this.decryptionPromise=null;this.currentTransmuxState=this.transmuxConfig=void 0;this.observer=u;this.typeSupported=m;this.config=f;this.vendor=c;this.id=e}var r=p.prototype;r.configure=function(u){this.transmuxConfig=u;this.decrypter&&this.decrypter.reset()};r.push=function(u,m,f,c){var e=
this,t=f.transmuxing;t.executeStart=v();u=new Uint8Array(u);var B=this.currentTransmuxState,y=this.transmuxConfig;c&&(this.currentTransmuxState=c);var A=c||B;c=A.contiguous;B=A.discontinuity;var H=A.trackSwitch,J=A.accurateTimeOffset,N=A.timeOffset;A=A.initSegmentChange;var ea=y.audioCodec,ia=y.videoCodec,la=y.defaultInitPts,S=y.duration;y=y.initSegmentData;var aa=X(u,m);if(aa&&"AES-128"===aa.method){var da=this.getDecrypter();if(da.isSync()){u=da.softwareDecrypt(u,aa.key.buffer,aa.iv.buffer);-1<
f.part&&(u=da.flush());if(!u)return t.executeEnd=v(),{remuxResult:{},chunkMeta:f};u=new Uint8Array(u)}else return this.decryptionPromise=da.webCryptoDecrypt(u,aa.key.buffer,aa.iv.buffer).then(function(ma){ma=e.push(ma,null,f);e.decryptionPromise=null;return ma})}(da=this.needsProbing(B,H))&&this.configureTransmuxer(u);(B||H||A||da)&&this.resetInitSegment(y,ea,ia,S,m);(B||A||da)&&this.resetInitialTimestamp(la);c||this.resetContiguity();m=this.transmux(u,aa,N,J,f);u=this.currentTransmuxState;u.contiguous=
!0;u.discontinuity=!1;u.trackSwitch=!1;t.executeEnd=v();return m};r.flush=function(u){var m=this,f=u.transmuxing;f.executeStart=v();var c=this.decrypter,e=this.currentTransmuxState,t=this.decryptionPromise;if(t)return t.then(function(){return m.flush(u)});var B=[];e=e.timeOffset;c&&(c=c.flush())&&B.push(this.push(c,null,u));c=this.demuxer;t=this.remuxer;if(!c||!t)return this.observer.emit(F.Events.ERROR,F.Events.ERROR,{type:K.ErrorTypes.MEDIA_ERROR,details:K.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,
reason:"no demux matching with content found"}),f.executeEnd=v(),[{remuxResult:{},chunkMeta:u}];f=c.flush(e);if(T(f))return f.then(function(y){m.flushRemux(B,y,u);return B});this.flushRemux(B,f,u);return B};r.flushRemux=function(u,m,f){var c=m.audioTrack,e=m.videoTrack,t=m.id3Track;m=m.textTrack;var B=this.currentTransmuxState,y=B.accurateTimeOffset;B=B.timeOffset;x.logger.log("[transmuxer.ts]: Flushed fragment "+f.sn+(-1<f.part?" p: "+f.part:"")+" of level "+f.level);c=this.remuxer.remux(c,e,t,m,
B,y,!0,this.id);u.push({remuxResult:c,chunkMeta:f});f.transmuxing.executeEnd=v()};r.resetInitialTimestamp=function(u){var m=this.demuxer,f=this.remuxer;m&&f&&(m.resetTimeStamp(u),f.resetTimeStamp(u))};r.resetContiguity=function(){var u=this.demuxer,m=this.remuxer;u&&m&&(u.resetContiguity(),m.resetNextTimestamp())};r.resetInitSegment=function(u,m,f,c,e){var t=this.demuxer,B=this.remuxer;t&&B&&(t.resetInitSegment(u,m,f,c),B.resetInitSegment(u,m,f,e))};r.destroy=function(){this.demuxer&&(this.demuxer.destroy(),
this.demuxer=void 0);this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)};r.transmux=function(u,m,f,c,e){return m&&"SAMPLE-AES"===m.method?this.transmuxSampleAes(u,m,f,c,e):this.transmuxUnencrypted(u,f,c,e)};r.transmuxUnencrypted=function(u,m,f,c){u=this.demuxer.demux(u,m,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(u.audioTrack,u.videoTrack,u.id3Track,u.textTrack,m,f,!1,this.id),chunkMeta:c}};r.transmuxSampleAes=function(u,m,f,c,e){var t=this;return this.demuxer.demuxSampleAes(u,
m,f).then(function(B){return{remuxResult:t.remuxer.remux(B.audioTrack,B.videoTrack,B.id3Track,B.textTrack,f,c,!1,t.id),chunkMeta:e}})};r.configureTransmuxer=function(u){for(var m=this.config,f=this.observer,c=this.typeSupported,e=this.vendor,t,B=0,y=g.length;B<y;B++)if(g[B].demux.probe(u)){t=g[B];break}t||(x.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),t={demux:z["default"],remux:q["default"]});u=this.demuxer;B=this.remuxer;y=t.remux;t=t.demux;B&&B instanceof
y||(this.remuxer=new y(f,m,c,e));u&&u instanceof t||(this.demuxer=new t(f,m,c),this.probe=t.probe)};r.needsProbing=function(u,m){return!this.demuxer||!this.remuxer||u||m};r.getDecrypter=function(){var u=this.decrypter;u||(u=this.decrypter=new E["default"](this.config));return u};return p}(),h=function(p,r,u,m,f){this.defaultInitPts=this.duration=this.initSegmentData=this.videoCodec=this.audioCodec=void 0;this.audioCodec=p;this.videoCodec=r;this.initSegmentData=u;this.duration=m;this.defaultInitPts=
f},k=function(p,r,u,m,f,c){this.discontinuity=p;this.contiguous=r;this.accurateTimeOffset=u;this.trackSwitch=m;this.timeOffset=f;this.initSegmentChange=c}},"./src/demux/tsdemuxer.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(k){for(var p=1;p<arguments.length;p++){var r=arguments[p],u;for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&(k[u]=r[u])}return k};return X.apply(this,arguments)}function T(k,p,r,u){return{key:k,frame:!1,pts:p,dts:r,units:[],debug:u,length:0}}
function F(k){var p=0,r,u=k.data;if(!k||0===k.size)return null;for(;19>u[0].length&&1<u.length;){var m=new Uint8Array(u[0].length+u[1].length);m.set(u[0]);m.set(u[1],u[0].length);u[0]=m;u.splice(1,1)}m=u[0];if(1===(m[0]<<16)+(m[1]<<8)+m[2]){if((r=(m[4]<<8)+m[5])&&r>k.size-6)return null;var f=m[7];if(f&192){var c=536870912*(m[9]&14)+4194304*(m[10]&255)+16384*(m[11]&254)+128*(m[12]&255)+(m[13]&254)/2;if(f&64){var e=536870912*(m[14]&14)+4194304*(m[15]&255)+16384*(m[16]&254)+128*(m[17]&255)+(m[18]&254)/
2;54E5<c-e&&(v.logger.warn(Math.round((c-e)/9E4)+"s delta between PTS and DTS, align them"),c=e)}else e=c}f=m[8];var t=f+9;if(k.size<=t)return null;k.size-=t;k=new Uint8Array(k.size);for(var B=0,y=u.length;B<y;B++){m=u[B];var A=m.byteLength;if(t)if(t>A){t-=A;continue}else m=m.subarray(t),A-=t,t=0;k.set(m,p);p+=A}r&&(r-=f+3);return{data:k,pts:c,dts:e,len:r}}return null}function K(k,p){if(k.units.length&&k.frame){if(void 0===k.pts){var r=p.samples,u=r.length;if(u)r=r[u-1],k.pts=r.pts,k.dts=r.dts;else{p.dropped++;
return}}p.samples.push(k)}k.debug.length&&v.logger.log(k.pts+"/"+k.dts+":"+k.debug)}G.r(Y);G.d(Y,{"default":()=>h});var E=G("./src/demux/adts.ts"),z=G("./src/demux/mpegaudio.ts"),C=G("./src/demux/exp-golomb.ts"),w=G("./src/demux/sample-aes.ts"),q=G("./src/events.ts"),x=G("./src/utils/mp4-tools.ts"),v=G("./src/utils/logger.ts"),g=G("./src/errors.ts"),l=G("./src/types/demuxer.ts");const h=function(){function k(r,u,m){this.sampleAes=null;this.pmtParsed=!1;this.videoCodec=this.audioCodec=void 0;this._duration=
0;this._pmtId=-1;this._txtTrack=this._id3Track=this._audioTrack=this._avcTrack=void 0;this.remainderData=this.avcSample=this.aacOverFlow=null;this.observer=r;this.config=u;this.typeSupported=m}k.probe=function(r){r=k.syncOffset(r);0<r&&v.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r);return-1!==r};k.syncOffset=function(r){for(var u=r.length,m=Math.min(940,r.length-188)+1,f=0;f<m;){for(var c=!1,e=f;e<u;e+=188)if(71===r[e]){if(c||0!==((r[e+1]&31)<<8)+r[e+2]||(c=!0),c&&e+188>
m)return f}else break;f++}return-1};k.createTrack=function(r,u){return{container:"video"===r||"audio"===r?"video/mp2t":void 0,type:r,id:x.RemuxerTrackIdConfig[r],pid:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===r?u:void 0}};var p=k.prototype;p.resetInitSegment=function(r,u,m,f){this.pmtParsed=!1;this._pmtId=-1;this._avcTrack=k.createTrack("video");this._audioTrack=k.createTrack("audio",f);this._id3Track=k.createTrack("id3");this._txtTrack=k.createTrack("text");this._audioTrack.segmentCodec=
"aac";this.remainderData=this.avcSample=this.aacOverFlow=null;this.audioCodec=u;this.videoCodec=m;this._duration=f};p.resetTimeStamp=function(){};p.resetContiguity=function(){var r=this._audioTrack,u=this._avcTrack,m=this._id3Track;r&&(r.pesData=null);u&&(u.pesData=null);m&&(m.pesData=null);this.remainderData=this.avcSample=this.aacOverFlow=null};p.demux=function(r,u,m,f){void 0===m&&(m=!1);void 0===f&&(f=!1);m||(this.sampleAes=null);var c;u=this._avcTrack;var e=this._audioTrack,t=this._id3Track,
B=this._txtTrack,y=u.pid,A=u.pesData,H=e.pid,J=t.pid,N=e.pesData,ea=t.pesData,ia=null,la=this.pmtParsed,S=this._pmtId,aa=r.length;this.remainderData&&(r=(0,x.appendUint8Array)(this.remainderData,r),aa=r.length,this.remainderData=null);if(188>aa&&!f)return this.remainderData=r,{audioTrack:e,videoTrack:u,id3Track:t,textTrack:B};var da=Math.max(0,k.syncOffset(r));aa-=(aa-da)%188;aa<r.byteLength&&!f&&(this.remainderData=new Uint8Array(r.buffer,aa,r.buffer.byteLength-aa));for(var ma=0,na=da;na<aa;na+=
188)if(71===r[na]){var Ba=!!(r[na+1]&64),Na=((r[na+1]&31)<<8)+r[na+2];if(1<(r[na+3]&48)>>4){var ra=na+5+r[na+4];if(ra===na+188)continue}else ra=na+4;switch(Na){case y:Ba&&(A&&(c=F(A))&&this.parseAVCPES(u,B,c,!1),A={data:[],size:0});A&&(A.data.push(r.subarray(ra,na+188)),A.size+=na+188-ra);break;case H:if(Ba){if(N&&(c=F(N)))switch(e.segmentCodec){case "aac":this.parseAACPES(e,c);break;case "mp3":this.parseMPEGPES(e,c)}N={data:[],size:0}}N&&(N.data.push(r.subarray(ra,na+188)),N.size+=na+188-ra);break;
case J:Ba&&(ea&&(c=F(ea))&&this.parseID3PES(t,c),ea={data:[],size:0});ea&&(ea.data.push(r.subarray(ra,na+188)),ea.size+=na+188-ra);break;case 0:Ba&&(ra+=r[ra]+1);S=this._pmtId=(r[ra+10]&31)<<8|r[ra+11];break;case S:Ba&&(ra+=r[ra]+1);y=r;H=ra;ra=this.typeSupported;J=m;Ba={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"};Na=H+3+((y[H+1]&15)<<8|y[H+2])-4;for(H+=12+((y[H+10]&15)<<8|y[H+11]);H<Na;){var Pa=((y[H+1]&31)<<8)+y[H+2];switch(y[H]){case 207:if(!J){v.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");
break}case 15:-1===Ba.audio&&(Ba.audio=Pa);break;case 21:-1===Ba.id3&&(Ba.id3=Pa);break;case 219:if(!J){v.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===Ba.avc&&(Ba.avc=Pa);break;case 3:case 4:!0!==ra.mpeg&&!0!==ra.mp3?v.logger.log("MPEG audio found, not supported in this browser"):-1===Ba.audio&&(Ba.audio=Pa,Ba.segmentCodec="mp3");break;case 36:v.logger.warn("Unsupported HEVC stream type found")}H+=((y[H+3]&15)<<8|y[H+4])+5}ra=Ba;y=ra.avc;0<y&&
(u.pid=y);H=ra.audio;0<H&&(e.pid=H,e.segmentCodec=ra.segmentCodec);J=ra.id3;0<J&&(t.pid=J);null===ia||la||(v.logger.warn("MPEG-TS PMT found at "+na+" after unknown PID '"+ia+"'. Backtracking to sync byte @"+da+" to parse all TS packets."),ia=null,na=da-188);la=this.pmtParsed=!0;break;case 17:case 8191:break;default:ia=Na}}else ma++;0<ma&&this.observer.emit(q.Events.ERROR,q.Events.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+ma+" TS packet/s that do not start with 0x47"});
u.pesData=A;e.pesData=N;t.pesData=ea;r={audioTrack:e,videoTrack:u,id3Track:t,textTrack:B};f&&this.extractRemainingSamples(r);return r};p.flush=function(){var r=this.remainderData;this.remainderData=null;r=r?this.demux(r,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack};this.extractRemainingSamples(r);return this.sampleAes?this.decrypt(r,this.sampleAes):r};p.extractRemainingSamples=function(r){var u=r.audioTrack,m=r.videoTrack,f=r.id3Track;
r=r.textTrack;var c=m.pesData,e=u.pesData,t=f.pesData,B;c&&(B=F(c))?(this.parseAVCPES(m,r,B,!0),m.pesData=null):m.pesData=c;if(e&&(B=F(e))){switch(u.segmentCodec){case "aac":this.parseAACPES(u,B);break;case "mp3":this.parseMPEGPES(u,B)}u.pesData=null}else null!==e&&void 0!==e&&e.size&&v.logger.log("last AAC PES packet truncated,might overlap between fragments"),u.pesData=e;t&&(B=F(t))?(this.parseID3PES(f,B),f.pesData=null):f.pesData=t};p.demuxSampleAes=function(r,u,m){r=this.demux(r,m,!0,!this.config.progressive);
u=this.sampleAes=new w["default"](this.observer,this.config,u);return this.decrypt(r,u)};p.decrypt=function(r,u){return new Promise(function(m){var f=r.audioTrack,c=r.videoTrack;f.samples&&"aac"===f.segmentCodec?u.decryptAacSamples(f.samples,0,function(){c.samples?u.decryptAvcSamples(c.samples,0,0,function(){m(r)}):m(r)}):c.samples&&u.decryptAvcSamples(c.samples,0,0,function(){m(r)})})};p.destroy=function(){this._duration=0};p.parseAVCPES=function(r,u,m,f){var c=this,e=this.parseAVCNALu(r,m.data),
t=this.avcSample,B,y=!1;m.data=null;t&&e.length&&!r.audFound&&(K(t,r),t=this.avcSample=T(!1,m.pts,m.dts,""));e.forEach(function(A){switch(A.type){case 1:B=!0;t||(t=c.avcSample=T(!0,m.pts,m.dts,""));t.frame=!0;var H=A.data;y&&4<H.length&&(H=(new C["default"](H)).readSliceType(),2===H||4===H||7===H||9===H)&&(t.key=!0);break;case 5:B=!0;t||(t=c.avcSample=T(!0,m.pts,m.dts,""));t.key=!0;t.frame=!0;break;case 6:B=!0;(0,x.parseSEIMessageFromNALu)(A.data,1,m.pts,u.samples);break;case 7:y=B=!0;if(!r.sps){H=
(new C["default"](A.data)).readSPS();r.width=H.width;r.height=H.height;r.pixelRatio=H.pixelRatio;r.sps=[A.data];r.duration=c._duration;H=A.data.subarray(1,4);for(var J="avc1.",N=0;3>N;N++){var ea=H[N].toString(16);2>ea.length&&(ea="0"+ea);J+=ea}r.codec=J}break;case 8:B=!0;r.pps||(r.pps=[A.data]);break;case 9:B=!1;r.audFound=!0;t&&K(t,r);t=c.avcSample=T(!1,m.pts,m.dts,"");break;case 12:B=!0;break;default:B=!1,t&&(t.debug+="unknown NAL "+A.type+" ")}t&&B&&t.units.push(A)});f&&t&&(K(t,r),this.avcSample=
null)};p.getLastNalUnit=function(r){var u,m=this.avcSample;m&&0!==m.units.length||(m=r[r.length-1]);if(null!==(u=m)&&void 0!==u&&u.units){r=m.units;var f=r[r.length-1]}return f};p.parseAVCNALu=function(r,u){var m=u.byteLength,f=r.naluState||0,c=f,e=[],t=0,B=-1,y=0;-1===f&&(B=0,y=u[0]&31,f=0,t=1);for(;t<m;){var A=u[t++];if(f)if(1===f)f=A?0:2;else if(A)if(1===A){if(0<=B)f={data:u.subarray(B,t-f-1),type:y},e.push(f);else if(A=this.getLastNalUnit(r.samples))if(c&&t<=4-c&&A.state&&(A.data=A.data.subarray(0,
A.data.byteLength-c)),f=t-f-1,0<f){var H=new Uint8Array(A.data.byteLength+f);H.set(A.data,0);H.set(u.subarray(0,f),A.data.byteLength);A.data=H;A.state=0}t<m?(f=u[t]&31,B=t,y=f,f=0):f=-1}else f=0;else f=3;else f=A?0:1}0<=B&&0<=f&&(m={data:u.subarray(B,m),type:y,state:f},e.push(m));0===e.length&&(m=this.getLastNalUnit(r.samples))&&(c=new Uint8Array(m.data.byteLength+u.byteLength),c.set(m.data,0),c.set(u,m.data.byteLength),m.data=c);r.naluState=f;return e};p.parseAACPES=function(r,u){var m=0,f=this.aacOverFlow,
c=u.data;if(f){this.aacOverFlow=null;var e=f.missing,t=f.sample.unit.byteLength;-1===e?(e=new Uint8Array(t+c.byteLength),e.set(f.sample.unit,0),e.set(c,t),c=e):(t-=e,f.sample.unit.set(c.subarray(0,e),t),r.samples.push(f.sample),m=f.missing)}e=m;for(t=c.length;e<t-1&&!E.isHeader(c,e);e++);if(e!==m){if(e<t-1){m="AAC PES did not start with ADTS header,offset:"+e;var B=!1}else m="no ADTS header found in AAC PES",B=!0;v.logger.warn("parsing error:"+m);this.observer.emit(q.Events.ERROR,q.Events.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,
details:g.ErrorDetails.FRAG_PARSING_ERROR,fatal:B,reason:m});if(B)return}E.initTrackConfig(r,this.observer,c,e,this.audioCodec);if(void 0!==u.pts)f=u.pts;else if(f)u=E.getFrameDuration(r.samplerate),f=f.sample.pts+u;else{v.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}for(u=0;e<t;)if(m=E.appendFrame(r,c,e,f,u),e+=m.length,m.missing){this.aacOverFlow=m;break}else for(u++;e<t-1&&!E.isHeader(c,e);e++);};p.parseMPEGPES=function(r,u){var m=u.data,f=m.length,c=0,e=0;u=u.pts;if(void 0===u)v.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");
else for(;e<f;)if(z.isHeader(m,e)){var t=z.appendFrame(r,m,e,u,c);if(t)e+=t.length,c++;else break}else e++};p.parseID3PES=function(r,u){void 0===u.pts?v.logger.warn("[tsdemuxer]: ID3 PES unknown PTS"):(u=X({},u,{type:this._avcTrack?l.MetadataSchema.emsg:l.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),r.samples.push(u))};return k}()},"./src/demux/webworkify-webpack.js":(oa,Y,G)=>{function X(q){return(q+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$\x26")}function T(q){return Object.keys(q).reduce(function(x,
v){return x||0<q[v].length},!1)}function F(q,x){x={main:[x]};for(var v={main:[]},g={main:{}};T(x);)for(var l=Object.keys(x),h=0;h<l.length;h++){var k=l[h],p=x[k].pop();g[k]=g[k]||{};if(!g[k][p]&&q[k][p]){g[k][p]=!0;v[k]=v[k]||[];v[k].push(p);var r,u=q,m=q[k][p];p=k;k={};k[p]=[];m=m.toString().replace(/^"[^"]+"/,"function");if(r=m.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||m.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?=\s?>/)){for(var f=r[1],c=new RegExp("(\\\\n|\\W)"+X(f)+w,"g");r=c.exec(m);)"dll-reference"!==
r[3]&&k[p].push(r[3]);for(c=new RegExp("\\("+X(f)+'\\("(dll-reference\\s('+C+'))"\\)\\)'+w,"g");r=c.exec(m);)u[r[2]]||(k[p].push(r[1]),u[r[2]]=G(r[1]).m),k[r[2]]=k[r[2]]||[],k[r[2]].push(r[4]);u=Object.keys(k);for(p=0;p<u.length;p++)for(m=0;m<k[u[p]].length;m++)!isNaN(1*k[u[p]][m])&&(k[u[p]][m]*=1)}u=Object.keys(k);for(p=0;p<u.length;p++)x[u[p]]=x[u[p]]||[],x[u[p]]=x[u[p]].concat(k[u[p]])}}return v}function K(q,x,v,g){q=q[g].map(function(l){return'"'+l+'": '+x[g][l].toString().replace(/^"[^"]+"/,
"function")}).join(",");return z[0]+"{"+q+"}"+z[1]+'"'+v+'"'+z[2]}function E(q,x){x=x||{};var v={main:G.m},g=x.all?{main:Object.keys(v.main)}:F(v,q),l="";Object.keys(g).filter(function(h){return"main"!==h}).forEach(function(h){for(var k=0;g[h][k];)k++;g[h].push(k);v[h][k]="(function(module, exports, __webpack_require__) { module.exports \x3d __webpack_require__; })";l+="var "+h+" \x3d ("+K(g,v,k,modules)+")();\n"});l+="new (("+K(g,v,q,"main")+")())(self);";q=new window.Blob([l],{type:"text/javascript"});
q=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(q);x=new window.Worker(q);x.objectURL=q;return x}G.r(Y);G.d(Y,{"default":()=>E});var z=function(){var q=ENTRY_MODULE,x={},v=function k(h){var p=x[h];if(void 0!==p)return p.exports;p=x[h]={exports:{}};q[h].call(p.exports,p,p.exports,k);return p.exports};v.m=q;(function(){v.n=function(h){var k=h&&h.__esModule?function(){return h["default"]}:function(){return h};v.d(k,{a:k});return k}})();(function(){v.d=function(h,k){for(var p in k)v.o(k,
p)&&!v.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:k[p]})}})();(function(){v.o=function(h,k){return Object.prototype.hasOwnProperty.call(h,k)}})();(function(){v.r=function(h){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})}})();var g=v(ENTRY_MODULE);return g.default||g}.toString().split("ENTRY_MODULE"),C="[\\.|\\-|\\+|\\w|/|@]+",w="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+C+").*?\\)"},"./src/errors.ts":(oa,
Y,G)=>{G.r(Y);G.d(Y,{ErrorDetails:()=>T,ErrorTypes:()=>X});var X;(function(F){F.NETWORK_ERROR="networkError";F.MEDIA_ERROR="mediaError";F.KEY_SYSTEM_ERROR="keySystemError";F.MUX_ERROR="muxError";F.OTHER_ERROR="otherError"})(X||(X={}));var T;(function(F){F.KEY_SYSTEM_NO_KEYS="keySystemNoKeys";F.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess";F.KEY_SYSTEM_NO_SESSION="keySystemNoSession";F.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense";F.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed";
F.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed";F.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed";F.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed";F.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted";F.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError";F.MANIFEST_LOAD_ERROR="manifestLoadError";F.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut";F.MANIFEST_PARSING_ERROR="manifestParsingError";
F.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError";F.LEVEL_EMPTY_ERROR="levelEmptyError";F.LEVEL_LOAD_ERROR="levelLoadError";F.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut";F.LEVEL_SWITCH_ERROR="levelSwitchError";F.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError";F.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut";F.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError";F.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut";F.FRAG_LOAD_ERROR="fragLoadError";F.FRAG_LOAD_TIMEOUT="fragLoadTimeOut";F.FRAG_DECRYPT_ERROR=
"fragDecryptError";F.FRAG_PARSING_ERROR="fragParsingError";F.REMUX_ALLOC_ERROR="remuxAllocError";F.KEY_LOAD_ERROR="keyLoadError";F.KEY_LOAD_TIMEOUT="keyLoadTimeOut";F.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError";F.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError";F.BUFFER_APPEND_ERROR="bufferAppendError";F.BUFFER_APPENDING_ERROR="bufferAppendingError";F.BUFFER_STALLED_ERROR="bufferStalledError";F.BUFFER_FULL_ERROR="bufferFullError";F.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole";F.BUFFER_NUDGE_ON_STALL=
"bufferNudgeOnStall";F.INTERNAL_EXCEPTION="internalException";F.INTERNAL_ABORTED="aborted";F.UNKNOWN="unknown"})(T||(T={}))},"./src/events.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{Events:()=>X});var X;(function(T){T.MEDIA_ATTACHING="hlsMediaAttaching";T.MEDIA_ATTACHED="hlsMediaAttached";T.MEDIA_DETACHING="hlsMediaDetaching";T.MEDIA_DETACHED="hlsMediaDetached";T.BUFFER_RESET="hlsBufferReset";T.BUFFER_CODECS="hlsBufferCodecs";T.BUFFER_CREATED="hlsBufferCreated";T.BUFFER_APPENDING="hlsBufferAppending";T.BUFFER_APPENDED=
"hlsBufferAppended";T.BUFFER_EOS="hlsBufferEos";T.BUFFER_FLUSHING="hlsBufferFlushing";T.BUFFER_FLUSHED="hlsBufferFlushed";T.MANIFEST_LOADING="hlsManifestLoading";T.MANIFEST_LOADED="hlsManifestLoaded";T.MANIFEST_PARSED="hlsManifestParsed";T.LEVEL_SWITCHING="hlsLevelSwitching";T.LEVEL_SWITCHED="hlsLevelSwitched";T.LEVEL_LOADING="hlsLevelLoading";T.LEVEL_LOADED="hlsLevelLoaded";T.LEVEL_UPDATED="hlsLevelUpdated";T.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated";T.LEVELS_UPDATED="hlsLevelsUpdated";T.AUDIO_TRACKS_UPDATED=
"hlsAudioTracksUpdated";T.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching";T.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched";T.AUDIO_TRACK_LOADING="hlsAudioTrackLoading";T.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded";T.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated";T.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared";T.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch";T.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading";T.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded";T.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed";
T.CUES_PARSED="hlsCuesParsed";T.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound";T.INIT_PTS_FOUND="hlsInitPtsFound";T.FRAG_LOADING="hlsFragLoading";T.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted";T.FRAG_LOADED="hlsFragLoaded";T.FRAG_DECRYPTED="hlsFragDecrypted";T.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment";T.FRAG_PARSING_USERDATA="hlsFragParsingUserdata";T.FRAG_PARSING_METADATA="hlsFragParsingMetadata";T.FRAG_PARSED="hlsFragParsed";T.FRAG_BUFFERED="hlsFragBuffered";
T.FRAG_CHANGED="hlsFragChanged";T.FPS_DROP="hlsFpsDrop";T.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping";T.ERROR="hlsError";T.DESTROYING="hlsDestroying";T.KEY_LOADING="hlsKeyLoading";T.KEY_LOADED="hlsKeyLoaded";T.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached";T.BACK_BUFFER_REACHED="hlsBackBufferReached"})(X||(X={}))},"./src/hls.ts":(oa,Y,G)=>{function X(m,f){for(var c=0;c<f.length;c++){var e=f[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);var t=Object,B=t.defineProperty;
a:{var y=e.key;if("object"===typeof y&&null!==y){var A=y[Symbol.toPrimitive];if(void 0!==A){y=A.call(y,"string");if("object"!==typeof y)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}y=String(y)}}B.call(t,m,"symbol"===typeof y?y:String(y),e)}}function T(m,f,c){f&&X(m.prototype,f);c&&X(m,c);Object.defineProperty(m,"prototype",{writable:!1});return m}G.r(Y);G.d(Y,{"default":()=>u});var F=G("./node_modules/url-toolkit/src/url-toolkit.js");G.n(F);var K=G("./src/loader/playlist-loader.ts"),
E=G("./src/controller/id3-track-controller.ts"),z=G("./src/controller/latency-controller.ts"),C=G("./src/controller/level-controller.ts"),w=G("./src/controller/fragment-tracker.ts"),q=G("./src/loader/key-loader.ts"),x=G("./src/controller/stream-controller.ts"),v=G("./src/is-supported.ts"),g=G("./src/utils/logger.ts"),l=G("./src/config.ts"),h=G("./node_modules/eventemitter3/index.js");G.n(h);var k=G("./src/events.ts"),p=G("./src/errors.ts"),r=G("./src/types/level.ts"),u=function(){function m(c){void 0===
c&&(c={});this.networkControllers=this.coreComponents=this.userConfig=this.config=void 0;this._emitter=new h.EventEmitter;this._autoLevelCapping=void 0;this._maxHdcpLevel=null;this.cmcdController=this.emeController=this.subtitleTrackController=this.audioTrackController=this.streamController=this.levelController=this.latencyController=this.capLevelController=this.bufferController=this.abrController=void 0;this.url=this._media=null;var e=this.config=(0,l.mergeConfig)(m.DefaultConfig,c);this.userConfig=
c;(0,g.enableLogs)(e.debug,"Hls instance");this._autoLevelCapping=-1;e.progressive&&(0,l.enableStreamingMode)(e);var t=e.bufferController,B=e.capLevelController,y=e.fpsController;c=this.abrController=new e.abrController(this);t=this.bufferController=new t(this);var A=this.capLevelController=new B(this),H=new y(this),J=new K["default"](this),N=new E["default"](this),ea=this.levelController=new C["default"](this);y=new w.FragmentTracker(this);B=new q["default"](this.config);var ia=this.streamController=
new x["default"](this,y,B);A.setStreamController(ia);H.setStreamController(ia);this.networkControllers=J=[J,ea,ia];c=[c,t,A,H,N,y];this.audioTrackController=this.createController(e.audioTrackController,J);(t=e.audioStreamController)&&J.push(new t(this,y,B));this.subtitleTrackController=this.createController(e.subtitleTrackController,J);(t=e.subtitleStreamController)&&J.push(new t(this,y,B));this.createController(e.timelineController,c);B.emeController=this.emeController=this.createController(e.emeController,
c);this.cmcdController=this.createController(e.cmcdController,c);this.latencyController=this.createController(z["default"],c);this.coreComponents=c}m.isSupported=function(){return(0,v.isSupported)()};var f=m.prototype;f.createController=function(c,e){return c?(c=new c(this),e&&e.push(c),c):null};f.on=function(c,e,t){void 0===t&&(t=this);this._emitter.on(c,e,t)};f.once=function(c,e,t){void 0===t&&(t=this);this._emitter.once(c,e,t)};f.removeAllListeners=function(c){this._emitter.removeAllListeners(c)};
f.off=function(c,e,t,B){void 0===t&&(t=this);this._emitter.off(c,e,t,B)};f.listeners=function(c){return this._emitter.listeners(c)};f.emit=function(c,e,t){return this._emitter.emit(c,e,t)};f.trigger=function(c,e){if(this.config.debug)return this.emit(c,c,e);try{return this.emit(c,c,e)}catch(t){g.logger.error("An internal error happened while handling event "+c+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(k.Events.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.INTERNAL_EXCEPTION,
fatal:!1,event:c,error:t})}return!1};f.listenerCount=function(c){return this._emitter.listenerCount(c)};f.destroy=function(){g.logger.log("destroy");this.trigger(k.Events.DESTROYING,void 0);this.detachMedia();this.removeAllListeners();this._autoLevelCapping=-1;this.url=null;this.networkControllers.forEach(function(c){return c.destroy()});this.networkControllers.length=0;this.coreComponents.forEach(function(c){return c.destroy()});this.coreComponents.length=0};f.attachMedia=function(c){g.logger.log("attachMedia");
this._media=c;this.trigger(k.Events.MEDIA_ATTACHING,{media:c})};f.detachMedia=function(){g.logger.log("detachMedia");this.trigger(k.Events.MEDIA_DETACHING,void 0);this._media=null};f.loadSource=function(c){this.stopLoad();var e=this.media,t=this.url,B=this.url=F.buildAbsoluteURL(self.location.href,c,{alwaysNormalize:!0});g.logger.log("loadSource:"+B);e&&t&&t!==B&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(e));this.trigger(k.Events.MANIFEST_LOADING,{url:c})};f.startLoad=
function(c){void 0===c&&(c=-1);g.logger.log("startLoad("+c+")");this.networkControllers.forEach(function(e){e.startLoad(c)})};f.stopLoad=function(){g.logger.log("stopLoad");this.networkControllers.forEach(function(c){c.stopLoad()})};f.swapAudioCodec=function(){g.logger.log("swapAudioCodec");this.streamController.swapAudioCodec()};f.recoverMediaError=function(){g.logger.log("recoverMediaError");var c=this._media;this.detachMedia();c&&this.attachMedia(c)};f.removeLevel=function(c,e){void 0===e&&(e=
0);this.levelController.removeLevel(c,e)};T(m,[{key:"levels",get:function(){var c=this.levelController.levels;return c?c:[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(c){g.logger.log("set currentLevel:"+c);this.loadLevel=c;this.abrController.clearTimer();this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(c){g.logger.log("set nextLevel:"+c);this.levelController.manualLevel=
c;this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(c){g.logger.log("set loadLevel:"+c);this.levelController.manualLevel=c}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(c){this.levelController.nextLoadLevel=c}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(c){g.logger.log("set firstLevel:"+c);this.levelController.firstLevel=
c}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(c){g.logger.log("set startLevel:"+c);-1!==c&&(c=Math.max(c,this.minAutoLevel));this.levelController.startLevel=c}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(c){c=!!c;c!==this.config.capLevelToPlayerSize&&(c?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=
c)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(c){this._autoLevelCapping!==c&&(g.logger.log("set autoLevelCapping:"+c),this._autoLevelCapping=c)}},{key:"bandwidthEstimate",get:function(){var c=this.abrController.bwEstimator;return c?c.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(c){-1<r.HdcpLevels.indexOf(c)&&(this._maxHdcpLevel=c)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},
{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var c=this.levels,e=this.config.minAutoBitrate;if(!c)return 0;for(var t=c.length,B=0;B<t;B++)if(c[B].maxBitrate>=e)return B;return 0}},{key:"maxAutoLevel",get:function(){var c=this.levels,e=this.autoLevelCapping,t=this.maxHdcpLevel;e=-1===e&&c&&c.length?c.length-1:e;if(t)for(var B=e;B--;){var y=c[B].attrs["HDCP-LEVEL"];if(y&&y<=t)return B}return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,
this.minAutoLevel),this.maxAutoLevel)},set:function(c){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,c)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var c=this.audioTrackController;return c?c.audioTracks:[]}},{key:"audioTrack",get:function(){var c=this.audioTrackController;return c?c.audioTrack:-1},set:function(c){var e=
this.audioTrackController;e&&(e.audioTrack=c)}},{key:"subtitleTracks",get:function(){var c=this.subtitleTrackController;return c?c.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var c=this.subtitleTrackController;return c?c.subtitleTrack:-1},set:function(c){var e=this.subtitleTrackController;e&&(e.subtitleTrack=c)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var c=this.subtitleTrackController;return c?c.subtitleDisplay:!1},set:function(c){var e=
this.subtitleTrackController;e&&(e.subtitleDisplay=c)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(c){this.config.lowLatencyMode=c}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",
get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.3.4"}},{key:"Events",get:function(){return k.Events}},{key:"ErrorTypes",get:function(){return p.ErrorTypes}},{key:"ErrorDetails",get:function(){return p.ErrorDetails}},{key:"DefaultConfig",get:function(){return m.defaultConfig?m.defaultConfig:l.hlsDefaultConfig},set:function(c){m.defaultConfig=c}}]);return m}();u.defaultConfig=
void 0},"./src/is-supported.ts":(oa,Y,G)=>{function X(){var K=(0,F.getMediaSource)();if(!K)return!1;var E=self.SourceBuffer||self.WebKitSourceBuffer;K=K&&"function"===typeof K.isTypeSupported&&K.isTypeSupported('video/mp4; codecs\x3d"avc1.42E01E,mp4a.40.2"');E=!E||E.prototype&&"function"===typeof E.prototype.appendBuffer&&"function"===typeof E.prototype.remove;return!!K&&!!E}function T(){var K,E=self.SourceBuffer||self.WebKitSourceBuffer;return"function"===typeof(null===E||void 0===E?void 0:null===
(K=E.prototype)||void 0===K?void 0:K.changeType)}G.r(Y);G.d(Y,{changeTypeSupported:()=>T,isSupported:()=>X});var F=G("./src/utils/mediasource-helper.ts")},"./src/loader/date-range.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(q){for(var x=1;x<arguments.length;x++){var v=arguments[x],g;for(g in v)Object.prototype.hasOwnProperty.call(v,g)&&(q[g]=v[g])}return q};return X.apply(this,arguments)}function T(q,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);var l=Object,h=l.defineProperty;a:{var k=g.key;if("object"===typeof k&&null!==k){var p=k[Symbol.toPrimitive];if(void 0!==p){k=p.call(k,"string");if("object"!==typeof k)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}k=String(k)}}h.call(l,q,"symbol"===typeof k?k:String(k),g)}}function F(q,x,v){x&&T(q.prototype,x);v&&T(q,v);Object.defineProperty(q,"prototype",{writable:!1});return q}G.r(Y);G.d(Y,{DateRange:()=>w,DateRangeAttribute:()=>
C});var K=G("./src/polyfills/number.ts"),E=G("./src/utils/attr-list.ts"),z=G("./src/utils/logger.ts"),C;(function(q){q.ID="ID";q.CLASS="CLASS";q.START_DATE="START-DATE";q.DURATION="DURATION";q.END_DATE="END-DATE";q.END_ON_NEXT="END-ON-NEXT";q.PLANNED_DURATION="PLANNED-DURATION";q.SCTE35_OUT="SCTE35-OUT";q.SCTE35_IN="SCTE35-IN"})(C||(C={}));var w=function(){function q(x,v){this._badValueForSameId=this._endDate=this._startDate=this.attr=void 0;if(v){v=v.attr;for(var g in v)if(Object.prototype.hasOwnProperty.call(x,
g)&&x[g]!==v[g]){z.logger.warn('DATERANGE tag attribute: "'+g+'" does not match for tags with ID: "'+x.ID+'"');this._badValueForSameId=g;break}x=X(new E.AttrList({}),v,x)}this.attr=x;this._startDate=new Date(x[C.START_DATE]);C.END_DATE in this.attr&&(x=new Date(this.attr[C.END_DATE]),(0,K.isFiniteNumber)(x.getTime())&&(this._endDate=x))}F(q,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},
{key:"endDate",get:function(){if(this._endDate)return this._endDate;var x=this.duration;return null!==x?new Date(this._startDate.getTime()+1E3*x):null}},{key:"duration",get:function(){if(C.DURATION in this.attr){var x=this.attr.decimalFloatingPoint(C.DURATION);if((0,K.isFiniteNumber)(x))return x}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1E3;return null}},{key:"plannedDuration",get:function(){return C.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(C.PLANNED_DURATION):
null}},{key:"endOnNext",get:function(){return this.attr.bool(C.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,K.isFiniteNumber)(this.startDate.getTime())&&(null===this.duration||0<=this.duration)&&(!this.endOnNext||!!this.class)}}]);return q}()},"./src/loader/fragment-loader.ts":(oa,Y,G)=>{function X(l,h){l.prototype=Object.create(h.prototype);l.prototype.constructor=l;E(l,h)}function T(l){var h="function"===typeof Map?new Map:void 0;T=function(k){function p(){return F(k,
arguments,z(this).constructor)}if(null===k||-1===Function.toString.call(k).indexOf("[native code]"))return k;if("function"!==typeof k)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof h){if(h.has(k))return h.get(k);h.set(k,p)}p.prototype=Object.create(k.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}});return E(p,k)};return T(l)}function F(l,h,k){F=K()?Reflect.construct.bind():function(p,r,u){var m=[null];m.push.apply(m,r);
p=new (Function.bind.apply(p,m));u&&E(p,u.prototype);return p};return F.apply(null,arguments)}function K(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}function E(l,h){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,p){k.__proto__=p;return k};return E(l,h)}function z(l){z=Object.setPrototypeOf?Object.getPrototypeOf.bind():
function(h){return h.__proto__||Object.getPrototypeOf(h)};return z(l)}function C(l,h){void 0===h&&(h=null);var k=h||l;h={frag:l,part:h,responseType:"arraybuffer",url:k.url,headers:{},rangeStart:0,rangeEnd:0};var p=k.byteRangeStartOffset;k=k.byteRangeEndOffset;if((0,w.isFiniteNumber)(p)&&(0,w.isFiniteNumber)(k)){var r,u=p,m=k;"initSegment"===l.sn&&"AES-128"===(null===(r=l.decryptdata)||void 0===r?void 0:r.method)&&(l=k-p,l%16&&(m=k+(16-l%16)),0!==p&&(h.resetIV=!0,u=p-16));h.rangeStart=u;h.rangeEnd=
m}return h}G.r(Y);G.d(Y,{LoadError:()=>g,"default":()=>v});var w=G("./src/polyfills/number.ts"),q=G("./src/errors.ts"),x=Math.pow(2,17),v=function(){function l(k){this.loader=null;this.partLoadTimeout=-1;this.config=k}var h=l.prototype;h.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};h.abort=function(){this.loader&&this.loader.abort()};h.load=function(k,p){var r=this,u=k.url;if(!u)return Promise.reject(new g({type:q.ErrorTypes.NETWORK_ERROR,details:q.ErrorDetails.FRAG_LOAD_ERROR,
fatal:!1,frag:k,networkDetails:null},"Fragment does not have a "+(u?"part list":"url")));this.abort();var m=this.config,f=m.fLoader,c=m.loader;return new Promise(function(e,t){r.loader&&r.loader.destroy();var B=r.loader=k.loader=f?new f(m):new c(m),y=C(k),A={timeout:m.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:m.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===k.sn?Infinity:x};k.stats=B.stats;B.load(y,A,{onSuccess:function(H,J,N,ea){r.resetLoader(k,B);H=H.data;N.resetIV&&k.decryptdata&&
(k.decryptdata.iv=new Uint8Array(H.slice(0,16)),H=H.slice(16));e({frag:k,part:null,payload:H,networkDetails:ea})},onError:function(H,J,N){r.resetLoader(k,B);t(new g({type:q.ErrorTypes.NETWORK_ERROR,details:q.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:k,response:H,networkDetails:N}))},onAbort:function(H,J,N){r.resetLoader(k,B);t(new g({type:q.ErrorTypes.NETWORK_ERROR,details:q.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:k,networkDetails:N}))},onTimeout:function(H,J,N){r.resetLoader(k,B);t(new g({type:q.ErrorTypes.NETWORK_ERROR,
details:q.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:k,networkDetails:N}))},onProgress:function(H,J,N,ea){p&&p({frag:k,part:null,payload:N,networkDetails:ea})}})})};h.loadPart=function(k,p,r){var u=this;this.abort();var m=this.config,f=m.fLoader,c=m.loader;return new Promise(function(e,t){u.loader&&u.loader.destroy();var B=u.loader=k.loader=f?new f(m):new c(m),y=C(k,p),A={timeout:m.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:m.fragLoadingMaxRetryTimeout,highWaterMark:x};p.stats=B.stats;
B.load(y,A,{onSuccess:function(H,J,N,ea){u.resetLoader(k,B);u.updateStatsFromPart(k,p);H={frag:k,part:p,payload:H.data,networkDetails:ea};r(H);e(H)},onError:function(H,J,N){u.resetLoader(k,B);t(new g({type:q.ErrorTypes.NETWORK_ERROR,details:q.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:k,part:p,response:H,networkDetails:N}))},onAbort:function(H,J,N){k.stats.aborted=p.stats.aborted;u.resetLoader(k,B);t(new g({type:q.ErrorTypes.NETWORK_ERROR,details:q.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:k,part:p,
networkDetails:N}))},onTimeout:function(H,J,N){u.resetLoader(k,B);t(new g({type:q.ErrorTypes.NETWORK_ERROR,details:q.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:k,part:p,networkDetails:N}))}})})};h.updateStatsFromPart=function(k,p){var r=k.stats,u=p.stats,m=u.total;r.loaded+=u.loaded;m?(k=Math.round(k.duration/p.duration),m=Math.min(Math.round(r.loaded/m),k),r.total=r.loaded+(k-m)*Math.round(r.loaded/m)):r.total=Math.max(r.loaded,r.total);r=r.loading;u=u.loading;r.start?r.first+=u.first-u.start:
(r.start=u.start,r.first=u.first);r.end=u.end};h.resetLoader=function(k,p){k.loader=null;this.loader===p&&(self.clearTimeout(this.partLoadTimeout),this.loader=null);p.destroy()};return l}(),g=function(l){function h(k){var p=arguments.length;for(var r=Array(1<p?p-1:0),u=1;u<p;u++)r[u-1]=arguments[u];p=l.call.apply(l,[this].concat(r))||this;p.data=void 0;p.data=k;return p}X(h,l);return h}(T(Error))},"./src/loader/fragment.ts":(oa,Y,G)=>{function X(g,l){g.prototype=Object.create(l.prototype);g.prototype.constructor=
g;T(g,l)}function T(g,l){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,k){h.__proto__=k;return h};return T(g,l)}function F(g,l){for(var h=0;h<l.length;h++){var k=l[h];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);var p=Object,r=p.defineProperty;a:{var u=k.key;if("object"===typeof u&&null!==u){var m=u[Symbol.toPrimitive];if(void 0!==m){u=m.call(u,"string");if("object"!==typeof u)break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}u=String(u)}}r.call(p,g,"symbol"===typeof u?u:String(u),k)}}function K(g,l,h){l&&F(g.prototype,l);h&&F(g,h);Object.defineProperty(g,"prototype",{writable:!1});return g}G.r(Y);G.d(Y,{BaseSegment:()=>q,ElementaryStreamTypes:()=>w,Fragment:()=>x,Part:()=>v});var E=G("./src/polyfills/number.ts"),z=G("./node_modules/url-toolkit/src/url-toolkit.js");G.n(z);var C=G("./src/loader/load-stats.ts"),w;(function(g){g.AUDIO="audio";g.VIDEO="video";g.AUDIOVIDEO="audiovideo"})(w||(w={}));var q=function(){function g(l){var h;
this._url=this._byteRange=null;this.relurl=this.baseurl=void 0;this.elementaryStreams=(h={},h[w.AUDIO]=null,h[w.VIDEO]=null,h[w.AUDIOVIDEO]=null,h);this.baseurl=l}g.prototype.setByteRange=function(l,h){l=l.split("@",2);var k=[];k[0]=1===l.length?h?h.byteRangeEndOffset:0:parseInt(l[1]);k[1]=parseInt(l[0])+k[0];this._byteRange=k};K(g,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",
get:function(){return this.byteRange[1]}},{key:"url",get:function(){!this._url&&this.baseurl&&this.relurl&&(this._url=(0,z.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0}));return this._url||""},set:function(l){this._url=l}}]);return g}(),x=function(g){function l(k,p){p=g.call(this,p)||this;p._decryptdata=null;p.rawProgramDateTime=null;p.programDateTime=null;p.tagList=[];p.duration=0;p.sn=0;p.levelkeys=void 0;p.type=void 0;p.loader=null;p.keyLoader=null;p.level=-1;p.cc=0;p.startPTS=
void 0;p.endPTS=void 0;p.appendedPTS=void 0;p.startDTS=void 0;p.endDTS=void 0;p.start=0;p.deltaPTS=void 0;p.maxStartPTS=void 0;p.minEndPTS=void 0;p.stats=new C.LoadStats;p.urlId=0;p.data=void 0;p.bitrateTest=!1;p.title=null;p.initSegment=null;p.endList=void 0;p.type=k;return p}X(l,g);var h=l.prototype;h.setKeyFormat=function(k){this.levelkeys&&(k=this.levelkeys[k])&&!this._decryptdata&&(this._decryptdata=k.getDecryptData(this.sn))};h.abortRequests=function(){var k,p;null===(k=this.loader)||void 0===
k?void 0:k.abort();null===(p=this.keyLoader)||void 0===p?void 0:p.abort()};h.setElementaryStreamInfo=function(k,p,r,u,m,f){void 0===f&&(f=!1);var c=this.elementaryStreams,e=c[k];e?(e.startPTS=Math.min(e.startPTS,p),e.endPTS=Math.max(e.endPTS,r),e.startDTS=Math.min(e.startDTS,u),e.endDTS=Math.max(e.endDTS,m)):c[k]={startPTS:p,endPTS:r,startDTS:u,endDTS:m,partial:f}};h.clearElementaryStreamInfo=function(){var k=this.elementaryStreams;k[w.AUDIO]=null;k[w.VIDEO]=null;k[w.AUDIOVIDEO]=null};K(l,[{key:"decryptdata",
get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var k=this.levelkeys.identity;if(k)this._decryptdata=k.getDecryptData(this.sn);else if(k=Object.keys(this.levelkeys),1===k.length)return this._decryptdata=this.levelkeys[k[0]].getDecryptData(this.sn)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime||!(0,E.isFiniteNumber)(this.programDateTime))return null;
var k=(0,E.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1E3*k}},{key:"encrypted",get:function(){var k;if(null!==(k=this._decryptdata)&&void 0!==k&&k.encrypted)return!0;if(this.levelkeys){k=Object.keys(this.levelkeys);var p=k.length;if(1<p||1===p&&this.levelkeys[k[0]].encrypted)return!0}return!1}}]);return l}(q),v=function(g){function l(h,k,p,r,u){p=g.call(this,p)||this;p.fragOffset=0;p.duration=0;p.gap=!1;p.independent=!1;p.relurl=void 0;p.fragment=void 0;p.index=void 0;
p.stats=new C.LoadStats;p.duration=h.decimalFloatingPoint("DURATION");p.gap=h.bool("GAP");p.independent=h.bool("INDEPENDENT");p.relurl=h.enumeratedString("URI");p.fragment=k;p.index=r;(h=h.enumeratedString("BYTERANGE"))&&p.setByteRange(h,u);u&&(p.fragOffset=u.fragOffset+u.duration);return p}X(l,g);K(l,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var h=this.elementaryStreams;return!!(h.audio||
h.video||h.audiovideo)}}]);return l}(q)},"./src/loader/key-loader.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>F});var X=G("./src/errors.ts"),T=G("./src/loader/fragment-loader.ts"),F=function(){function K(z){this.keyUriToKeyInfo={};this.emeController=null;this.config=z}var E=K.prototype;E.abort=function(){for(var z in this.keyUriToKeyInfo){var C=this.keyUriToKeyInfo[z].loader;C&&C.abort()}};E.detach=function(){for(var z in this.keyUriToKeyInfo){var C=this.keyUriToKeyInfo[z];(C.mediaKeySessionContext||
C.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[z]}};E.destroy=function(){this.detach();for(var z in this.keyUriToKeyInfo){var C=this.keyUriToKeyInfo[z].loader;C&&C.destroy()}this.keyUriToKeyInfo={}};E.createKeyLoadError=function(z,C,w,q){void 0===C&&(C=X.ErrorDetails.KEY_LOAD_ERROR);return new T.LoadError({type:X.ErrorTypes.NETWORK_ERROR,details:C,fatal:!1,frag:z,networkDetails:w})};E.loadClear=function(z,C){var w=this;if(this.emeController&&this.config.emeEnabled){var q=z.sn,x=z.cc;
z=function(g){var l=C[g];if(x<=l.cc&&("initSegment"===q||q<l.sn))return w.emeController.selectKeySystemFormat(l).then(function(h){l.setKeyFormat(h)}),"break"};for(var v=0;v<C.length&&"break"!==z(v);v++);}};E.load=function(z){var C=this;return!z.decryptdata&&z.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(z).then(function(w){return C.loadInternal(z,w)}):this.loadInternal(z)};E.loadInternal=function(z,C){var w,q;C&&z.setKeyFormat(C);var x=z.decryptdata;if(!x)return Promise.reject(this.createKeyLoadError(z,
X.ErrorDetails.KEY_LOAD_ERROR,null,C?"Expected frag.decryptdata to be defined after setting format "+C:"Missing decryption data on fragment in onKeyLoading"));C=x.uri;if(!C)return Promise.reject(this.createKeyLoadError(z,X.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+C+'"'));var v=this.keyUriToKeyInfo[C];if(null!==(w=v)&&void 0!==w&&w.decryptdata.key)return x.key=v.decryptdata.key,Promise.resolve({frag:z,keyInfo:v});if(null!==(q=v)&&void 0!==q&&q.keyLoadPromise){var g;switch(null===(g=v.mediaKeySessionContext)||
void 0===g?void 0:g.keyStatus){case void 0:case "status-pending":case "usable":case "usable-in-future":return v.keyLoadPromise.then(function(l){x.key=l.keyInfo.decryptdata.key;return{frag:z,keyInfo:v}})}}v=this.keyUriToKeyInfo[C]={decryptdata:x,keyLoadPromise:null,loader:null,mediaKeySessionContext:null};switch(x.method){case "ISO-23001-7":case "SAMPLE-AES":case "SAMPLE-AES-CENC":case "SAMPLE-AES-CTR":return"identity"===x.keyFormat?this.loadKeyHTTP(v,z):this.loadKeyEME(v,z);case "AES-128":return this.loadKeyHTTP(v,
z);default:return Promise.reject(this.createKeyLoadError(z,X.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+x.method+'"'))}};E.loadKeyEME=function(z,C){var w={frag:C,keyInfo:z};return this.emeController&&this.config.emeEnabled&&(C=this.emeController.loadKey(w))?(z.keyLoadPromise=C.then(function(q){z.mediaKeySessionContext=q;return w})).catch(function(q){z.keyLoadPromise=null;throw q;}):Promise.resolve(w)};E.loadKeyHTTP=function(z,C){var w=this,q=this.config,x=new q.loader(q);
C.keyLoader=z.loader=x;return z.keyLoadPromise=new Promise(function(v,g){x.load({keyInfo:z,frag:C,responseType:"arraybuffer",url:z.decryptdata.uri},{timeout:q.fragLoadingTimeOut,maxRetry:0,retryDelay:q.fragLoadingRetryDelay,maxRetryDelay:q.fragLoadingMaxRetryTimeout,highWaterMark:0},{onSuccess:function(l,h,k,p){h=k.frag;var r=k.keyInfo;k=k.url;if(!h.decryptdata||r!==w.keyUriToKeyInfo[k])return g(w.createKeyLoadError(h,X.ErrorDetails.KEY_LOAD_ERROR,p,"after key load, decryptdata unset or changed"));
r.decryptdata.key=h.decryptdata.key=new Uint8Array(l.data);h.keyLoader=null;r.loader=null;v({frag:h,keyInfo:r})},onError:function(l,h,k){w.resetLoader(h);g(w.createKeyLoadError(C,X.ErrorDetails.KEY_LOAD_ERROR,k))},onTimeout:function(l,h,k){w.resetLoader(h);g(w.createKeyLoadError(C,X.ErrorDetails.KEY_LOAD_TIMEOUT,k))},onAbort:function(l,h,k){w.resetLoader(h);g(w.createKeyLoadError(C,X.ErrorDetails.INTERNAL_ABORTED,k))}})})};E.resetLoader=function(z){var C=z.frag,w=z.keyInfo;z=z.url;var q=w.loader;
C.keyLoader===q&&(C.keyLoader=null,w.loader=null);delete this.keyUriToKeyInfo[z];q&&q.destroy()};return K}()},"./src/loader/level-details.ts":(oa,Y,G)=>{function X(E,z){for(var C=0;C<z.length;C++){var w=z[C];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);var q=Object,x=q.defineProperty;a:{var v=w.key;if("object"===typeof v&&null!==v){var g=v[Symbol.toPrimitive];if(void 0!==g){v=g.call(v,"string");if("object"!==typeof v)break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}v=String(v)}}x.call(q,E,"symbol"===typeof v?v:String(v),w)}}function T(E,z,C){z&&X(E.prototype,z);C&&X(E,C);Object.defineProperty(E,"prototype",{writable:!1});return E}G.r(Y);G.d(Y,{LevelDetails:()=>K});var F=G("./src/polyfills/number.ts"),K=function(){function E(z){this.alignedSliding=this.PTSKnown=!1;this.averagetargetduration=void 0;this.endSN=this.endCC=0;this.fragmentHint=this.fragments=void 0;this.partList=null;this.dateRanges=void 0;this.live=!0;this.ageHeader=0;this.advancedDateTime=void 0;
this.advanced=this.updated=!0;this.availabilityDelay=void 0;this.startSN=this.startCC=this.misses=0;this.startTimeOffset=null;this.totalduration=this.targetduration=0;this.type=null;this.url=void 0;this.m3u8="";this.version=null;this.canBlockReload=!1;this.canSkipUntil=0;this.canSkipDateRanges=!1;this.skippedSegments=0;this.recentlyRemovedDateranges=void 0;this.partTarget=this.holdBack=this.partHoldBack=0;this.renditionReports=this.preloadHint=void 0;this.tuneInGoal=0;this.deltaUpdateFailed=void 0;
this.driftEnd=this.driftStart=this.driftEndTime=this.driftStartTime=0;this.fragments=[];this.encryptedFragments=[];this.dateRanges={};this.url=z}E.prototype.reloaded=function(z){if(z){var C=this.lastPartSn-z.lastPartSn,w=this.lastPartIndex-z.lastPartIndex;this.updated=this.endSN!==z.endSN||!!w||!!C;this.advanced=this.endSN>z.endSN||0<C||0===C&&0<w;this.misses=this.updated||this.advanced?Math.floor(.6*z.misses):z.misses+1;this.availabilityDelay=z.availabilityDelay}else this.updated=this.advanced=!0};
T(E,[{key:"hasProgramDateTime",get:function(){return this.fragments.length?(0,F.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime):!1}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var z=this.driftEndTime-this.driftStartTime;return 0<z?1E3*(this.driftEnd-this.driftStart)/z:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var z;return null!==
(z=this.partList)&&void 0!==z&&z.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var z;return null!==(z=this.fragments)&&void 0!==z&&z.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1E3:0}},{key:"lastPartIndex",get:function(){var z;return null!==(z=this.partList)&&void 0!==z&&z.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",
get:function(){var z;return null!==(z=this.partList)&&void 0!==z&&z.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]);return E}()},"./src/loader/level-key.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{LevelKey:()=>C});var X=G("./src/utils/keysystem-util.ts"),T=G("./src/utils/mediakeys-helper.ts"),F=G("./src/utils/mp4-tools.ts"),K=G("./src/utils/logger.ts"),E=G("./src/utils/numeric-encoding-utils.ts"),z={},C=function(){function w(x,v,g,l,h){void 0===l&&(l=[1]);void 0===h&&(h=null);this.isCommonEncryption=
this.encrypted=this.keyFormatVersions=this.keyFormat=this.method=this.uri=void 0;this.pssh=this.keyId=this.key=this.iv=null;this.method=x;this.uri=v;this.keyFormat=g;this.keyFormatVersions=l;this.iv=h;this.isCommonEncryption=(this.encrypted=x?"NONE"!==x:!1)&&"AES-128"!==x}w.clearKeyUriToKeyIdMap=function(){z={}};var q=w.prototype;q.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;switch(this.keyFormat){case "identity":return"SAMPLE-AES"===this.method;
case T.KeySystemFormats.FAIRPLAY:case T.KeySystemFormats.WIDEVINE:case T.KeySystemFormats.PLAYREADY:case T.KeySystemFormats.CLEARKEY:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1};q.getDecryptData=function(x){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof x&&("AES-128"!==this.method||this.iv||K.logger.warn('missing IV for initialization segment with method\x3d"'+this.method+'" - compliance issue'),
x=0);for(var v=new Uint8Array(16),g=12;16>g;g++)v[g]=x>>8*(15-g)&255;return new w(this.method,this.uri,"identity",this.keyFormatVersions,v)}if(x=(0,X.convertDataUriToArrayBytes)(this.uri))switch(this.keyFormat){case T.KeySystemFormats.WIDEVINE:this.pssh=x;22<=x.length&&(this.keyId=x.subarray(x.length-22,x.length-6));break;case T.KeySystemFormats.PLAYREADY:v=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,F.mp4pssh)(v,null,x);x=new Uint16Array(x.buffer,x.byteOffset,
x.byteLength/2);x=String.fromCharCode.apply(null,Array.from(x));x=x.substring(x.indexOf("\x3c"),x.length);if(x=(new DOMParser).parseFromString(x,"text/xml").getElementsByTagName("KID")[0])if(x=x.childNodes[0]?x.childNodes[0].nodeValue:x.getAttribute("VALUE"))x=(0,E.base64Decode)(x).subarray(0,16),(0,X.changeEndianness)(x),this.keyId=x;break;default:x=x.subarray(0,16),16!==x.length&&(v=new Uint8Array(16),v.set(x,16-x.length),x=v),this.keyId=x}this.keyId&&16===this.keyId.byteLength||(x=z[this.uri],
x||(v=Object.keys(z).length%Number.MAX_SAFE_INTEGER,x=new Uint8Array(16),(new DataView(x.buffer,12,4)).setUint32(0,v),z[this.uri]=x),this.keyId=x);return this};return w}()},"./src/loader/load-stats.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{LoadStats:()=>X});var X=function(){this.aborted=!1;this.bwEstimate=this.chunkCount=this.total=this.retry=this.loaded=0;this.loading={start:0,first:0,end:0};this.parsing={start:0,end:0};this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":(oa,Y,G)=>{function X(){X=
Object.assign?Object.assign.bind():function(c){for(var e=1;e<arguments.length;e++){var t=arguments[e],B;for(B in t)Object.prototype.hasOwnProperty.call(t,B)&&(c[B]=t[B])}return c};return X.apply(this,arguments)}function T(c,e){var t,B,y=new l.AttrList(c);c=null!=(t=y.enumeratedString("METHOD"))?t:"";var A=y.URI;t=y.hexadecimalInteger("IV");var H=y.enumeratedString("KEYFORMATVERSIONS"),J=null!=(B=y.enumeratedString("KEYFORMAT"))?B:"identity";A&&y.IV&&!t&&h.logger.error("Invalid IV: "+y.IV);e=A?f.resolve(A,
e):"";B=(H?H:"1").split("/").map(Number).filter(Number.isFinite);return new g.LevelKey(c,e,J,B,t)}function F(c,e){["video","audio","text"].forEach(function(t){var B=c.filter(function(A){return(0,k.isCodecType)(A,t)});if(B.length){var y=B.filter(function(A){return 0===A.lastIndexOf("avc1",0)||0===A.lastIndexOf("mp4a",0)});e[t+"Codec"]=0<y.length?y[0]:B[0];c=c.filter(function(A){return-1===B.indexOf(A)})}});e.unknownCodecs=c}function K(c,e){c.rawProgramDateTime?c.programDateTime=Date.parse(c.rawProgramDateTime):
null!==e&&void 0!==e&&e.programDateTime&&(c.programDateTime=e.endProgramDateTime);(0,C.isFiniteNumber)(c.programDateTime)||(c.programDateTime=null,c.rawProgramDateTime=null)}function E(c,e,t,B){c.relurl=e.URI;e.BYTERANGE&&c.setByteRange(e.BYTERANGE);c.level=t;c.sn="initSegment";B&&(c.levelkeys=B);c.initSegment=null}function z(c,e,t){c.levelkeys=e;t=t.encryptedFragments;t.length&&t[t.length-1].levelkeys===e||!Object.keys(e).some(function(B){return e[B].isCommonEncryption})||t.push(c)}G.r(Y);G.d(Y,
{"default":()=>f});var C=G("./src/polyfills/number.ts"),w=G("./node_modules/url-toolkit/src/url-toolkit.js");G.n(w);var q=G("./src/loader/date-range.ts"),x=G("./src/loader/fragment.ts"),v=G("./src/loader/level-details.ts"),g=G("./src/loader/level-key.ts"),l=G("./src/utils/attr-list.ts"),h=G("./src/utils/logger.ts"),k=G("./src/utils/codecs.ts"),p=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,r=/#EXT-X-MEDIA:(.*)/g,
u=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),m=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,
/(#)(.*)(?:.*)\r?\n?/.source].join("|")),f=function(){function c(){}c.findGroup=function(e,t){for(var B=0;B<e.length;B++){var y=e[B];if(y.id===t)return y}};c.convertAVC1ToAVCOTI=function(e){var t=e.split(".");return 2<t.length?(e=t.shift()+".",e+=parseInt(t.shift()).toString(16),e+=("000"+parseInt(t.shift()).toString(16)).slice(-4)):e};c.resolve=function(e,t){return(0,w.buildAbsoluteURL)(t,e,{alwaysNormalize:!0})};c.parseMasterPlaylist=function(e,t){var B=[],y=[],A={},H=[],J=!1;p.lastIndex=0;for(var N;null!=
(N=p.exec(e));)if(N[1]){var ea,ia=new l.AttrList(N[1]);N={attrs:ia,bitrate:ia.decimalInteger("AVERAGE-BANDWIDTH")||ia.decimalInteger("BANDWIDTH"),name:ia.NAME,url:c.resolve(N[2],t)};var la=ia.decimalResolution("RESOLUTION");la&&(N.width=la.width,N.height=la.height);F((ia.CODECS||"").split(/[ ,]+/).filter(function(S){return S}),N);N.videoCodec&&-1!==N.videoCodec.indexOf("avc1")&&(N.videoCodec=c.convertAVC1ToAVCOTI(N.videoCodec));null!==(ea=N.unknownCodecs)&&void 0!==ea&&ea.length||y.push(N);B.push(N)}else N[3]?
(ia=new l.AttrList(N[3]),ia["DATA-ID"]&&(J=!0,A[ia["DATA-ID"]]=ia)):N[4]&&(ia=N[4],N=T(ia,t),N.encrypted&&N.isSupported()?H.push(N):h.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+ia+'"'));return{levels:0<y.length&&y.length<B.length?y:B,sessionData:J?A:null,sessionKeys:H.length?H:null}};c.parseMasterPlaylistMedia=function(e,t,B,y){void 0===y&&(y=[]);var A,H=[],J=0;for(r.lastIndex=0;null!==(A=r.exec(e));)if(A=new l.AttrList(A[1]),A.TYPE===B){A={attrs:A,bitrate:0,id:J++,groupId:A["GROUP-ID"],
instreamId:A["INSTREAM-ID"],name:A.NAME||A.LANGUAGE||"",type:B,default:A.bool("DEFAULT"),autoselect:A.bool("AUTOSELECT"),forced:A.bool("FORCED"),lang:A.LANGUAGE,url:A.URI?c.resolve(A.URI,t):""};if(y.length){var N=c.findGroup(y,A.groupId)||y[0],ea=N.audioCodec;ea&&(A.audioCodec=ea);(N=N.textCodec)&&(A.textCodec=N)}H.push(A)}return H};c.parseLevelPlaylist=function(e,t,B,y,A){var H=new v.LevelDetails(t),J=H.fragments,N=null,ea=0,ia=0,la=0,S=0,aa=null,da=new x.Fragment(y,t),ma,na,Ba=-1,Na=!1;u.lastIndex=
0;for(H.m3u8=e;null!==(ma=u.exec(e));){Na&&(Na=!1,da=new x.Fragment(y,t),da.start=la,da.sn=ea,da.cc=S,da.level=B,N&&(da.initSegment=N,da.rawProgramDateTime=N.rawProgramDateTime,N.rawProgramDateTime=null));var ra=ma[1];if(ra)da.duration=parseFloat(ra),ma=(" "+ma[2]).slice(1),da.title=ma||null,da.tagList.push(ma?["INF",ra,ma]:["INF",ra]);else if(ma[3])(0,C.isFiniteNumber)(da.duration)&&(da.start=la,Ja&&z(da,Ja,H),da.sn=ea,da.level=B,da.cc=S,da.urlId=A,J.push(da),da.relurl=(" "+ma[3]).slice(1),K(da,
aa),aa=da,la+=da.duration,ea++,ia=0,Na=!0);else if(ma[4])ra=(" "+ma[4]).slice(1),aa?da.setByteRange(ra,aa):da.setByteRange(ra);else if(ma[5])da.rawProgramDateTime=(" "+ma[5]).slice(1),da.tagList.push(["PROGRAM-DATE-TIME",da.rawProgramDateTime]),-1===Ba&&(Ba=J.length);else if(ma=ma[0].match(m)){for(na=1;na<ma.length&&"undefined"===typeof ma[na];na++);var Pa=(" "+ma[na]).slice(1);ra=(" "+ma[na+1]).slice(1);na=ma[na+2]?(" "+ma[na+2]).slice(1):"";switch(Pa){case "PLAYLIST-TYPE":H.type=ra.toUpperCase();
break;case "MEDIA-SEQUENCE":ea=H.startSN=parseInt(ra);break;case "SKIP":ra=new l.AttrList(ra);ma=ra.decimalInteger("SKIPPED-SEGMENTS");if((0,C.isFiniteNumber)(ma)){for(Pa=H.skippedSegments=ma;Pa--;)J.unshift(null);ea+=ma}if(ra=ra.enumeratedString("RECENTLY-REMOVED-DATERANGES"))H.recentlyRemovedDateranges=ra.split("\t");break;case "TARGETDURATION":H.targetduration=parseFloat(ra);break;case "VERSION":H.version=parseInt(ra);break;case "EXTM3U":break;case "ENDLIST":H.live=!1;break;case "#":(ra||na)&&
da.tagList.push(na?[ra,na]:[ra]);break;case "DISCONTINUITY":S++;da.tagList.push(["DIS"]);break;case "GAP":da.tagList.push([Pa]);break;case "BITRATE":da.tagList.push([Pa,ra]);break;case "DATERANGE":ma=new l.AttrList(ra);ma=new q.DateRange(ma,H.dateRanges[ma.ID]);ma.isValid||H.skippedSegments?H.dateRanges[ma.id]=ma:h.logger.warn('Ignoring invalid DATERANGE tag: "'+ra+'"');da.tagList.push(["EXT-X-DATERANGE",ra]);break;case "DISCONTINUITY-SEQUENCE":S=parseInt(ra);break;case "KEY":ma=T(ra,t);if(ma.isSupported())if("NONE"===
ma.method)var Ja=void 0;else Ja||(Ja={}),Ja[ma.keyFormat]&&(Ja=X({},Ja)),Ja[ma.keyFormat]=ma;else h.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+ra+'"');break;case "START":ra=(new l.AttrList(ra)).decimalFloatingPoint("TIME-OFFSET");(0,C.isFiniteNumber)(ra)&&(H.startTimeOffset=ra);break;case "MAP":N=new l.AttrList(ra);da.duration?(ra=new x.Fragment(y,t),E(ra,N,B,Ja),N=ra,da.initSegment=N,N.rawProgramDateTime&&!da.rawProgramDateTime&&(da.rawProgramDateTime=N.rawProgramDateTime)):(E(da,N,B,
Ja),N=da,Na=!0);break;case "SERVER-CONTROL":ra=new l.AttrList(ra);H.canBlockReload=ra.bool("CAN-BLOCK-RELOAD");H.canSkipUntil=ra.optionalFloat("CAN-SKIP-UNTIL",0);H.canSkipDateRanges=0<H.canSkipUntil&&ra.bool("CAN-SKIP-DATERANGES");H.partHoldBack=ra.optionalFloat("PART-HOLD-BACK",0);H.holdBack=ra.optionalFloat("HOLD-BACK",0);break;case "PART-INF":ra=new l.AttrList(ra);H.partTarget=ra.decimalFloatingPoint("PART-TARGET");break;case "PART":ma=H.partList;ma||(ma=H.partList=[]);Pa=0<ia?ma[ma.length-1]:
void 0;na=ia++;ra=new x.Part(new l.AttrList(ra),da,t,na,Pa);ma.push(ra);da.duration+=ra.duration;break;case "PRELOAD-HINT":ra=new l.AttrList(ra);H.preloadHint=ra;break;case "RENDITION-REPORT":ra=new l.AttrList(ra);H.renditionReports=H.renditionReports||[];H.renditionReports.push(ra);break;default:h.logger.warn("line parsed but not handled: "+ma)}}else h.logger.warn("No matches on slow regex match for level playlist!")}aa&&!aa.relurl?(J.pop(),la-=aa.duration,H.partList&&(H.fragmentHint=aa)):H.partList&&
(K(da,aa),da.cc=S,H.fragmentHint=da,Ja&&z(da,Ja,H));B=J.length;e=J[0];t=J[B-1];la+=H.skippedSegments*H.targetduration;0<la&&B&&t?(H.averagetargetduration=la/B,B=t.sn,H.endSN="initSegment"!==B?B:0,H.live||(t.endList=!0),e&&(H.startCC=e.cc)):(H.endSN=0,H.startCC=0);H.fragmentHint&&(la+=H.fragmentHint.duration);H.totalduration=la;H.endCC=S;if(0<Ba)a:for(la=J[Ba];Ba--;){S=J[Ba];if(!S)break a;S.programDateTime=la.programDateTime-1E3*S.duration;la=S}return H};return c}()},"./src/loader/playlist-loader.ts":(oa,
Y,G)=>{function X(x,v){x=x.url;if(void 0===x||0===x.indexOf("data:"))x=v.url;return x}G.r(Y);G.d(Y,{"default":()=>q});var T=G("./src/polyfills/number.ts"),F=G("./src/events.ts"),K=G("./src/errors.ts"),E=G("./src/utils/logger.ts"),z=G("./src/loader/m3u8-parser.ts"),C=G("./src/types/loader.ts"),w=G("./src/utils/attr-list.ts");const q=function(){function x(g){this.hls=void 0;this.loaders=Object.create(null);this.hls=g;this.registerListeners()}var v=x.prototype;v.startLoad=function(g){};v.stopLoad=function(){this.destroyInternalLoaders()};
v.registerListeners=function(){var g=this.hls;g.on(F.Events.MANIFEST_LOADING,this.onManifestLoading,this);g.on(F.Events.LEVEL_LOADING,this.onLevelLoading,this);g.on(F.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this);g.on(F.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)};v.unregisterListeners=function(){var g=this.hls;g.off(F.Events.MANIFEST_LOADING,this.onManifestLoading,this);g.off(F.Events.LEVEL_LOADING,this.onLevelLoading,this);g.off(F.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,
this);g.off(F.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)};v.createInternalLoader=function(g){var l=this.hls.config,h=l.loader;l=new (l.pLoader||h)(l);g.loader=l;return this.loaders[g.type]=l};v.getInternalLoader=function(g){return this.loaders[g.type]};v.resetInternalLoader=function(g){this.loaders[g]&&delete this.loaders[g]};v.destroyInternalLoaders=function(){for(var g in this.loaders){var l=this.loaders[g];l&&l.destroy();this.resetInternalLoader(g)}};v.destroy=function(){this.unregisterListeners();
this.destroyInternalLoaders()};v.onManifestLoading=function(g,l){this.load({id:null,groupId:null,level:0,responseType:"text",type:C.PlaylistContextType.MANIFEST,url:l.url,deliveryDirectives:null})};v.onLevelLoading=function(g,l){this.load({id:l.id,groupId:null,level:l.level,responseType:"text",type:C.PlaylistContextType.LEVEL,url:l.url,deliveryDirectives:l.deliveryDirectives})};v.onAudioTrackLoading=function(g,l){this.load({id:l.id,groupId:l.groupId,level:null,responseType:"text",type:C.PlaylistContextType.AUDIO_TRACK,
url:l.url,deliveryDirectives:l.deliveryDirectives})};v.onSubtitleTrackLoading=function(g,l){this.load({id:l.id,groupId:l.groupId,level:null,responseType:"text",type:C.PlaylistContextType.SUBTITLE_TRACK,url:l.url,deliveryDirectives:l.deliveryDirectives})};v.load=function(g){var l,h=this.hls.config,k=this.getInternalLoader(g);if(k){var p=k.context;if(p&&p.url===g.url){E.logger.trace("[playlist-loader]: playlist request ongoing");return}E.logger.log("[playlist-loader]: aborting previous loader for type: "+
g.type);k.abort()}switch(g.type){case C.PlaylistContextType.MANIFEST:p=h.manifestLoadingMaxRetry;var r=h.manifestLoadingTimeOut;var u=h.manifestLoadingRetryDelay;var m=h.manifestLoadingMaxRetryTimeout;break;case C.PlaylistContextType.LEVEL:case C.PlaylistContextType.AUDIO_TRACK:case C.PlaylistContextType.SUBTITLE_TRACK:p=0;r=h.levelLoadingTimeOut;break;default:p=h.levelLoadingMaxRetry,r=h.levelLoadingTimeOut,u=h.levelLoadingRetryDelay,m=h.levelLoadingMaxRetryTimeout}k=this.createInternalLoader(g);
if(null!==(l=g.deliveryDirectives)&&void 0!==l&&l.part){if(g.type===C.PlaylistContextType.LEVEL&&null!==g.level)var f=this.hls.levels[g.level].details;else g.type===C.PlaylistContextType.AUDIO_TRACK&&null!==g.id?f=this.hls.audioTracks[g.id].details:g.type===C.PlaylistContextType.SUBTITLE_TRACK&&null!==g.id&&(f=this.hls.subtitleTracks[g.id].details);f&&(l=f.partTarget,f=f.targetduration,l&&f&&(r=Math.min(1E3*Math.max(3*l,.8*f),r)))}u={timeout:r,maxRetry:p,retryDelay:u,maxRetryDelay:m,highWaterMark:0};
m={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};k.load(g,u,m)};v.loadsuccess=function(g,l,h,k){void 0===k&&(k=null);this.resetInternalLoader(h.type);var p=g.data;0!==p.indexOf("#EXTM3U")?this.handleManifestParsingError(g,h,"no EXTM3U delimiter",k):(l.parsing.start=performance.now(),0<p.indexOf("#EXTINF:")||0<p.indexOf("#EXT-X-TARGETDURATION:")?this.handleTrackOrLevelPlaylist(g,l,h,k):this.handleMasterPlaylist(g,l,h,k))};v.loaderror=
function(g,l,h){void 0===h&&(h=null);this.handleNetworkError(l,h,!1,g)};v.loadtimeout=function(g,l,h){void 0===h&&(h=null);this.handleNetworkError(l,h,!0)};v.handleMasterPlaylist=function(g,l,h,k){var p=this.hls,r=g.data,u=X(g,h),m=z["default"].parseMasterPlaylist(r,u),f=m.levels,c=m.sessionData;m=m.sessionKeys;f.length?(g=f.map(function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}}),h=f.map(function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}}),g=z["default"].parseMasterPlaylistMedia(r,
u,"AUDIO",g),h=z["default"].parseMasterPlaylistMedia(r,u,"SUBTITLES",h),r=z["default"].parseMasterPlaylistMedia(r,u,"CLOSED-CAPTIONS"),g.length&&!g.some(function(e){return!e.url})&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(E.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new w.AttrList({}),bitrate:0,url:""})),p.trigger(F.Events.MANIFEST_LOADED,{levels:f,
audioTracks:g,subtitles:h,captions:r,url:u,stats:l,networkDetails:k,sessionData:c,sessionKeys:m})):this.handleManifestParsingError(g,h,"no level found in manifest",k)};v.handleTrackOrLevelPlaylist=function(g,l,h,k){var p=this.hls,r=h.id,u=h.level,m=h.type,f=X(g,h);r=(0,T.isFiniteNumber)(r)?r:0;u=(0,T.isFiniteNumber)(u)?u:r;a:switch(h.type){case C.PlaylistContextType.AUDIO_TRACK:var c=C.PlaylistLevelType.AUDIO;break a;case C.PlaylistContextType.SUBTITLE_TRACK:c=C.PlaylistLevelType.SUBTITLE;break a;
default:c=C.PlaylistLevelType.MAIN}r=z["default"].parseLevelPlaylist(g.data,f,u,c,r);r.fragments.length?(m===C.PlaylistContextType.MANIFEST&&(m={attrs:new w.AttrList({}),bitrate:0,details:r,name:"",url:f},p.trigger(F.Events.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:f,stats:l,networkDetails:k,sessionData:null,sessionKeys:null})),l.parsing.end=performance.now(),h.levelDetails=r,this.handlePlaylistLoaded(g,l,h,k)):p.trigger(F.Events.ERROR,{type:K.ErrorTypes.NETWORK_ERROR,details:K.ErrorDetails.LEVEL_EMPTY_ERROR,
fatal:!1,url:f,reason:"no fragments found in level",level:"number"===typeof h.level?h.level:void 0})};v.handleManifestParsingError=function(g,l,h,k){this.hls.trigger(F.Events.ERROR,{type:K.ErrorTypes.NETWORK_ERROR,details:K.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:l.type===C.PlaylistContextType.MANIFEST,url:g.url,reason:h,response:g,context:l,networkDetails:k})};v.handleNetworkError=function(g,l,h,k){void 0===h&&(h=!1);E.logger.warn("[playlist-loader]: A network "+(h?"timeout":"error")+" occurred while loading "+
g.type+" level: "+g.level+" id: "+g.id+' group-id: "'+g.groupId+'"');var p=K.ErrorDetails.UNKNOWN,r=!1,u=this.getInternalLoader(g);switch(g.type){case C.PlaylistContextType.MANIFEST:p=h?K.ErrorDetails.MANIFEST_LOAD_TIMEOUT:K.ErrorDetails.MANIFEST_LOAD_ERROR;r=!0;break;case C.PlaylistContextType.LEVEL:p=h?K.ErrorDetails.LEVEL_LOAD_TIMEOUT:K.ErrorDetails.LEVEL_LOAD_ERROR;r=!1;break;case C.PlaylistContextType.AUDIO_TRACK:p=h?K.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:K.ErrorDetails.AUDIO_TRACK_LOAD_ERROR;
r=!1;break;case C.PlaylistContextType.SUBTITLE_TRACK:p=h?K.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:K.ErrorDetails.SUBTITLE_LOAD_ERROR,r=!1}u&&this.resetInternalLoader(g.type);g={type:K.ErrorTypes.NETWORK_ERROR,details:p,fatal:r,url:g.url,loader:u,context:g,networkDetails:l};k&&(g.response=k);this.hls.trigger(F.Events.ERROR,g)};v.handlePlaylistLoaded=function(g,l,h,k){var p=h.type,r=h.level,u=h.id,m=h.groupId,f=h.loader,c=h.levelDetails,e=h.deliveryDirectives;if(null===c||void 0===c||!c.targetduration)this.handleManifestParsingError(g,
h,"invalid target duration",k);else if(f)switch(c.live&&(f.getCacheAge&&(c.ageHeader=f.getCacheAge()||0),!f.getCacheAge||isNaN(c.ageHeader))&&(c.ageHeader=0),p){case C.PlaylistContextType.MANIFEST:case C.PlaylistContextType.LEVEL:this.hls.trigger(F.Events.LEVEL_LOADED,{details:c,level:r||0,id:u||0,stats:l,networkDetails:k,deliveryDirectives:e});break;case C.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(F.Events.AUDIO_TRACK_LOADED,{details:c,id:u||0,groupId:m||"",stats:l,networkDetails:k,deliveryDirectives:e});
break;case C.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(F.Events.SUBTITLE_TRACK_LOADED,{details:c,id:u||0,groupId:m||"",stats:l,networkDetails:k,deliveryDirectives:e})}};return x}()},"./src/polyfills/number.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{MAX_SAFE_INTEGER:()=>T,isFiniteNumber:()=>X});var X=Number.isFinite||function(F){return"number"===typeof F&&isFinite(F)},T=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});const X=function(){function T(){}
T.getSilentFrame=function(F,K){switch(F){case "mp4a.40.2":if(1===K)return new Uint8Array([0,200,0,128,35,128]);if(2===K)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,
4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===K)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===K||3===K)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}};return T}()},"./src/remux/mp4-generator.ts":(oa,
Y,G)=>{G.r(Y);G.d(Y,{"default":()=>T});var X=Math.pow(2,32)-1;oa=function(){function F(){}F.init=function(){F.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};for(var K in F.types)F.types.hasOwnProperty(K)&&(F.types[K]=[K.charCodeAt(0),K.charCodeAt(1),
K.charCodeAt(2),K.charCodeAt(3)]);K=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);var E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);F.HDLR_TYPES={video:K,audio:E};K=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);E=new Uint8Array([0,0,0,0,0,0,0,0]);F.STTS=F.STSC=F.STCO=E;F.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);F.VMHD=new Uint8Array([0,
0,0,1,0,0,0,0,0,0,0,0]);F.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]);F.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);E=new Uint8Array([105,115,111,109]);var z=new Uint8Array([97,118,99,49]),C=new Uint8Array([0,0,0,1]);F.FTYP=F.box(F.types.ftyp,E,C,E,z);F.DINF=F.box(F.types.dinf,F.box(F.types.dref,K))};F.box=function(K){for(var E=8,z=arguments.length,C=Array(1<z?z-1:0),w=1;w<z;w++)C[w-1]=arguments[w];for(w=z=C.length;z--;)E+=C[z].byteLength;var q=new Uint8Array(E);q[0]=E>>24&255;q[1]=E>>16&255;q[2]=E>>8&255;
q[3]=E&255;q.set(K,4);z=0;for(E=8;z<w;z++)q.set(C[z],E),E+=C[z].byteLength;return q};F.hdlr=function(K){return F.box(F.types.hdlr,F.HDLR_TYPES[K])};F.mdat=function(K){return F.box(F.types.mdat,K)};F.mdhd=function(K,E){E*=K;var z=Math.floor(E/(X+1));E=Math.floor(E%(X+1));return F.box(F.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,K>>24&255,K>>16&255,K>>8&255,K&255,z>>24,z>>16&255,z>>8&255,z&255,E>>24,E>>16&255,E>>8&255,E&255,85,196,0,0]))};F.mdia=function(K){return F.box(F.types.mdia,
F.mdhd(K.timescale,K.duration),F.hdlr(K.type),F.minf(K))};F.mfhd=function(K){return F.box(F.types.mfhd,new Uint8Array([0,0,0,0,K>>24,K>>16&255,K>>8&255,K&255]))};F.minf=function(K){return"audio"===K.type?F.box(F.types.minf,F.box(F.types.smhd,F.SMHD),F.DINF,F.stbl(K)):F.box(F.types.minf,F.box(F.types.vmhd,F.VMHD),F.DINF,F.stbl(K))};F.moof=function(K,E,z){return F.box(F.types.moof,F.mfhd(K),F.traf(z,E))};F.moov=function(K){for(var E=K.length,z=[];E--;)z[E]=F.trak(K[E]);return F.box.apply(null,[F.types.moov,
F.mvhd(K[0].timescale,K[0].duration)].concat(z).concat(F.mvex(K)))};F.mvex=function(K){for(var E=K.length,z=[];E--;)z[E]=F.trex(K[E]);return F.box.apply(null,[F.types.mvex].concat(z))};F.mvhd=function(K,E){E*=K;var z=Math.floor(E/(X+1));E=Math.floor(E%(X+1));K=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,K>>24&255,K>>16&255,K>>8&255,K&255,z>>24,z>>16&255,z>>8&255,z&255,E>>24,E>>16&255,E>>8&255,E&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return F.box(F.types.mvhd,K)};F.sdtp=function(K){K=K.samples||[];var E=new Uint8Array(4+K.length),z;for(z=0;z<K.length;z++){var C=K[z].flags;E[z+4]=C.dependsOn<<4|C.isDependedOn<<2|C.hasRedundancy}return F.box(F.types.sdtp,E)};F.stbl=function(K){return F.box(F.types.stbl,F.stsd(K),F.box(F.types.stts,F.STTS),F.box(F.types.stsc,F.STSC),F.box(F.types.stsz,F.STSZ),F.box(F.types.stco,F.STCO))};F.avc1=function(K){var E=[],
z=[],C;for(C=0;C<K.sps.length;C++){var w=K.sps[C];var q=w.byteLength;E.push(q>>>8&255);E.push(q&255);E=E.concat(Array.prototype.slice.call(w))}for(C=0;C<K.pps.length;C++)w=K.pps[C],q=w.byteLength,z.push(q>>>8&255),z.push(q&255),z=z.concat(Array.prototype.slice.call(w));E=F.box(F.types.avcC,new Uint8Array([1,E[3],E[4],E[5],255,224|K.sps.length].concat(E).concat([K.pps.length]).concat(z)));z=K.width;C=K.height;w=K.pixelRatio[0];K=K.pixelRatio[1];return F.box(F.types.avc1,new Uint8Array([0,0,0,0,0,0,
0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,z>>8&255,z&255,C>>8&255,C&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),E,F.box(F.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),F.box(F.types.pasp,new Uint8Array([w>>24,w>>16&255,w>>8&255,w&255,K>>24,K>>16&255,K>>8&255,K&255])))};F.esds=function(K){var E=K.config.length;return new Uint8Array([0,0,0,0,3,23+E,0,1,0,4,15+E,64,21,0,0,0,0,0,0,0,0,
0,0,0,5].concat([E]).concat(K.config).concat([6,1,2]))};F.mp4a=function(K){var E=K.samplerate;return F.box(F.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,K.channelCount,0,16,0,0,0,0,E>>8&255,E&255,0,0]),F.box(F.types.esds,F.esds(K)))};F.mp3=function(K){var E=K.samplerate;return F.box(F.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,K.channelCount,0,16,0,0,0,0,E>>8&255,E&255,0,0]))};F.stsd=function(K){return"audio"===K.type?"mp3"===K.segmentCodec&&"mp3"===K.codec?F.box(F.types.stsd,
F.STSD,F.mp3(K)):F.box(F.types.stsd,F.STSD,F.mp4a(K)):F.box(F.types.stsd,F.STSD,F.avc1(K))};F.tkhd=function(K){var E=K.id,z=K.duration*K.timescale,C=K.width;K=K.height;var w=Math.floor(z/(X+1));z=Math.floor(z%(X+1));return F.box(F.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,E>>24&255,E>>16&255,E>>8&255,E&255,0,0,0,0,w>>24,w>>16&255,w>>8&255,w&255,z>>24,z>>16&255,z>>8&255,z&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,
0,0,0,C>>8&255,C&255,0,0,K>>8&255,K&255,0,0]))};F.traf=function(K,E){var z=F.sdtp(K),C=K.id,w=Math.floor(E/(X+1));E=Math.floor(E%(X+1));return F.box(F.types.traf,F.box(F.types.tfhd,new Uint8Array([0,0,0,0,C>>24,C>>16&255,C>>8&255,C&255])),F.box(F.types.tfdt,new Uint8Array([1,0,0,0,w>>24,w>>16&255,w>>8&255,w&255,E>>24,E>>16&255,E>>8&255,E&255])),F.trun(K,z.length+16+20+8+16+8+8),z)};F.trak=function(K){K.duration=K.duration||4294967295;return F.box(F.types.trak,F.tkhd(K),F.mdia(K))};F.trex=function(K){K=
K.id;return F.box(F.types.trex,new Uint8Array([0,0,0,0,K>>24,K>>16&255,K>>8&255,K&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};F.trun=function(K,E){var z=K.samples||[],C=z.length,w=12+16*C,q=new Uint8Array(w);E+=8+w;q.set(["video"===K.type?1:0,0,15,1,C>>>24&255,C>>>16&255,C>>>8&255,C&255,E>>>24&255,E>>>16&255,E>>>8&255,E&255],0);for(K=0;K<C;K++){var x=z[K];E=x.duration;w=x.size;var v=x.flags;x=x.cts;q.set([E>>>24&255,E>>>16&255,E>>>8&255,E&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255,v.isLeading<<2|v.dependsOn,
v.isDependedOn<<6|v.hasRedundancy<<4|v.paddingValue<<1|v.isNonSync,v.degradPrio&61440,v.degradPrio&15,x>>>24&255,x>>>16&255,x>>>8&255,x&255],12+16*K)}return F.box(F.types.trun,q)};F.initSegment=function(K){F.types||F.init();K=F.moov(K);var E=new Uint8Array(F.FTYP.byteLength+K.byteLength);E.set(F.FTYP);E.set(K,F.FTYP.byteLength);return E};return F}();oa.types=void 0;oa.HDLR_TYPES=void 0;oa.STTS=void 0;oa.STSC=void 0;oa.STCO=void 0;oa.STSZ=void 0;oa.VMHD=void 0;oa.SMHD=void 0;oa.STSD=void 0;oa.FTYP=
void 0;oa.DINF=void 0;const T=oa},"./src/remux/mp4-remuxer.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(u){for(var m=1;m<arguments.length;m++){var f=arguments[m],c;for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(u[c]=f[c])}return u};return X.apply(this,arguments)}function T(u,m){var f;if(null===m)return u;for(f=m<u?-8589934592:8589934592;4294967296<Math.abs(u-m);)u+=f;return u}function F(u,m,f,c){var e=u.samples.length;if(e){for(var t=u.inputTimeScale,B=0;B<e;B++){var y=
u.samples[B];y.pts=T(y.pts-f,m*t)/t;y.dts=T(y.dts-c,m*t)/t}m=u.samples;u.samples=[];return{samples:m}}}function K(u,m,f){var c=u.samples.length;if(c){for(var e=u.inputTimeScale,t=0;t<c;t++){var B=u.samples[t];B.pts=T(B.pts-f,m*e)/e}u.samples.sort(function(y,A){return y.pts-A.pts});m=u.samples;u.samples=[];return{samples:m}}}G.r(Y);G.d(Y,{"default":()=>k,flushTextTrackMetadataCueSamples:()=>F,flushTextTrackUserdataCueSamples:()=>K,normalizePts:()=>T});var E=G("./src/polyfills/number.ts"),z=G("./src/remux/aac-helper.ts"),
C=G("./src/remux/mp4-generator.ts"),w=G("./src/events.ts"),q=G("./src/errors.ts"),x=G("./src/utils/logger.ts"),v=G("./src/types/loader.ts"),g=G("./src/utils/timescale-conversion.ts"),l=null,h=null,k=function(){function u(f,c,e,t){this._initDTS=this._initPTS=void 0;this.videoSampleDuration=this.nextAudioPts=this.nextAvcDts=null;this.isVideoContiguous=this.isAudioContiguous=!1;this.observer=f;this.config=c;this.typeSupported=e;this.ISGenerated=!1;null===l&&(l=(f=(navigator.userAgent||"").match(/Chrome\/(\d+)/i))?
parseInt(f[1]):0);null===h&&(h=(f=navigator.userAgent.match(/Safari\/(\d+)/i))?parseInt(f[1]):0)}var m=u.prototype;m.destroy=function(){};m.resetTimeStamp=function(f){x.logger.log("[mp4-remuxer]: initPTS \x26 initDTS reset");this._initPTS=this._initDTS=f};m.resetNextTimestamp=function(){x.logger.log("[mp4-remuxer]: reset next timestamp");this.isAudioContiguous=this.isVideoContiguous=!1};m.resetInitSegment=function(){x.logger.log("[mp4-remuxer]: ISGenerated flag reset");this.ISGenerated=!1};m.getVideoStartPts=
function(f){var c=!1;f=f.reduce(function(e,t){var B=t.pts-e;return-4294967296>B?(c=!0,T(e,t.pts)):0<B?e:t.pts},f[0].pts);c&&x.logger.debug("PTS rollover detected");return f};m.remux=function(f,c,e,t,B,y,A,H){var J,N,ea,ia=B,la=B,S=-1<c.pid,aa=c.samples.length,da=0<f.samples.length,ma=A&&0<aa||1<aa;if(!(-1<f.pid&&!da||S&&!ma)||this.ISGenerated||A){this.ISGenerated||(J=this.generateIS(f,c,B));A=this.isVideoContiguous;var na=-1;if(ma){a:{na=c.samples;for(var Ba=0;Ba<na.length;Ba++)if(na[Ba].key){na=
Ba;break a}na=-1}if(!A&&this.config.forceKeyFrameOnDiscontinuity){var Na=!0;if(0<na){x.logger.warn("[mp4-remuxer]: Dropped "+na+" out of "+aa+" video samples due to a missing keyframe");var ra=this.getVideoStartPts(c.samples);c.samples=c.samples.slice(na);c.dropped+=na;ra=la+=(c.samples[0].pts-ra)/c.inputTimeScale}else-1===na&&(x.logger.warn("[mp4-remuxer]: No keyframe found out of "+aa+" video samples"),Na=!1)}}if(this.ISGenerated){da&&ma&&(aa=this.getVideoStartPts(c.samples),aa=(T(f.samples[0].pts,
aa)-aa)/c.inputTimeScale,ia+=Math.max(0,aa),la+=Math.max(0,-aa));if(da){f.samplerate||(x.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),J=this.generateIS(f,c,B));var Pa=this.remuxAudio(f,ia,this.isAudioContiguous,y,S||ma||H===v.PlaylistLevelType.AUDIO?la:void 0);if(ma){y=Pa?Pa.endPTS-Pa.startPTS:0;c.inputTimeScale||(x.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),J=this.generateIS(f,c,B));var Ja=this.remuxVideo(c,la,A,y)}}else ma&&(Ja=this.remuxVideo(c,
la,A,0));Ja&&(Ja.firstKeyFrame=na,Ja.independent=-1!==na,Ja.firstKeyFramePTS=ra)}}this.ISGenerated&&(e.samples.length&&(ea=F(e,B,this._initPTS,this._initDTS)),t.samples.length&&(N=K(t,B,this._initPTS)));return{audio:Pa,video:Ja,initSegment:J,independent:Na,text:N,id3:ea}};m.generateIS=function(f,c,e){var t=f.samples,B=c.samples,y=this.typeSupported,A={},H=!(0,E.isFiniteNumber)(this._initPTS),J="audio/mp4",N,ea;H&&(N=ea=Infinity);if(f.config&&t.length){f.timescale=f.samplerate;switch(f.segmentCodec){case "mp3":y.mpeg?
(J="audio/mpeg",f.codec=""):y.mp3&&(f.codec="mp3")}A.audio={id:"audio",container:J,codec:f.codec,initSegment:"mp3"===f.segmentCodec&&y.mpeg?new Uint8Array(0):C["default"].initSegment([f]),metadata:{channelCount:f.channelCount}};if(H){var ia=f.inputTimeScale;N=ea=t[0].pts-Math.round(ia*e)}}c.sps&&c.pps&&B.length&&(c.timescale=c.inputTimeScale,A.video={id:"main",container:"video/mp4",codec:c.codec,initSegment:C["default"].initSegment([c]),metadata:{width:c.width,height:c.height}},H&&(ia=c.inputTimeScale,
f=this.getVideoStartPts(B),e=Math.round(ia*e),ea=Math.min(ea,T(B[0].dts,f)-e),N=Math.min(N,f-e)));if(Object.keys(A).length)return this.ISGenerated=!0,H&&(this._initPTS=N,this._initDTS=ea),{tracks:A,initPTS:N,timescale:ia}};m.remuxVideo=function(f,c,e,t){var B=f.inputTimeScale,y=f.samples,A=[],H=y.length,J=this._initPTS,N=this.nextAvcDts,ea=8,ia=this.videoSampleDuration,la=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,aa=!1;e&&null!==N||(c*=B,N=y[0].pts-T(y[0].dts,y[0].pts),N=c-N);for(c=0;c<
H;c++){var da=y[c];da.pts=T(da.pts-J,N);da.dts=T(da.dts-J,N);da.dts<y[0<c?c-1:c].dts&&(aa=!0)}aa&&y.sort(function(qc,ac){var Sb=qc.pts-ac.pts;return qc.dts-ac.dts||Sb});J=y[0].dts;c=y[y.length-1].dts;aa=(aa=c-J)?Math.round(aa/(H-1)):ia||f.inputTimeScale/30;e&&(c=J-N,e=c>aa,da=-1>c,e||da)&&(e?x.logger.warn("AVC: "+(0,g.toMsFromMpegTsClock)(c,!0)+" ms ("+c+"dts) hole between fragments detected, filling it"):x.logger.warn("AVC: "+(0,g.toMsFromMpegTsClock)(-c,!0)+" ms ("+c+"dts) overlapping between fragments detected"),
!da||N>y[0].pts)&&(J=N,N=y[0].pts-c,y[0].dts=J,y[0].pts=N,x.logger.log("Video: First PTS/DTS adjusted: "+(0,g.toMsFromMpegTsClock)(N,!0)+"/"+(0,g.toMsFromMpegTsClock)(J,!0)+", delta: "+(0,g.toMsFromMpegTsClock)(c,!0)+" ms"));J=Math.max(0,J);for(c=e=N=0;c<H;c++){da=y[c];for(var ma=da.units,na=ma.length,Ba=0,Na=0;Na<na;Na++)Ba+=ma[Na].data.length;e+=Ba;N+=na;da.length=Ba;da.dts=Math.max(da.dts,J);la=Math.min(da.pts,la);S=Math.max(da.pts,S)}c=y[H-1].dts;N=e+4*N+8;try{var ra=new Uint8Array(N)}catch(qc){this.observer.emit(w.Events.ERROR,
w.Events.ERROR,{type:q.ErrorTypes.MUX_ERROR,details:q.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N});return}e=new DataView(ra.buffer);e.setUint32(0,N);ra.set(C["default"].types.mdat,4);N=!1;ma=da=Number.POSITIVE_INFINITY;Ba=na=Number.NEGATIVE_INFINITY;for(Na=0;Na<H;Na++){var Pa=y[Na];ia=Pa.units;for(var Ja=0,xb=0,Ab=ia.length;xb<Ab;xb++){var gc=ia[xb],cc=gc.data;gc=gc.data.byteLength;e.setUint32(ea,gc);ea+=4;ra.set(cc,ea);ea+=gc;Ja+=4+gc}xb=void 0;Na<H-1?
(ia=y[Na+1].dts-Pa.dts,xb=y[Na+1].pts-Pa.pts):(ia=this.config,Ab=0<Na?Pa.dts-y[Na-1].dts:aa,xb=0<Na?Pa.pts-y[Na-1].pts:aa,ia.stretchShortVideoTrack&&null!==this.nextAudioPts?(cc=(t?la+t*B:this.nextAudioPts)-Pa.pts,cc>Math.floor(ia.maxBufferHole*B)?(ia=cc-Ab,0>ia?ia=Ab:N=!0,x.logger.log("[mp4-remuxer]: It is approximately "+cc/90+" ms to the next segment; using duration "+ia/90+" ms for the last video frame.")):ia=Ab):ia=Ab);Ab=Math.round(Pa.pts-Pa.dts);da=Math.min(da,ia);na=Math.max(na,ia);ma=Math.min(ma,
xb);Ba=Math.max(Ba,xb);A.push(new p(Pa.key,ia,Ja,Ab))}if(A.length)if(l)70>l&&(t=A[0].flags,t.dependsOn=2,t.isNonSync=0);else if(h&&Ba-ma<na-da&&.025>aa/na&&0===A[0].cts)for(x.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration."),ea=J,t=0,y=A.length;t<y;t++)H=ea+A[t].duration,ea+=A[t].cts,A[t].duration=t<y-1?H+A[t+1].cts-ea:t?A[t-1].duration:aa,A[t].cts=0,ea=H;console.assert(null!==ia,"mp4SampleDuration must be computed");ia=N||!ia?aa:ia;
this.nextAvcDts=N=c+ia;this.videoSampleDuration=ia;this.isVideoContiguous=!0;B={data1:C["default"].moof(f.sequenceNumber++,J,X({},f,{samples:A})),data2:ra,startPTS:la/B,endPTS:(S+ia)/B,startDTS:J/B,endDTS:N/B,type:"video",hasAudio:!1,hasVideo:!0,nb:A.length,dropped:f.dropped};f.samples=[];f.dropped=0;console.assert(ra.length,"MDAT length must not be zero");return B};m.remuxAudio=function(f,c,e,t,B){var y=f.inputTimeScale,A=y/(f.samplerate?f.samplerate:y),H="aac"===f.segmentCodec?1024:1152,J=H*A,N=
this._initPTS,ea="mp3"===f.segmentCodec&&this.typeSupported.mpeg,ia=[],la=void 0!==B,S=f.samples,aa=ea?0:8,da=this.nextAudioPts||-1,ma=c*y;this.isAudioContiguous=e=e||S.length&&0<da&&(t&&9E3>Math.abs(ma-da)||Math.abs(T(S[0].pts-N,ma)-da)<20*J);S.forEach(function(xb){xb.pts=T(xb.pts-N,ma)});if(!e||0>da){S=S.filter(function(xb){return 0<=xb.pts});if(!S.length)return;da=0===B?0:t&&!la?Math.max(0,ma):S[0].pts}if("aac"===f.segmentCodec)for(c=this.config.maxAudioFramesDrift,t=0,B=da;t<S.length;t++){var na=
S[t],Ba=na.pts,Na=Ba-B,ra=Math.abs(1E3*Na/y);if(Na<=-c*J&&la)0===t&&(x.logger.warn("Audio frame @ "+(Ba/y).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1E3*Na/y)+" ms."),this.nextAudioPts=da=B=Ba);else if(Na>=c*J&&1E4>ra&&la)for(ra=Math.round(Na/J),B=Ba-ra*J,0>B&&(ra--,B+=J),0===t&&(this.nextAudioPts=da=B),x.logger.warn("[mp4-remuxer]: Injecting "+ra+" audio frame @ "+(B/y).toFixed(3)+"s due to "+Math.round(1E3*Na/y)+" ms gap."),Ba=0;Ba<ra;Ba++){Na=Math.max(B,0);var Pa=z["default"].getSilentFrame(f.manifestCodec||
f.codec,f.channelCount);Pa||(x.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Pa=na.unit.subarray());S.splice(t,0,{unit:Pa,pts:Na});B+=J;t++}na.pts=B;B+=J}la=J=null;c=0;for(t=S.length;t--;)c+=S[t].unit.byteLength;t=0;for(B=S.length;t<B;t++){ra=S[t];na=ra.unit;ra=ra.pts;if(null!==la)ia[t-1].duration=Math.round((ra-la)/A);else if(e&&"aac"===f.segmentCodec&&(ra=da),J=ra,0<c){c+=aa;try{var Ja=new Uint8Array(c)}catch(xb){this.observer.emit(w.Events.ERROR,
w.Events.ERROR,{type:q.ErrorTypes.MUX_ERROR,details:q.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:c,reason:"fail allocating audio mdat "+c});return}ea||((new DataView(Ja.buffer)).setUint32(0,c),Ja.set(C["default"].types.mdat,4))}else return;Ja.set(na,aa);la=na.byteLength;aa+=la;ia.push(new p(!0,H,la,0));la=ra}if(e=ia.length)return this.nextAudioPts=da=la+A*ia[ia.length-1].duration,A=ea?new Uint8Array(0):C["default"].moof(f.sequenceNumber++,J/A,X({},f,{samples:ia})),f.samples=[],f=J/y,y=da/y,y={data1:A,
data2:Ja,startPTS:f,endPTS:y,startDTS:f,endDTS:y,type:"audio",hasAudio:!0,hasVideo:!1,nb:e},this.isAudioContiguous=!0,console.assert(Ja.length,"MDAT length must not be zero"),y};m.remuxEmptyAudio=function(f,c,e,t){var B=f.inputTimeScale,y=this.nextAudioPts;y=(null!==y?y:t.startDTS*B)+this._initDTS;var A=B/(f.samplerate?f.samplerate:B)*1024;t=Math.ceil((t.endDTS*B+this._initDTS-y)/A);B=z["default"].getSilentFrame(f.manifestCodec||f.codec,f.channelCount);x.logger.warn("[mp4-remuxer]: remux empty Audio");
if(B){for(var H=[],J=0;J<t;J++){var N=y+J*A;H.push({unit:B,pts:N,dts:N})}f.samples=H;return this.remuxAudio(f,c,e,!1)}x.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")};return u}(),p=function(u,m,f,c){this.flags=this.cts=this.duration=this.size=void 0;this.duration=m;this.size=f;this.cts=c;this.flags=new r(u)},r=function(u){this.degradPrio=this.hasRedundancy=this.isDependedOn=this.isLeading=0;this.isNonSync=this.dependsOn=1;
this.dependsOn=u?2:1;this.isNonSync=u?0:1}},"./src/remux/passthrough-remuxer.ts":(oa,Y,G)=>{function X(w,q){return(w=null===w||void 0===w?void 0:w.codec)&&4<w.length?w:"hvc1"===w||"hev1"===w?"hvc1.1.c.L120.90":"av01"===w?"av01.0.04M.08":"avc1"===w||q===E.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}G.r(Y);G.d(Y,{"default":()=>C});var T=G("./src/polyfills/number.ts"),F=G("./src/remux/mp4-remuxer.ts"),K=G("./src/utils/mp4-tools.ts"),E=G("./src/loader/fragment.ts"),z=G("./src/utils/logger.ts");
const C=function(){function w(){this.emitInitSegment=!1;this.initTracks=this.initPTS=this.initData=this.videoCodec=this.audioCodec=void 0;this.lastEndTime=null}var q=w.prototype;q.destroy=function(){};q.resetTimeStamp=function(x){this.initPTS=x;this.lastEndTime=null};q.resetNextTimestamp=function(){this.lastEndTime=null};q.resetInitSegment=function(x,v,g,l){this.audioCodec=v;this.videoCodec=g;this.generateInitSegment((0,K.patchEncyptionData)(x,l));this.emitInitSegment=!0};q.generateInitSegment=function(x){var v=
this.audioCodec,g=this.videoCodec;if(x&&x.byteLength){var l=this.initData=(0,K.parseInitSegment)(x);v||(v=X(l.audio,E.ElementaryStreamTypes.AUDIO));g||(g=X(l.video,E.ElementaryStreamTypes.VIDEO));var h={};l.audio&&l.video?h.audiovideo={container:"video/mp4",codec:v+","+g,initSegment:x,id:"main"}:l.audio?h.audio={container:"audio/mp4",codec:v,initSegment:x,id:"audio"}:l.video?h.video={container:"video/mp4",codec:g,initSegment:x,id:"main"}:z.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes.");
this.initTracks=h}else this.initData=this.initTracks=void 0};q.remux=function(x,v,g,l,h){var k,p=this.initPTS,r=this.lastEndTime,u={audio:void 0,video:void 0,text:l,id3:g,initSegment:void 0};(0,T.isFiniteNumber)(r)||(r=this.lastEndTime=h||0);var m=v.samples;if(!m||!m.length)return u;v={initPTS:void 0,timescale:1};var f=this.initData;f&&f.length||(this.generateInitSegment(m),f=this.initData);if(!f||!f.length)return z.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&
(v.tracks=this.initTracks,this.emitInitSegment=!1);var c=(0,K.getStartDTS)(f,m);(0,T.isFiniteNumber)(p)||(this.initPTS=v.initPTS=p=c-h);var e=(0,K.getDuration)(m,f);x=x?c-p:r;r=x+e;(0,K.offsetStartDTS)(f,m,p);0<e?this.lastEndTime=r:(z.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());p=!!f.audio;f=!!f.video;e="";p&&(e+="audio");f&&(e+="video");m={data1:m,startPTS:x,startDTS:x,endPTS:r,endDTS:r,type:e,hasAudio:p,hasVideo:f,nb:1,dropped:0};u.audio="audio"===
m.type?m:void 0;u.video="audio"!==m.type?m:void 0;u.initSegment=v;v=null!=(k=this.initPTS)?k:0;u.id3=(0,F.flushTextTrackMetadataCueSamples)(g,h,v,v);l.samples.length&&(u.text=(0,F.flushTextTrackUserdataCueSamples)(l,h,v));return u};return w}()},"./src/task-loop.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});var X=function(){function T(){this._boundTick=void 0;this._tickInterval=this._tickTimer=null;this._tickCallCount=0;this._boundTick=this.tick.bind(this)}var F=T.prototype;F.destroy=function(){this.onHandlerDestroying();
this.onHandlerDestroyed()};F.onHandlerDestroying=function(){this.clearNextTick();this.clearInterval()};F.onHandlerDestroyed=function(){};F.hasInterval=function(){return!!this._tickInterval};F.hasNextTick=function(){return!!this._tickTimer};F.setInterval=function(K){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,K),!0)};F.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1};F.clearNextTick=function(){return this._tickTimer?
(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1};F.tick=function(){this._tickCallCount++;1===this._tickCallCount&&(this.doTick(),1<this._tickCallCount&&this.tickImmediate(),this._tickCallCount=0)};F.tickImmediate=function(){this.clearNextTick();this._tickTimer=self.setTimeout(this._boundTick,0)};F.doTick=function(){};return T}()},"./src/types/cmcd.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{CMCDObjectType:()=>T,CMCDStreamType:()=>K,CMCDStreamingFormat:()=>F,CMCDVersion:()=>X});var X=1,T;(function(E){E.MANIFEST=
"m";E.AUDIO="a";E.VIDEO="v";E.MUXED="av";E.INIT="i";E.CAPTION="c";E.TIMED_TEXT="tt";E.KEY="k";E.OTHER="o"})(T||(T={}));var F;(function(E){E.DASH="d";E.HLS="h";E.SMOOTH="s";E.OTHER="o"})(F||(F={}));var K;(function(E){E.VOD="v";E.LIVE="l"})(K||(K={}))},"./src/types/demuxer.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{MetadataSchema:()=>X});var X;(function(T){T.audioId3="org.id3";T.dateRange="com.apple.quicktime.HLS";T.emsg="https://aomedia.org/emsg/ID3"})(X||(X={}))},"./src/types/level.ts":(oa,Y,G)=>{function X(w,
q){for(var x=0;x<q.length;x++){var v=q[x];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);var g=Object,l=g.defineProperty;a:{var h=v.key;if("object"===typeof h&&null!==h){var k=h[Symbol.toPrimitive];if(void 0!==k){h=k.call(h,"string");if("object"!==typeof h)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}}l.call(g,w,"symbol"===typeof h?h:String(h),v)}}function T(w,q,x){q&&X(w.prototype,q);x&&X(w,x);Object.defineProperty(w,"prototype",
{writable:!1});return w}function F(w,q){var x=w.canSkipUntil,v=w.canSkipDateRanges;w=w.endSN;return x&&(void 0!==q?q-w:0)<x?v?E.v2:E.Yes:E.No}G.r(Y);G.d(Y,{HdcpLevels:()=>K,HlsSkip:()=>E,HlsUrlParameters:()=>z,Level:()=>C,getSkipValue:()=>F});var K=["NONE","TYPE-0","TYPE-1","TYPE-2",null],E;(function(w){w.No="";w.Yes="YES";w.v2="v2"})(E||(E={}));var z=function(){function w(q,x,v){this.msn=q;this.part=x;this.skip=v}w.prototype.addDirectives=function(q){q=new self.URL(q);void 0!==this.msn&&q.searchParams.set("_HLS_msn",
this.msn.toString());void 0!==this.part&&q.searchParams.set("_HLS_part",this.part.toString());this.skip&&q.searchParams.set("_HLS_skip",this.skip);return q.href};return w}(),C=function(){function w(q){this.details=this.audioGroupIds=this.unknownCodecs=this.width=this.videoCodec=this.name=this.id=this.height=this.codecSet=this.bitrate=this.audioCodec=this.attrs=void 0;this.loadError=this.fragmentError=0;this.loaded=void 0;this.realBitrate=0;this.url=this.textGroupIds=void 0;this._urlId=0;this.url=
[q.url];this.attrs=q.attrs;this.bitrate=q.bitrate;q.details&&(this.details=q.details);this.id=q.id||0;this.name=q.name;this.width=q.width||0;this.height=q.height||0;this.audioCodec=q.audioCodec;this.videoCodec=q.videoCodec;this.unknownCodecs=q.unknownCodecs;this.codecSet=[q.videoCodec,q.audioCodec].filter(function(x){return x}).join(",").replace(/\.[^.,]+/g,"")}T(w,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||
""}},{key:"urlId",get:function(){return this._urlId},set:function(q){q%=this.url.length;this._urlId!==q&&(this.details=void 0,this._urlId=q)}}]);return w}()},"./src/types/loader.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{PlaylistContextType:()=>X,PlaylistLevelType:()=>T});var X;(function(F){F.MANIFEST="manifest";F.LEVEL="level";F.AUDIO_TRACK="audioTrack";F.SUBTITLE_TRACK="subtitleTrack"})(X||(X={}));var T;(function(F){F.MAIN="main";F.AUDIO="audio";F.SUBTITLE="subtitle"})(T||(T={}))},"./src/types/transmuxer.ts":(oa,
Y,G)=>{function X(){return{start:0,executeStart:0,executeEnd:0,end:0}}G.r(Y);G.d(Y,{ChunkMetadata:()=>T});var T=function(F,K,E,z,C,w){void 0===z&&(z=0);void 0===C&&(C=-1);void 0===w&&(w=!1);this.partial=this.size=this.id=this.part=this.sn=this.level=void 0;this.transmuxing=X();this.buffering={audio:X(),video:X(),audiovideo:X()};this.level=F;this.sn=K;this.id=E;this.size=z;this.part=C;this.partial=w}},"./src/utils/attr-list.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{AttrList:()=>F});var X=/^(\d+)x(\d+)$/,T=/\s*(.+?)\s*=((?:".*?")|.*?)(?:,|$)/g,
F=function(){function K(z){"string"===typeof z&&(z=K.parseAttrList(z));for(var C in z)z.hasOwnProperty(C)&&(this[C]=z[C])}var E=K.prototype;E.decimalInteger=function(z){z=parseInt(this[z],10);return z>Number.MAX_SAFE_INTEGER?Infinity:z};E.hexadecimalInteger=function(z){if(this[z]){z=(this[z]||"0x").slice(2);z=(z.length&1?"0":"")+z;for(var C=new Uint8Array(z.length/2),w=0;w<z.length/2;w++)C[w]=parseInt(z.slice(2*w,2*w+2),16);return C}return null};E.hexadecimalIntegerAsNumber=function(z){z=parseInt(this[z],
16);return z>Number.MAX_SAFE_INTEGER?Infinity:z};E.decimalFloatingPoint=function(z){return parseFloat(this[z])};E.optionalFloat=function(z,C){return(z=this[z])?parseFloat(z):C};E.enumeratedString=function(z){return this[z]};E.bool=function(z){return"YES"===this[z]};E.decimalResolution=function(z){z=X.exec(this[z]);if(null!==z)return{width:parseInt(z[1],10),height:parseInt(z[2],10)}};K.parseAttrList=function(z){var C,w={};for(T.lastIndex=0;null!==(C=T.exec(z));){var q=C[2];0===q.indexOf('"')&&q.lastIndexOf('"')===
q.length-1&&(q=q.slice(1,-1));w[C[1]]=q}return w};return K}()},"./src/utils/binary-search.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});const X={search:function(T,F){for(var K=0,E=T.length-1,z,C;K<=E;){z=(K+E)/2|0;C=T[z];var w=F(C);if(0<w)K=z+1;else if(0>w)E=z-1;else return C}return null}}},"./src/utils/buffer-helper.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{BufferHelper:()=>F});var X=G("./src/utils/logger.ts"),T={length:0,start:function(){return 0},end:function(){return 0}},F=function(){function K(){}K.isBuffered=
function(E,z){try{if(E){var C=K.getBuffered(E);for(E=0;E<C.length;E++)if(z>=C.start(E)&&z<=C.end(E))return!0}}catch(w){}return!1};K.bufferInfo=function(E,z,C){try{if(E){var w=K.getBuffered(E);E=[];var q;for(q=0;q<w.length;q++)E.push({start:w.start(q),end:w.end(q)});return this.bufferedInfo(E,z,C)}}catch(x){}return{len:0,start:z,end:z,nextStart:void 0}};K.bufferedInfo=function(E,z,C){z=Math.max(0,z);E.sort(function(k,p){var r=k.start-p.start;return r?r:p.end-k.end});var w=[];if(C)for(var q=0;q<E.length;q++){var x=
w.length;if(x){var v=w[x-1].end;E[q].start-v<C?E[q].end>v&&(w[x-1].end=E[q].end):w.push(E[q])}else w.push(E[q])}else w=E;E=0;x=q=z;for(v=0;v<w.length;v++){var g=w[v].start,l=w[v].end;if(z+C>=g&&z<l)q=g,x=l,E=x-z;else if(z+C<g){var h=g;break}}return{len:E,start:q||0,end:x||0,nextStart:h}};K.getBuffered=function(E){try{return E.buffered}catch(z){return X.logger.log("failed to get media.buffered",z),T}};return K}()},"./src/utils/cea-608-parser.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{CaptionScreen:()=>k,Row:()=>
h,"default":()=>r});var X=G("./src/utils/logger.ts"),T={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,
174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},F=function(u){var m=u;T.hasOwnProperty(u)&&(m=T[u]);return String.fromCharCode(m)},K={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},E={17:2,18:4,21:6,22:8,23:10,19:13,20:15},z={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},C={25:2,
26:4,29:6,30:8,31:10,27:13,28:15},w="white green blue cyan red yellow magenta black transparent".split(" "),q;(function(u){u[u.ERROR=0]="ERROR";u[u.TEXT=1]="TEXT";u[u.WARNING=2]="WARNING";u[u.INFO=2]="INFO";u[u.DEBUG=3]="DEBUG";u[u.DATA=3]="DATA"})(q||(q={}));var x=function(){function u(){this.time=null;this.verboseLevel=q.ERROR}u.prototype.log=function(m,f){this.verboseLevel>=m&&(f="function"===typeof f?f():f,X.logger.log(this.time+" ["+m+"] "+f))};return u}(),v=function(u){for(var m=[],f=0;f<u.length;f++)m.push(u[f].toString(16));
return m},g=function(){function u(f,c,e,t,B){this.flash=this.background=this.italics=this.underline=this.foreground=void 0;this.foreground=f||"white";this.underline=c||!1;this.italics=e||!1;this.background=t||"black";this.flash=B||!1}var m=u.prototype;m.reset=function(){this.foreground="white";this.italics=this.underline=!1;this.background="black";this.flash=!1};m.setStyles=function(f){for(var c=["foreground","underline","italics","background","flash"],e=0;e<c.length;e++){var t=c[e];f.hasOwnProperty(t)&&
(this[t]=f[t])}};m.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash};m.equals=function(f){return this.foreground===f.foreground&&this.underline===f.underline&&this.italics===f.italics&&this.background===f.background&&this.flash===f.flash};m.copy=function(f){this.foreground=f.foreground;this.underline=f.underline;this.italics=f.italics;this.background=f.background;this.flash=f.flash};m.toString=function(){return"color\x3d"+
this.foreground+", underline\x3d"+this.underline+", italics\x3d"+this.italics+", background\x3d"+this.background+", flash\x3d"+this.flash};return u}(),l=function(){function u(f,c,e,t,B,y){this.penState=this.uchar=void 0;this.uchar=f||" ";this.penState=new g(c,e,t,B,y)}var m=u.prototype;m.reset=function(){this.uchar=" ";this.penState.reset()};m.setChar=function(f,c){this.uchar=f;this.penState.copy(c)};m.setPenState=function(f){this.penState.copy(f)};m.equals=function(f){return this.uchar===f.uchar&&
this.penState.equals(f.penState)};m.copy=function(f){this.uchar=f.uchar;this.penState.copy(f.penState)};m.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()};return u}(),h=function(){function u(f){this.logger=this.cueStartTime=this.currPenState=this.pos=void 0;this.chars=[];for(var c=0;100>c;c++)this.chars.push(new l);this.logger=f;this.pos=0;this.currPenState=new g}var m=u.prototype;m.equals=function(f){for(var c=!0,e=0;100>e;e++)if(!this.chars[e].equals(f.chars[e])){c=!1;break}return c};
m.copy=function(f){for(var c=0;100>c;c++)this.chars[c].copy(f.chars[c])};m.isEmpty=function(){for(var f=!0,c=0;100>c;c++)if(!this.chars[c].isEmpty()){f=!1;break}return f};m.setCursor=function(f){this.pos!==f&&(this.pos=f);0>this.pos?(this.logger.log(q.DEBUG,"Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(this.logger.log(q.DEBUG,"Too large cursor position "+this.pos),this.pos=100)};m.moveCursor=function(f){var c=this.pos+f;if(1<f)for(f=this.pos+1;f<c+1;f++)this.chars[f].setPenState(this.currPenState);
this.setCursor(c)};m.backSpace=function(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)};m.insertChar=function(f){var c=this;144<=f&&this.backSpace();var e=F(f);100<=this.pos?this.logger.log(q.ERROR,function(){return"Cannot insert "+f.toString(16)+" ("+e+") at position "+c.pos+". Skipping it!"}):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))};m.clearFromPos=function(f){for(;100>f;f++)this.chars[f].reset()};m.clear=function(){this.clearFromPos(0);this.pos=
0;this.currPenState.reset()};m.clearToEndOfRow=function(){this.clearFromPos(this.pos)};m.getTextString=function(){for(var f=[],c=!0,e=0;100>e;e++){var t=this.chars[e].uchar;" "!==t&&(c=!1);f.push(t)}return c?"":f.join("")};m.setPenStyles=function(f){this.currPenState.setStyles(f);this.chars[this.pos].setPenState(this.currPenState)};return u}(),k=function(){function u(f){this.logger=this.lastOutputScreen=this.nrRollUpRows=this.currRow=this.rows=void 0;this.rows=[];for(var c=0;15>c;c++)this.rows.push(new h(f));
this.logger=f;this.currRow=14;this.lastOutputScreen=this.nrRollUpRows=null;this.reset()}var m=u.prototype;m.reset=function(){for(var f=0;15>f;f++)this.rows[f].clear();this.currRow=14};m.equals=function(f){for(var c=!0,e=0;15>e;e++)if(!this.rows[e].equals(f.rows[e])){c=!1;break}return c};m.copy=function(f){for(var c=0;15>c;c++)this.rows[c].copy(f.rows[c])};m.isEmpty=function(){for(var f=!0,c=0;15>c;c++)if(!this.rows[c].isEmpty()){f=!1;break}return f};m.backSpace=function(){this.rows[this.currRow].backSpace()};
m.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()};m.insertChar=function(f){this.rows[this.currRow].insertChar(f)};m.setPen=function(f){this.rows[this.currRow].setPenStyles(f)};m.moveCursor=function(f){this.rows[this.currRow].moveCursor(f)};m.setCursor=function(f){this.logger.log(q.INFO,"setCursor: "+f);this.rows[this.currRow].setCursor(f)};m.setPAC=function(f){this.logger.log(q.INFO,function(){return"pacData \x3d "+JSON.stringify(f)});var c=f.row-1;this.nrRollUpRows&&c<this.nrRollUpRows-
1&&(c=this.nrRollUpRows-1);if(this.nrRollUpRows&&this.currRow!==c){for(var e=0;15>e;e++)this.rows[e].clear();e=this.currRow+1-this.nrRollUpRows;var t=this.lastOutputScreen;if(t){var B=t.rows[e].cueStartTime,y=this.logger.time;if(B&&null!==y&&B<y)for(B=0;B<this.nrRollUpRows;B++)this.rows[c-this.nrRollUpRows+B+1].copy(t.rows[e+B])}}this.currRow=c;c=this.rows[this.currRow];null!==f.indent&&(e=Math.max(f.indent-1,0),c.setCursor(f.indent),f.color=c.chars[e].penState.foreground);this.setPen({foreground:f.color,
underline:f.underline,italics:f.italics,background:"black",flash:!1})};m.setBkgData=function(f){this.logger.log(q.INFO,function(){return"bkgData \x3d "+JSON.stringify(f)});this.backSpace();this.setPen(f);this.insertChar(32)};m.setRollUpRows=function(f){this.nrRollUpRows=f};m.rollUp=function(){var f=this;if(null===this.nrRollUpRows)this.logger.log(q.DEBUG,"roll_up but nrRollUpRows not set yet");else{this.logger.log(q.TEXT,function(){return f.getDisplayText()});var c=this.rows.splice(this.currRow+1-
this.nrRollUpRows,1)[0];c.clear();this.rows.splice(this.currRow,0,c);this.logger.log(q.INFO,"Rolling up")}};m.getDisplayText=function(f){f=f||!1;for(var c=[],e="",t,B=0;15>B;B++){var y=this.rows[B].getTextString();y&&(t=B+1,f?c.push("Row "+t+": '"+y+"'"):c.push(y.trim()))}0<c.length&&(e=f?"["+c.join(" | ")+"]":c.join("\n"));return e};m.getTextAndFormat=function(){return this.rows};return u}(),p=function(){function u(f,c,e){this.logger=this.cueStartTime=this.writeScreen=this.currRollUpRow=this.lastOutputScreen=
this.nonDisplayedMemory=this.displayedMemory=this.verbose=this.mode=this.outputFilter=this.chNr=void 0;this.chNr=f;this.outputFilter=c;this.mode=null;this.verbose=0;this.displayedMemory=new k(e);this.nonDisplayedMemory=new k(e);this.lastOutputScreen=new k(e);this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null;this.logger=e}var m=u.prototype;m.reset=function(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();
this.lastOutputScreen.reset();this.outputFilter.reset();this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null};m.getHandler=function(){return this.outputFilter};m.setHandler=function(f){this.outputFilter=f};m.setPAC=function(f){this.writeScreen.setPAC(f)};m.setBkgData=function(f){this.writeScreen.setBkgData(f)};m.setMode=function(f){f!==this.mode&&(this.mode=f,this.logger.log(q.INFO,function(){return"MODE\x3d"+f}),"MODE_POP-ON"===this.mode?
this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=f)};m.insertChars=function(f){for(var c=this,e=0;e<f.length;e++)this.writeScreen.insertChar(f[e]);var t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(q.INFO,function(){return t+": "+c.writeScreen.getDisplayText(!0)});if("MODE_PAINT-ON"===this.mode||
"MODE_ROLL-UP"===this.mode)this.logger.log(q.TEXT,function(){return"DISPLAYED: "+c.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate()};m.ccRCL=function(){this.logger.log(q.INFO,"RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")};m.ccBS=function(){this.logger.log(q.INFO,"BS - BackSpace");"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())};m.ccAOF=function(){};m.ccAON=function(){};m.ccDER=function(){this.logger.log(q.INFO,
"DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()};m.ccRU=function(f){this.logger.log(q.INFO,"RU("+f+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(f)};m.ccFON=function(){this.logger.log(q.INFO,"FON - Flash On");this.writeScreen.setPen({flash:!0})};m.ccRDC=function(){this.logger.log(q.INFO,"RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")};m.ccTR=function(){this.logger.log(q.INFO,
"TR");this.setMode("MODE_TEXT")};m.ccRTD=function(){this.logger.log(q.INFO,"RTD");this.setMode("MODE_TEXT")};m.ccEDM=function(){this.logger.log(q.INFO,"EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate(!0)};m.ccCR=function(){this.logger.log(q.INFO,"CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate(!0)};m.ccENM=function(){this.logger.log(q.INFO,"ENM - Erase Non-displayed Memory");this.nonDisplayedMemory.reset()};m.ccEOC=function(){var f=this;this.logger.log(q.INFO,
"EOC - End Of Caption");if("MODE_POP-ON"===this.mode){var c=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.writeScreen=this.nonDisplayedMemory=c;this.logger.log(q.TEXT,function(){return"DISP: "+f.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)};m.ccTO=function(f){this.logger.log(q.INFO,"TO("+f+") - Tab Offset");this.writeScreen.moveCursor(f)};m.ccMIDROW=function(f){var c={flash:!1};c.underline=1===f%2;c.italics=46<=f;c.foreground=c.italics?"white":"white green blue cyan red yellow magenta".split(" ")[Math.floor(f/
2)-16];this.logger.log(q.INFO,"MIDROW: "+JSON.stringify(c));this.writeScreen.setPen(c)};m.outputDataUpdate=function(f){void 0===f&&(f=!1);var c=this.logger.time;null!==c&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,c,this.lastOutputScreen),f&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:c):this.cueStartTime=
c,this.lastOutputScreen.copy(this.displayedMemory))};m.cueSplitAtTime=function(f){this.outputFilter&&!this.displayedMemory.isEmpty()&&(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,f,this.displayedMemory),this.cueStartTime=f)};return u}();const r=function(){function u(f,c,e){this.channels=void 0;this.currentChannel=0;this.logger=this.cmdHistory=void 0;var t=new x;this.channels=[null,new p(f,c,t),new p(f+1,e,t)];this.cmdHistory={a:null,b:null};this.logger=t}var m=u.prototype;
m.getHandler=function(f){return this.channels[f].getHandler()};m.setHandler=function(f,c){this.channels[f].setHandler(c)};m.addData=function(f,c){var e=!1;this.logger.time=f;for(var t=0;t<c.length;t+=2){var B=c[t]&127;var y=c[t+1]&127;if(0!==B||0!==y){this.logger.log(q.DATA,"["+v([c[t],c[t+1]])+"] -\x3e ("+v([B,y])+")");(f=this.parseCmd(B,y))||(f=this.parseMidrow(B,y));f||(f=this.parsePAC(B,y));f||(f=this.parseBackgroundAttributes(B,y));if(!f&&(e=this.parseChars(B,y))){var A=this.currentChannel;A&&
0<A?this.channels[A].insertChars(e):this.logger.log(q.WARNING,"No channel found yet. TEXT-MODE?")}f||e||this.logger.log(q.WARNING,"Couldn't parse cleaned data "+v([B,y])+" orig: "+v([c[t],c[t+1]]))}}};m.parseCmd=function(f,c){var e=this.cmdHistory;if(!((20===f||28===f||21===f||29===f)&&32<=c&&47>=c||(23===f||31===f)&&33<=c&&35>=c))return!1;if(e.a===f&&e.b===c)return e.a=null,e.b=null,this.logger.log(q.DEBUG,"Repeated command ("+v([f,c])+") is dropped"),!0;var t=20===f||21===f||23===f?1:2,B=this.channels[t];
20===f||21===f||28===f||29===f?32===c?B.ccRCL():33===c?B.ccBS():34===c?B.ccAOF():35===c?B.ccAON():36===c?B.ccDER():37===c?B.ccRU(2):38===c?B.ccRU(3):39===c?B.ccRU(4):40===c?B.ccFON():41===c?B.ccRDC():42===c?B.ccTR():43===c?B.ccRTD():44===c?B.ccEDM():45===c?B.ccCR():46===c?B.ccENM():47===c&&B.ccEOC():B.ccTO(c-32);e.a=f;e.b=c;this.currentChannel=t;return!0};m.parseMidrow=function(f,c){if((17===f||25===f)&&32<=c&&47>=c){var e=17===f?1:2;if(e!==this.currentChannel)return this.logger.log(q.ERROR,"Mismatch channel in midrow parsing"),
!1;e=this.channels[e];if(!e)return!1;e.ccMIDROW(c);this.logger.log(q.DEBUG,"MIDROW ("+v([f,c])+")");return!0}return!1};m.parsePAC=function(f,c){var e=this.cmdHistory;if(!((17<=f&&23>=f||25<=f&&31>=f)&&64<=c&&127>=c||(16===f||24===f)&&64<=c&&95>=c))return!1;if(e.a===f&&e.b===c)return e.a=null,e.b=null,!0;var t=23>=f?1:2,B=this.channels[t];if(!B)return!1;B.setPAC(this.interpretPAC(64<=c&&95>=c?1===t?K[f]:z[f]:1===t?E[f]:C[f],c));e.a=f;e.b=c;this.currentChannel=t;return!0};m.interpretPAC=function(f,
c){f={color:null,italics:!1,indent:null,underline:!1,row:f};c=95<c?c-96:c-64;f.underline=1===(c&1);13>=c?f.color="white green blue cyan red yellow magenta white".split(" ")[Math.floor(c/2)]:15>=c?(f.italics=!0,f.color="white"):f.indent=4*Math.floor((c-16)/2);return f};m.parseChars=function(f,c){var e=null;if(25<=f){var t=2;var B=f-8}else t=1,B=f;17<=B&&19>=B?(e=17===B?c+80:18===B?c+112:c+144,this.logger.log(q.INFO,"Special char '"+F(e)+"' in channel "+t),e=[e]):32<=f&&127>=f&&(e=0===c?[f]:[f,c]);
e&&(t=v(e),this.logger.log(q.DEBUG,"Char codes \x3d  "+t.join(",")),t=this.cmdHistory,t.a=f,t.b=c);return e};m.parseBackgroundAttributes=function(f,c){if(!((16===f||24===f)&&32<=c&&47>=c||(23===f||31===f)&&45<=c&&47>=c))return!1;var e={};if(16===f||24===f){var t=Math.floor((c-32)/2);e.background=w[t];1===c%2&&(e.background+="_semi")}else 45===c?e.background="transparent":(e.foreground="black",47===c&&(e.underline=!0));this.channels[23>=f?1:2].setBkgData(e);t=this.cmdHistory;t.a=f;t.b=c;return!0};
m.reset=function(){for(var f=0;f<Object.keys(this.channels).length;f++){var c=this.channels[f];c&&c.reset()}this.cmdHistory={a:null,b:null}};m.cueSplitAtTime=function(f){for(var c=0;c<this.channels.length;c++){var e=this.channels[c];e&&e.cueSplitAtTime(f)}};return u}()},"./src/utils/codecs.ts":(oa,Y,G)=>{function X(K,E){E=F[E];return!!E&&!0===E[K.slice(0,4)]}function T(K,E){return MediaSource.isTypeSupported((E||"video")+'/mp4;codecs\x3d"'+K+'"')}G.r(Y);G.d(Y,{isCodecSupportedInMp4:()=>T,isCodecType:()=>
X});var F={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,
"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}}},"./src/utils/cues.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>E});var X=G("./src/utils/vttparser.ts"),T=G("./src/utils/webvtt-parser.ts"),F=G("./src/utils/texttrack-utils.ts"),K=/\s/;const E={newCue:function(z,C,w,q){for(var x=[],v,g,l,h,k=self.VTTCue||self.TextTrackCue,p=0;p<q.rows.length;p++)if(v=q.rows[p],g=!0,l=0,h="",!v.isEmpty()){for(var r=0;r<v.chars.length;r++)K.test(v.chars[r].uchar)&&g?l++:(h+=v.chars[r].uchar,g=!1);v.cueStartTime=C;C===
w&&(w+=1E-4);16<=l?l--:l++;g=(0,X.fixLineBreaks)(h.trim());v=(0,T.generateCueId)(C,w,g);z&&z.cues&&z.cues.getCueById(v)||(g=new k(C,w,g),g.id=v,g.line=p+1,g.align="left",g.position=10+Math.min(80,10*Math.floor(8*l/32)),x.push(g))}z&&x.length&&(x.sort(function(u,m){return"auto"===u.line||"auto"===m.line?0:8<u.line&&8<m.line?m.line-u.line:u.line-m.line}),x.forEach(function(u){return(0,F.addCueToTrack)(z,u)}));return x}}},"./src/utils/discontinuities.ts":(oa,Y,G)=>{function X(g,l){for(var h=null,k=0,
p=g.length;k<p;k++){var r=g[k];if(r&&r.cc===l){h=r;break}}return h}function T(g,l,h){return l.details&&(h.endCC>h.startCC||g&&g.cc<h.startCC)?!0:!1}function F(g,l,h){g=g.fragments;l=l.fragments;if(l.length&&g.length)if(l=X(g,l[0].cc),!l||l&&!l.startPTS)x.logger.log("No frag in previous level to align on");else return l;else x.logger.log("No fragments to align")}function K(g,l){g&&(l=g.start+l,g.start=g.startPTS=l,g.endPTS=l+g.duration)}function E(g,l){for(var h=l.fragments,k=0,p=h.length;k<p;k++)K(h[k],
g);l.fragmentHint&&K(l.fragmentHint,g);l.alignedSliding=!0}function z(g,l,h){l&&(T(g,l,h)&&(g=F(l.details,h))&&(0,q.isFiniteNumber)(g.start)&&(x.logger.log("Adjusting PTS using last level due to CC increase within current level "+h.url),E(g.start,h)),!h.alignedSliding&&l.details&&C(h,l.details),h.alignedSliding||!l.details||h.skippedSegments||(0,v.adjustSliding)(l.details,h))}function C(g,l){if(l.fragments.length&&g.hasProgramDateTime&&l.hasProgramDateTime){var h=l.fragments[0].programDateTime,k=
g.fragments[0].programDateTime;(l=(k-h)/1E3+l.fragments[0].start)&&(0,q.isFiniteNumber)(l)&&(x.logger.log("Adjusting PTS using programDateTime delta "+(k-h)+"ms, sliding:"+l.toFixed(3)+" "+g.url+" "),E(l,g))}}function w(g,l){if(g.hasProgramDateTime&&l.hasProgramDateTime){var h=g.fragments;l=l.fragments;if(h.length&&l.length){l=l[Math.round(l.length/2)-1];h=X(h,l.cc)||h[Math.round(h.length/2)-1];var k=l.programDateTime,p=h.programDateTime;null!==k&&null!==p&&E((p-k)/1E3-(h.start-l.start),g)}}}G.r(Y);
G.d(Y,{adjustSlidingStart:()=>E,alignMediaPlaylistByPDT:()=>w,alignPDT:()=>C,alignStream:()=>z,findDiscontinuousReferenceFrag:()=>F,findFirstFragWithCC:()=>X,shouldAlignOnDiscontinuities:()=>T});var q=G("./src/polyfills/number.ts"),x=G("./src/utils/logger.ts"),v=G("./src/controller/level-helper.ts")},"./src/utils/ewma-bandwidth-estimator.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>T});var X=G("./src/utils/ewma.ts");const T=function(){function F(E,z,C){this.fast_=this.slow_=void 0;this.defaultEstimate_=
C;this.minWeight_=.001;this.minDelayMs_=50;this.slow_=new X["default"](E);this.fast_=new X["default"](z)}var K=F.prototype;K.update=function(E,z){var C=this.slow_,w=this.fast_;this.slow_.halfLife!==E&&(this.slow_=new X["default"](E,C.getEstimate(),C.getTotalWeight()));this.fast_.halfLife!==z&&(this.fast_=new X["default"](z,w.getEstimate(),w.getTotalWeight()))};K.sample=function(E,z){E=Math.max(E,this.minDelayMs_);E/=1E3;z=8*z/E;this.fast_.sample(E,z);this.slow_.sample(E,z)};K.canEstimate=function(){var E=
this.fast_;return E&&E.getTotalWeight()>=this.minWeight_};K.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_};K.destroy=function(){};return F}()},"./src/utils/ewma.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});const X=function(){function T(K,E,z){void 0===E&&(E=0);void 0===z&&(z=0);this.totalWeight_=this.estimate_=this.alpha_=this.halfLife=void 0;this.alpha_=(this.halfLife=K)?Math.exp(Math.log(.5)/K):0;this.estimate_=
E;this.totalWeight_=z}var F=T.prototype;F.sample=function(K,E){var z=Math.pow(this.alpha_,K);this.estimate_=E*(1-z)+z*this.estimate_;this.totalWeight_+=K};F.getTotalWeight=function(){return this.totalWeight_};F.getEstimate=function(){if(this.alpha_){var K=1-Math.pow(this.alpha_,this.totalWeight_);if(K)return this.estimate_/K}return this.estimate_};return T}()},"./src/utils/fetch-loader.ts":(oa,Y,G)=>{function X(p,r){p.prototype=Object.create(r.prototype);p.prototype.constructor=p;E(p,r)}function T(p){var r=
"function"===typeof Map?new Map:void 0;T=function(u){function m(){return F(u,arguments,z(this).constructor)}if(null===u||-1===Function.toString.call(u).indexOf("[native code]"))return u;if("function"!==typeof u)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(u))return r.get(u);r.set(u,m)}m.prototype=Object.create(u.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}});return E(m,u)};return T(p)}function F(p,r,u){F=
K()?Reflect.construct.bind():function(m,f,c){var e=[null];e.push.apply(e,f);m=new (Function.bind.apply(m,e));c&&E(m,c.prototype);return m};return F.apply(null,arguments)}function K(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function E(p,r){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,m){u.__proto__=
m;return u};return E(p,r)}function z(p){z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)};return z(p)}function C(){C=Object.assign?Object.assign.bind():function(p){for(var r=1;r<arguments.length;r++){var u=arguments[r],m;for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&(p[m]=u[m])}return p};return C.apply(this,arguments)}function w(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),
!0}catch(p){}return!1}function q(p,r){r={method:"GET",mode:"cors",credentials:"same-origin",signal:r,headers:new self.Headers(C({},p.headers))};p.rangeEnd&&r.headers.set("Range","bytes\x3d"+p.rangeStart+"-"+String(p.rangeEnd-1));return r}function x(p,r){return new self.Request(p.url,r)}G.r(Y);G.d(Y,{"default":()=>k,fetchSupported:()=>w});var v=G("./src/polyfills/number.ts"),g=G("./src/loader/load-stats.ts"),l=G("./src/demux/chunk-cache.ts");oa=function(){function p(u){this.context=this.controller=
this.response=this.request=this.requestTimeout=this.fetchSetup=void 0;this.callbacks=this.config=null;this.stats=void 0;this.loader=null;this.fetchSetup=u.fetchSetup||x;this.controller=new self.AbortController;this.stats=new g.LoadStats}var r=p.prototype;r.destroy=function(){this.loader=this.callbacks=null;this.abortInternal()};r.abortInternal=function(){var u=this.response;u&&u.ok||(this.stats.aborted=!0,this.controller.abort())};r.abort=function(){var u;this.abortInternal();if(null!==(u=this.callbacks)&&
void 0!==u&&u.onAbort)this.callbacks.onAbort(this.stats,this.context,this.response)};r.load=function(u,m,f){var c=this,e=this.stats;if(e.loading.start)throw Error("Loader can only be used once.");e.loading.start=self.performance.now();var t=q(u,this.controller.signal),B=f.onProgress,y="arraybuffer"===u.responseType,A=y?"byteLength":"length";this.context=u;this.config=m;this.callbacks=f;this.request=this.fetchSetup(u,t);self.clearTimeout(this.requestTimeout);this.requestTimeout=self.setTimeout(function(){c.abortInternal();
f.onTimeout(e,u,c.response)},m.timeout);self.fetch(this.request).then(function(H){c.response=c.loader=H;if(!H.ok)throw new h(H.statusText||"fetch, bad network response",H.status,H);e.loading.first=Math.max(self.performance.now(),e.loading.start);e.total=parseInt(H.headers.get("Content-Length")||"0");return B&&(0,v.isFiniteNumber)(m.highWaterMark)?c.loadProgressively(H,e,u,m.highWaterMark,B):y?H.arrayBuffer():H.text()}).then(function(H){var J=c.response;self.clearTimeout(c.requestTimeout);e.loading.end=
Math.max(self.performance.now(),e.loading.first);var N=H[A];N&&(e.loaded=e.total=N);N={url:J.url,data:H};B&&!(0,v.isFiniteNumber)(m.highWaterMark)&&B(e,u,H,J);f.onSuccess(N,e,u,J)}).catch(function(H){self.clearTimeout(c.requestTimeout);if(!e.aborted)f.onError({code:H?H.code||0:0,text:H?H.message:null},u,H?H.details:null)})};r.getCacheAge=function(){var u=null;this.response&&(u=(u=this.response.headers.get("age"))?parseFloat(u):null);return u};r.loadProgressively=function(u,m,f,c,e){void 0===c&&(c=
0);var t=new l["default"],B=u.body.getReader();return function A(){return B.read().then(function(H){if(H.done)return t.dataLength&&e(m,f,t.flush(),u),Promise.resolve(new ArrayBuffer(0));H=H.value;var J=H.length;m.loaded+=J;J<c||t.dataLength?(t.push(H),t.dataLength>=c&&e(m,f,t.flush(),u)):e(m,f,H,u);return A()}).catch(function(){return Promise.reject()})}()};return p}();var h=function(p){function r(u,m,f){u=p.call(this,u)||this;u.code=void 0;u.details=void 0;u.code=m;u.details=f;return u}X(r,p);return r}(T(Error));
const k=oa},"./src/utils/hex.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});const X={hexDump:function(T){for(var F="",K=0;K<T.length;K++){var E=T[K].toString(16);2>E.length&&(E="0"+E);F+=E}return F}}},"./src/utils/imsc1-ttml-parser.ts":(oa,Y,G)=>{function X(){X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var B=arguments[t],y;for(y in B)Object.prototype.hasOwnProperty.call(B,y)&&(e[y]=B[y])}return e};return X.apply(this,arguments)}function T(e,t,B,y,A){e=(0,g.findBox)(new Uint8Array(e),
["mdat"]);if(0===e.length)A(Error("Could not parse IMSC1 mdat"));else{e=e.map(function(J){return(0,k.utf8ArrayToStr)(J)});var H=(0,p.toTimescaleFromScale)(t,1,B);try{e.forEach(function(J){return y(F(J,H))})}catch(J){A(J)}}}function F(e,t){var B=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!B)throw Error("Invalid ttml");var y={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},A=Object.keys(y).reduce(function(ea,ia){ea[ia]=B.getAttribute("ttp:"+ia)||y[ia];
return ea},{}),H="preserve"!==B.getAttribute("xml:space"),J=E(K(B,"styling","style")),N=E(K(B,"layout","region"));e=K(B,"body","[begin]");return[].map.call(e,function(ea){var ia=z(ea,H);if(!ia||!ea.hasAttribute("begin"))return null;var la=x(ea.getAttribute("begin"),A),S=x(ea.getAttribute("dur"),A),aa=x(ea.getAttribute("end"),A);if(null===la)throw q(ea);if(null===aa){if(null===S)throw q(ea);aa=la+S}ia=new h["default"](la-t,aa-t,ia);ia.id=(0,r.generateCueId)(ia.startTime,ia.endTime,ia.text);la=N[ea.getAttribute("region")];
ea=J[ea.getAttribute("style")];ea=C(la,ea,J);if(la=ea.textAlign){if(S=c[la])ia.lineAlign=S;ia.align=la}X(ia,ea);return ia}).filter(function(ea){return null!==ea})}function K(e,t,B){return(e=e.getElementsByTagName(t)[0])?[].slice.call(e.querySelectorAll(B)):[]}function E(e){return e.reduce(function(t,B){var y=B.getAttribute("xml:id");y&&(t[y]=B);return t},{})}function z(e,t){return[].slice.call(e.childNodes).reduce(function(B,y,A){var H;return"br"===y.nodeName&&A?B+"\n":null!==(H=y.childNodes)&&void 0!==
H&&H.length?z(y,t):t?B+y.textContent.trim().replace(/\s+/g," "):B+y.textContent},"")}function C(e,t,B){var y=null,A=null!==e&&void 0!==e&&e.hasAttribute("style")?e.getAttribute("style"):null;A&&B.hasOwnProperty(A)&&(y=B[A]);return"displayAlign textAlign color backgroundColor fontSize fontFamily".split(" ").reduce(function(H,J){var N=w(t,"http://www.w3.org/ns/ttml#styling",J)||w(e,"http://www.w3.org/ns/ttml#styling",J)||w(y,"http://www.w3.org/ns/ttml#styling",J);N&&(H[J]=N);return H},{})}function w(e,
t,B){return e?e.hasAttributeNS(t,B)?e.getAttributeNS(t,B):null:null}function q(e){return Error("Could not parse ttml timestamp "+e)}function x(e,t){if(!e)return null;var B=(0,l.parseTimeStamp)(e);null===B&&(m.test(e)?(e=m.exec(e),B=3600*(e[1]|0)+60*(e[2]|0)+(e[3]|0)+((e[4]|0)+(e[5]|0)/t.subFrameRate)/t.frameRate):f.test(e)&&(B=v(e,t)));return B}function v(e,t){e=f.exec(e);var B=Number(e[1]);switch(e[2]){case "h":return 3600*B;case "m":return 60*B;case "ms":return 1E3*B;case "f":return B/t.frameRate;
case "t":return B/t.tickRate}return B}G.r(Y);G.d(Y,{IMSC1_CODEC:()=>u,parseIMSC1:()=>T});var g=G("./src/utils/mp4-tools.ts"),l=G("./src/utils/vttparser.ts"),h=G("./src/utils/vttcue.ts"),k=G("./src/demux/id3.ts"),p=G("./src/utils/timescale-conversion.ts"),r=G("./src/utils/webvtt-parser.ts"),u="stpp.ttml.im1t",m=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,c={left:"start",center:"center",right:"end",start:"start",end:"end"}},"./src/utils/keysystem-util.ts":(oa,Y,
G)=>{function X(E){var z=function(C,w,q){var x=C[w];C[w]=C[q];C[q]=x};z(E,0,3);z(E,1,2);z(E,4,5);z(E,6,7)}function T(E){var z=E.split(":");E=null;if("data"===z[0]&&2===z.length){z=z[1].split(";");var C=z[z.length-1].split(",");2===C.length&&(E=C[1],"base64"===C[0]?(z.splice(-1,1),E=(0,K.base64Decode)(E)):(E=F(E).subarray(0,16),z=new Uint8Array(16),z.set(E,16-E.length),E=z))}return E}function F(E){return Uint8Array.from(unescape(encodeURIComponent(E)),function(z){return z.charCodeAt(0)})}G.r(Y);G.d(Y,
{changeEndianness:()=>X,convertDataUriToArrayBytes:()=>T,strToUtf8array:()=>F});var K=G("./src/utils/numeric-encoding-utils.ts")},"./src/utils/logger.ts":(oa,Y,G)=>{function X(C){for(var w=arguments.length,q=Array(1<w?w-1:0),x=1;x<w;x++)q[x-1]=arguments[x];q.forEach(function(v){var g=E;var l=C[v]?C[v].bind(C):(l=self.console[v])?l.bind(self.console,"["+v+"] \x3e"):F;g[v]=l})}function T(C,w){if(self.console&&!0===C||"object"===typeof C){X(C,"debug","log","info","warn","error");try{E.log('Debug logs enabled for "'+
w+'"')}catch(q){E=K}}else E=K}G.r(Y);G.d(Y,{enableLogs:()=>T,logger:()=>z});var F=function(){},K={trace:F,debug:F,log:F,warn:F,info:F,error:F},E=K,z=E},"./src/utils/mediakeys-helper.ts":(oa,Y,G)=>{function X(v){switch(v){case w.FAIRPLAY:return C.FAIRPLAY;case w.PLAYREADY:return C.PLAYREADY;case w.WIDEVINE:return C.WIDEVINE;case w.CLEARKEY:return C.CLEARKEY}}function T(v){if(v===q.WIDEVINE)return C.WIDEVINE}function F(v){switch(v){case C.FAIRPLAY:return w.FAIRPLAY;case C.PLAYREADY:return w.PLAYREADY;
case C.WIDEVINE:return w.WIDEVINE;case C.CLEARKEY:return w.CLEARKEY}}function K(v){var g=v.drmSystems;v=v.widevineLicenseUrl;var l=g?[C.FAIRPLAY,C.WIDEVINE,C.PLAYREADY,C.CLEARKEY].filter(function(h){return!!g[h]}):[];!l[C.WIDEVINE]&&v&&l.push(C.WIDEVINE);return l}function E(v,g,l,h){switch(v){case C.FAIRPLAY:v=["cenc","sinf"];break;case C.WIDEVINE:case C.PLAYREADY:v=["cenc"];break;case C.CLEARKEY:v=["cenc","keyids"];break;default:throw Error("Unknown key-system: "+v);}return z(v,g,l,h)}function z(v,
g,l,h){return[{initDataTypes:v,persistentState:h.persistentState||"not-allowed",distinctiveIdentifier:h.distinctiveIdentifier||"not-allowed",sessionTypes:h.sessionTypes||[h.sessionType||"temporary"],audioCapabilities:g.map(function(k){return{contentType:'audio/mp4; codecs\x3d"'+k+'"',robustness:h.audioRobustness||"",encryptionScheme:h.audioEncryptionScheme||null}}),videoCapabilities:l.map(function(k){return{contentType:'video/mp4; codecs\x3d"'+k+'"',robustness:h.videoRobustness||"",encryptionScheme:h.videoEncryptionScheme||
null}})}]}G.r(Y);G.d(Y,{KeySystemFormats:()=>w,KeySystemIds:()=>q,KeySystems:()=>C,getKeySystemsForConfig:()=>K,getSupportedMediaKeySystemConfigurations:()=>E,keySystemDomainToKeySystemFormat:()=>F,keySystemFormatToKeySystemDomain:()=>X,keySystemIdToKeySystemDomain:()=>T,requestMediaKeySystemAccess:()=>x});var C;(function(v){v.CLEARKEY="org.w3.clearkey";v.FAIRPLAY="com.apple.fps";v.PLAYREADY="com.microsoft.playready";v.WIDEVINE="com.widevine.alpha"})(C||(C={}));var w;(function(v){v.CLEARKEY="org.w3.clearkey";
v.FAIRPLAY="com.apple.streamingkeydelivery";v.PLAYREADY="com.microsoft.playready";v.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"})(w||(w={}));var q;(q||(q={})).WIDEVINE="edef8ba979d64acea3c827dcd51d21ed";var x="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":(oa,Y,G)=>{function X(){return self.MediaSource||self.WebKitMediaSource}G.r(Y);G.d(Y,{getMediaSource:()=>
X})},"./src/utils/mp4-tools.ts":(oa,Y,G)=>{function X(S){return String.fromCharCode.apply(null,S)}function T(S,aa){S=S[aa]<<8|S[aa+1];return 0>S?65536+S:S}function F(S,aa){S=K(S,aa);return 0>S?4294967296+S:S}function K(S,aa){return S[aa]<<24|S[aa+1]<<16|S[aa+2]<<8|S[aa+3]}function E(S,aa,da){S[aa]=da>>24;S[aa+1]=da>>16&255;S[aa+2]=da>>8&255;S[aa+3]=da&255}function z(S,aa){var da=[];if(!aa.length)return da;for(var ma=S.byteLength,na=0;na<ma;){var Ba=F(S,na),Na=X(S.subarray(na+4,na+8));Ba=1<Ba?na+Ba:
ma;Na===aa[0]&&(1===aa.length?da.push(S.subarray(na+8,Ba)):(na=z(S.subarray(na+8,Ba),aa.slice(1)),na.length&&ia.apply(da,na)));na=Ba}return da}function C(S){var aa=[],da=S[0],ma=8,na=F(S,ma);ma+=4;ma=(0===da?ma+8:ma+16)+2;var Ba=S.length+0,Na=T(S,ma);ma+=2;for(var ra=0;ra<Na;ra++){var Pa=F(S,ma);ma+=4;var Ja=Pa&2147483647;if(1===(Pa&2147483648)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;Pa=F(S,ma);ma+=4;aa.push({referenceSize:Ja,subsegmentDuration:Pa,info:{duration:Pa/
na,start:Ba,end:Ba+Ja-1}});Ba+=Ja;ma+=4}return{earliestPresentationTime:0,timescale:na,version:da,referencesCount:Na,references:aa}}function w(S){for(var aa=[],da=z(S,["moov","trak"]),ma=0;ma<da.length;ma++){var na=da[ma],Ba=z(na,["tkhd"])[0];if(Ba){var Na=Ba[0];Na=0===Na?12:20;Ba=F(Ba,Na);var ra=z(na,["mdia","mdhd"])[0];if(ra&&(Na=ra[0],Na=0===Na?12:20,Na=F(ra,Na),ra=z(na,["mdia","hdlr"])[0])&&(ra=X(ra.subarray(8,12)),ra={soun:y.ElementaryStreamTypes.AUDIO,vide:y.ElementaryStreamTypes.VIDEO}[ra])){na=
z(na,["mdia","minf","stbl","stsd"])[0];var Pa=void 0;na&&(Pa=X(na.subarray(12,16)));aa[Ba]={timescale:Na,type:ra};aa[ra]={timescale:Na,id:Ba,codec:Pa}}}}z(S,["moov","mvex","trex"]).forEach(function(Ja){var xb=F(Ja,4);if(xb=aa[xb])xb.default={duration:F(Ja,12),flags:F(Ja,20)}});return aa}function q(S,aa){if(!S||!aa)return S;var da=aa.keyId;da&&aa.isCommonEncryption&&z(S,["moov","trak"]).forEach(function(ma){ma=z(ma,["mdia","minf","stbl","stsd"])[0].subarray(8);var na=z(ma,["enca"]),Ba=0<na.length;
Ba||(na=z(ma,["encv"]));na.forEach(function(Na){Na=Ba?Na.subarray(28):Na.subarray(78);z(Na,["sinf"]).forEach(function(ra){if(ra=x(ra)){var Pa=ra.subarray(8,24);Pa.some(function(Ja){return 0!==Ja})||(J.logger.log("[eme] Patching keyId in 'enc"+(Ba?"a":"v")+"\x3esinf\x3e\x3etenc' box: "+N["default"].hexDump(Pa)+" -\x3e "+N["default"].hexDump(da)),ra.set(da,8))}})})});return S}function x(S){var aa=z(S,["schm"])[0];if(aa&&(aa=X(aa.subarray(4,8)),"cbcs"===aa||"cenc"===aa))return z(S,["schi","tenc"])[0];
J.logger.error("[eme] missing 'schm' box");return null}function v(S,aa){return z(aa,["moof","traf"]).reduce(function(da,ma){var na=z(ma,["tfdt"])[0],Ba=na[0];ma=z(ma,["tfhd"]).reduce(function(Na,ra){ra=F(ra,4);if(ra=S[ra]){var Pa=F(na,4);1===Ba&&(Pa*=Math.pow(2,32),Pa+=F(na,8));ra=Pa/(ra.timescale||9E4);if(isFinite(ra)&&(null===Na||ra<Na))return ra}return Na},null);return null!==ma&&isFinite(ma)&&(null===da||ma<da)?ma:da},null)||0}function g(S,aa){for(var da=0,ma=0,na=0,Ba=z(S,["moof","traf"]),Na=
0;Na<Ba.length;Na++){var ra=Ba[Na],Pa=z(ra,["tfhd"])[0],Ja=F(Pa,4);if(Ja=aa[Ja]){var xb=Ja.default,Ab=F(Pa,0)|(null===xb||void 0===xb?NaN:xb.flags);xb=null===xb||void 0===xb?void 0:xb.duration;Ab&8&&(xb=Ab&2?F(Pa,12):F(Pa,8));Pa=Ja.timescale||9E4;ra=z(ra,["trun"]);for(Ab=0;Ab<ra.length;Ab++)da=l(ra[Ab]),!da&&xb&&(da=F(ra[Ab],4),da*=xb),Ja.type===y.ElementaryStreamTypes.VIDEO?ma+=da/Pa:Ja.type===y.ElementaryStreamTypes.AUDIO&&(na+=da/Pa)}}if(0===ma&&0===na){aa=0;S=z(S,["sidx"]);for(ma=0;ma<S.length;ma++)na=
C(S[ma]),null!==na&&void 0!==na&&na.references&&(aa+=na.references.reduce(function(gc,cc){return gc+cc.info.duration||0},0));return aa}return ma?ma:na}function l(S){var aa=F(S,0),da=8;aa&1&&(da+=4);aa&4&&(da+=4);for(var ma=0,na=F(S,4),Ba=0;Ba<na;Ba++){if(aa&256){var Na=F(S,da);ma+=Na;da+=4}aa&512&&(da+=4);aa&1024&&(da+=4);aa&2048&&(da+=4)}return ma}function h(S,aa,da){z(aa,["moof","traf"]).forEach(function(ma){z(ma,["tfhd"]).forEach(function(na){na=F(na,4);if(na=S[na]){var Ba=na.timescale||9E4;z(ma,
["tfdt"]).forEach(function(Na){var ra=Na[0],Pa=F(Na,4);0===ra?(Pa-=da*Ba,Pa=Math.max(Pa,0),E(Na,4,Pa)):(Pa*=Math.pow(2,32),Pa+=F(Na,8),Pa-=da*Ba,Pa=Math.max(Pa,0),ra=Math.floor(Pa%(ea+1)),E(Na,4,Math.floor(Pa/(ea+1))),E(Na,8,ra))})}})})}function k(S){var aa={valid:null,remainder:null},da=z(S,["moof"]);if(!da)return aa;if(2>da.length)return aa.remainder=S,aa;da=da[da.length-1];aa.valid=(0,A.sliceUint8)(S,0,da.byteOffset-8);aa.remainder=(0,A.sliceUint8)(S,da.byteOffset-8);return aa}function p(S,aa){var da=
new Uint8Array(S.length+aa.length);da.set(S);da.set(aa,S.length);return da}function r(S,aa){var da=[],ma=aa.samples,na=aa.timescale,Ba=aa.id,Na=!1;z(ma,["moof"]).map(function(ra){var Pa=ra.byteOffset-8;z(ra,["traf"]).map(function(Ja){var xb=z(Ja,["tfdt"]).map(function(Ab){var gc=Ab[0],cc=F(Ab,4);1===gc&&(cc*=Math.pow(2,32),cc+=F(Ab,8));return cc/na})[0];void 0!==xb&&(S=xb);return z(Ja,["tfhd"]).map(function(Ab){var gc=F(Ab,4),cc=F(Ab,0)&16777215,qc=0,ac=0!==(cc&16),Sb=0,Dd=0!==(cc&32),Xc=8;gc===Ba&&
(0!==(cc&1)&&(Xc+=8),0!==(cc&2)&&(Xc+=4),0!==(cc&8)&&(qc=F(Ab,Xc),Xc+=4),ac&&(Sb=F(Ab,Xc),Xc+=4),Dd&&(Xc+=4),"video"===aa.type&&(Na=u(aa.codec)),z(Ja,["trun"]).map(function(Nc){var Od=Nc[0],od=F(Nc,0)&16777215,uc=0!==(od&1),hc=0,Pb=0!==(od&4),Pd=0!==(od&256),pd=0!==(od&512),Ed=0!==(od&1024);od=0!==(od&2048);var Qd=0,Rd=F(Nc,4),vc=8;uc&&(hc=F(Nc,vc),vc+=4);Pb&&(vc+=4);Pb=hc+Pa;for(var nc=0;nc<Rd;nc++){Pd?(uc=F(Nc,vc),vc+=4):uc=qc;pd?(hc=F(Nc,vc),vc+=4):hc=Sb;Ed&&(vc+=4);od&&(Qd=0===Od?F(Nc,vc):K(Nc,
vc),vc+=4);if(aa.type===y.ElementaryStreamTypes.VIDEO)for(var zb=0;zb<hc;){var Fd=F(ma,Pb);Pb+=4;var xc=ma[Pb];Na?(xc=xc>>1&63,xc=39===xc||40===xc):xc=6===(xc&31);xc&&(xc=ma.subarray(Pb,Pb+Fd),m(xc,Na?2:1,S+Qd/na,da));Pb+=Fd;zb+=Fd+4}S+=uc/na}}))})})});return da}function u(S){if(!S)return!1;var aa=S.indexOf(".");S=0>aa?S:S.substring(0,aa);return"hvc1"===S||"hev1"===S||"dvh1"===S||"dvhe"===S}function m(S,aa,da,ma){S=f(S);aa=0+aa;for(var na,Ba,Na=!1,ra;aa<S.length;){na=0;do{if(aa>=S.length)break;ra=
S[aa++];na+=ra}while(255===ra);Ba=0;do{if(aa>=S.length)break;ra=S[aa++];Ba+=ra}while(255===ra);ra=S.length-aa;if(!Na&&4===na&&aa<S.length){if(Na=!0,181===S[aa++]&&(ra=T(S,aa),aa+=2,49===ra&&(ra=F(S,aa),aa+=4,1195456820===ra&&(ra=S[aa++],3===ra)))){Ba=S[aa++];var Pa=31&Ba,Ja=64&Ba;Pa=Ja?2+3*Pa:0;var xb=new Uint8Array(Pa);if(Ja)for(xb[0]=Ba,Ba=1;Ba<Pa;Ba++)xb[Ba]=S[aa++];ma.push({type:ra,payloadType:na,pts:da,bytes:xb})}}else if(5===na&&Ba<ra){if(Na=!0,16<Ba){ra=[];for(Ja=0;16>Ja;Ja++)Pa=S[aa++].toString(16),
ra.push(1==Pa.length?"0"+Pa:Pa),3!==Ja&&5!==Ja&&7!==Ja&&9!==Ja||ra.push("-");Ba-=16;Ja=new Uint8Array(Ba);for(Pa=0;Pa<Ba;Pa++)Ja[Pa]=S[aa++];ma.push({payloadType:na,pts:da,uuid:ra.join(""),userData:(0,H.utf8ArrayToStr)(Ja),userDataBytes:Ja})}}else if(Ba<ra)aa+=Ba;else if(Ba>ra)break}}function f(S){for(var aa=S.byteLength,da=[],ma=1;ma<aa-2;)0===S[ma]&&0===S[ma+1]&&3===S[ma+2]?(da.push(ma+2),ma+=2):ma++;if(0===da.length)return S;aa-=da.length;var na=new Uint8Array(aa),Ba=0;for(ma=0;ma<aa;Ba++,ma++)Ba===
da[0]&&(Ba++,da.shift()),na[ma]=S[Ba];return na}function c(S){var aa=S[0],da="",ma="",na=0,Ba=0,Na=0,ra=0,Pa=0,Ja=0;if(0===aa){for(;"\x00"!==X(S.subarray(Ja,Ja+1));)da+=X(S.subarray(Ja,Ja+1)),Ja+=1;da+=X(S.subarray(Ja,Ja+1));for(Ja+=1;"\x00"!==X(S.subarray(Ja,Ja+1));)ma+=X(S.subarray(Ja,Ja+1)),Ja+=1;ma+=X(S.subarray(Ja,Ja+1));na=F(S,12);Ba=F(S,16);ra=F(S,20);Pa=F(S,24);Ja=28}else if(1===aa){Ja+=4;na=F(S,Ja);Ja+=4;Na=F(S,Ja);Ja+=4;ra=F(S,Ja);Ja+=4;Na=Math.pow(2,32)*Na+ra;Number.isSafeInteger(Na)||
(Na=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box"));ra=F(S,Ja);Ja+=4;Pa=F(S,Ja);for(Ja+=4;"\x00"!==X(S.subarray(Ja,Ja+1));)da+=X(S.subarray(Ja,Ja+1)),Ja+=1;da+=X(S.subarray(Ja,Ja+1));for(Ja+=1;"\x00"!==X(S.subarray(Ja,Ja+1));)ma+=X(S.subarray(Ja,Ja+1)),Ja+=1;ma+=X(S.subarray(Ja,Ja+1));Ja+=1}S=S.subarray(Ja,S.byteLength);return{schemeIdUri:da,value:ma,timeScale:na,presentationTime:Na,presentationTimeDelta:Ba,
eventDuration:ra,id:Pa,payload:S}}function e(S){for(var aa=arguments.length,da=Array(1<aa?aa-1:0),ma=1;ma<aa;ma++)da[ma-1]=arguments[ma];aa=da.length;ma=8;for(var na=aa;na--;)ma+=da[na].byteLength;var Ba=new Uint8Array(ma);Ba[0]=ma>>24&255;Ba[1]=ma>>16&255;Ba[2]=ma>>8&255;Ba[3]=ma&255;Ba.set(S,4);na=0;for(ma=8;na<aa;na++)Ba.set(da[na],ma),ma+=da[na].byteLength;return Ba}function t(S,aa,da){if(16!==S.byteLength)throw new RangeError("Invalid system id");if(aa){var ma=1;var na=new Uint8Array(16*aa.length);
for(var Ba=0;Ba<aa.length;Ba++){var Na=aa[Ba];if(16!==Na.byteLength)throw new RangeError("Invalid key");na.set(Na,16*Ba)}}else ma=0,na=new Uint8Array;0<ma?(Ba=new Uint8Array(4),0<aa.length&&(new DataView(Ba.buffer)).setUint32(0,aa.length,!1)):Ba=new Uint8Array;aa=new Uint8Array(4);da&&0<da.byteLength&&(new DataView(aa.buffer)).setUint32(0,da.byteLength,!1);return e([112,115,115,104],new Uint8Array([ma,0,0,0]),S,Ba,na,aa,da||new Uint8Array)}function B(S){if(!(S instanceof ArrayBuffer)||32>S.byteLength)return null;
var aa={version:0,systemId:"",kids:null,data:null},da=new DataView(S),ma=da.getUint32(0);if(S.byteLength!==ma&&44<ma||1886614376!==da.getUint32(4))return null;aa.version=da.getUint32(8)>>>24;if(1<aa.version)return null;aa.systemId=N["default"].hexDump(new Uint8Array(S,12,16));da=da.getUint32(28);if(0===aa.version){if(ma-32<da)return null;aa.data=new Uint8Array(S,32,da)}else if(1===aa.version)for(aa.kids=[],ma=0;ma<da;ma++)aa.kids.push(new Uint8Array(S,32+16*ma,16));return aa}G.r(Y);G.d(Y,{RemuxerTrackIdConfig:()=>
la,appendUint8Array:()=>p,bin2str:()=>X,computeRawDurationFromSamples:()=>l,discardEPB:()=>f,findBox:()=>z,getDuration:()=>g,getStartDTS:()=>v,mp4Box:()=>e,mp4pssh:()=>t,offsetStartDTS:()=>h,parseEmsg:()=>c,parseInitSegment:()=>w,parsePssh:()=>B,parseSEIMessageFromNALu:()=>m,parseSamples:()=>r,parseSegmentIndex:()=>C,parseSinf:()=>x,patchEncyptionData:()=>q,readSint32:()=>K,readUint16:()=>T,readUint32:()=>F,segmentValidRange:()=>k,writeUint32:()=>E});var y=G("./src/loader/fragment.ts"),A=G("./src/utils/typed-array.ts"),
H=G("./src/demux/id3.ts"),J=G("./src/utils/logger.ts"),N=G("./src/utils/hex.ts"),ea=Math.pow(2,32)-1,ia=[].push,la={video:1,audio:2,id3:3,text:4}},"./src/utils/numeric-encoding-utils.ts":(oa,Y,G)=>{function X(C){return C.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function T(C){return btoa(C)}function F(C){return atob(C)}function K(C){return btoa(String.fromCharCode.apply(String,C))}function E(C){return X(K(C))}function z(C){return Uint8Array.from(atob(C),function(w){return w.charCodeAt(0)})}
G.r(Y);G.d(Y,{base64Decode:()=>z,base64DecodeToStr:()=>F,base64Encode:()=>K,base64ToBase64Url:()=>X,base64UrlEncode:()=>E,strToBase64Encode:()=>T})},"./src/utils/output-filter.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});var X=function(){function T(K,E){this.timelineController=void 0;this.cueRanges=[];this.trackName=void 0;this.screen=this.endTime=this.startTime=null;this.timelineController=K;this.trackName=E}var F=T.prototype;F.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,
this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)};F.newCue=function(K,E,z){if(null===this.startTime||this.startTime>K)this.startTime=K;this.endTime=E;this.screen=z;this.timelineController.createCaptionsTrack(this.trackName)};F.reset=function(){this.cueRanges=[];this.startTime=null};return T}()},"./src/utils/texttrack-utils.ts":(oa,Y,G)=>{function X(w,q){try{var x=new Event("addtrack")}catch(v){x=document.createEvent("Event"),x.initEvent("addtrack",!1,!1)}x.track=w;q.dispatchEvent(x)}
function T(w,q){var x=w.mode;"disabled"===x&&(w.mode="hidden");if(w.cues&&!w.cues.getCueById(q.id))try{if(w.addCue(q),!w.cues.getCueById(q.id))throw Error("addCue is failed for: "+q);}catch(g){C.logger.debug("[texttrack-utils]: "+g);var v=new self.TextTrackCue(q.startTime,q.endTime,q.text);v.id=q.id;w.addCue(v)}"disabled"===x&&(w.mode=x)}function F(w){var q=w.mode;"disabled"===q&&(w.mode="hidden");if(w.cues)for(var x=w.cues.length;x--;)w.removeCue(w.cues[x]);"disabled"===q&&(w.mode=q)}function K(w,
q,x,v){var g=w.mode;"disabled"===g&&(w.mode="hidden");if(w.cues&&0<w.cues.length)for(q=z(w.cues,q,x),x=0;x<q.length;x++)v&&!v(q[x])||w.removeCue(q[x]);"disabled"===g&&(w.mode=g)}function E(w,q){if(q<w[0].startTime)return 0;var x=w.length-1;if(q>w[x].endTime)return-1;for(var v=0,g=x;v<=g;){var l=Math.floor((g+v)/2);if(q<w[l].startTime)g=l-1;else if(q>w[l].startTime&&v<x)v=l+1;else return l}return w[v].startTime-q<q-w[g].startTime?v:g}function z(w,q,x){var v=[],g=E(w,q);if(-1<g)for(var l=w.length;g<
l;g++){var h=w[g];if(h.startTime>=q&&h.endTime<=x)v.push(h);else if(h.startTime>x)break}return v}G.r(Y);G.d(Y,{addCueToTrack:()=>T,clearCurrentCues:()=>F,getCuesInRange:()=>z,removeCuesInRange:()=>K,sendAddTrackEvent:()=>X});var C=G("./src/utils/logger.ts")},"./src/utils/time-ranges.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});const X={toString:function(T){for(var F="",K=T.length,E=0;E<K;E++)F+="["+T.start(E).toFixed(3)+"-"+T.end(E).toFixed(3)+"]";return F}}},"./src/utils/timescale-conversion.ts":(oa,
Y,G)=>{function X(z,C,w,q){void 0===w&&(w=1);void 0===q&&(q=!1);z=z*C*w;return q?Math.round(z):z}function T(z,C,w,q){void 0===w&&(w=1);void 0===q&&(q=!1);return X(z,C,1/w,q)}function F(z,C){void 0===C&&(C=!1);return X(z,1E3,1/E,C)}function K(z,C){void 0===C&&(C=1);return X(z,E,1/C)}G.r(Y);G.d(Y,{toMpegTsClockFromTimescale:()=>K,toMsFromMpegTsClock:()=>F,toTimescaleFromBase:()=>X,toTimescaleFromScale:()=>T});var E=9E4},"./src/utils/typed-array.ts":(oa,Y,G)=>{function X(T,F,K){return Uint8Array.prototype.slice?
T.slice(F,K):new Uint8Array(Array.prototype.slice.call(T,F,K))}G.r(Y);G.d(Y,{sliceUint8:()=>X})},"./src/utils/vttcue.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>X});const X=function(){function T(C,w){if("string"!==typeof w||!Array.isArray(C))return!1;w=w.toLowerCase();return~C.indexOf(w)?w:!1}function F(C){for(var w=arguments.length,q=Array(1<w?w-1:0),x=1;x<w;x++)q[x-1]=arguments[x];for(w=1;w<arguments.length;w++){q=arguments[w];for(var v in q)C[v]=q[v]}return C}function K(C,w,q){var x={enumerable:!0};
this.hasBeenReset=!1;var v="",g=!1,l=C,h=w,k=q,p=null,r="",u=!0,m="auto",f="start",c=50,e="middle",t=50,B="middle";Object.defineProperty(this,"id",F({},x,{get:function(){return v},set:function(y){v=""+y}}));Object.defineProperty(this,"pauseOnExit",F({},x,{get:function(){return g},set:function(y){g=!!y}}));Object.defineProperty(this,"startTime",F({},x,{get:function(){return l},set:function(y){if("number"!==typeof y)throw new TypeError("Start time must be set to a number.");l=y;this.hasBeenReset=!0}}));
Object.defineProperty(this,"endTime",F({},x,{get:function(){return h},set:function(y){if("number"!==typeof y)throw new TypeError("End time must be set to a number.");h=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"text",F({},x,{get:function(){return k},set:function(y){k=""+y;this.hasBeenReset=!0}}));Object.defineProperty(this,"region",F({},x,{get:function(){return p},set:function(y){p=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"vertical",F({},x,{get:function(){return r},set:function(y){y=
T(E,y);if(!1===y)throw new SyntaxError("An invalid or illegal string was specified.");r=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"snapToLines",F({},x,{get:function(){return u},set:function(y){u=!!y;this.hasBeenReset=!0}}));Object.defineProperty(this,"line",F({},x,{get:function(){return m},set:function(y){if("number"!==typeof y&&"auto"!==y)throw new SyntaxError("An invalid number or illegal string was specified.");m=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"lineAlign",F({},
x,{get:function(){return f},set:function(y){y=T(z,y);if(!y)throw new SyntaxError("An invalid or illegal string was specified.");f=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"position",F({},x,{get:function(){return c},set:function(y){if(0>y||100<y)throw Error("Position must be between 0 and 100.");c=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"positionAlign",F({},x,{get:function(){return e},set:function(y){y=T(z,y);if(!y)throw new SyntaxError("An invalid or illegal string was specified.");
e=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"size",F({},x,{get:function(){return t},set:function(y){if(0>y||100<y)throw Error("Size must be between 0 and 100.");t=y;this.hasBeenReset=!0}}));Object.defineProperty(this,"align",F({},x,{get:function(){return B},set:function(y){y=T(z,y);if(!y)throw new SyntaxError("An invalid or illegal string was specified.");B=y;this.hasBeenReset=!0}}));this.displayState=void 0}if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var E=["","lr","rl"],
z=["start","middle","end","left","right"];K.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)};return K}()},"./src/utils/vttparser.ts":(oa,Y,G)=>{function X(v){return(v=v.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/))?59<parseFloat(v[2])?3600*(v[2]|0)+60*(v[3]|0)+parseFloat(v[4]||0):3600*(v[1]|0)+60*(v[2]|0)+(v[3]|0)+parseFloat(v[4]||0):null}function T(v,g,l,h){v=h?v.split(h):[v];for(var k in v)"string"===typeof v[k]&&(h=v[k].split(l),2===h.length&&g(h[0],h[1]))}
function F(v,g,l){function h(){var r=X(v);if(null===r)throw Error("Malformed timestamp: "+p);v=v.replace(/^[^\sa-zA-Z-]+/,"");return r}function k(){v=v.replace(/^\s+/,"")}var p=v;k();g.startTime=h();k();if("--\x3e"!==v.slice(0,3))throw Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+p);v=v.slice(3);k();g.endTime=h();k();(function(r,u){var m=new C;T(r,function(f,c){switch(f){case "region":for(var e=l.length-1;0<=e;e--)if(l[e].id===c){m.set(f,l[e].region);break}break;case "vertical":m.alt(f,
c,["rl","lr"]);break;case "line":c=c.split(",");m.integer(f,c[0]);m.percent(f,c[0])&&m.set("snapToLines",!1);m.alt(f,c[0],["auto"]);2===c.length&&m.alt("lineAlign",c[1],["start",q,"end"]);break;case "position":c=c.split(",");m.percent(f,c[0]);2===c.length&&m.alt("positionAlign",c[1],["start",q,"end","line-left","line-right","auto"]);break;case "size":m.percent(f,c);break;case "align":m.alt(f,c,["start",q,"end","left","right"])}},/:/,/\s/);u.region=m.get("region",null);u.vertical=m.get("vertical",
"");r=m.get("line","auto");"auto"===r&&-1===w.line&&(r=-1);u.line=r;u.lineAlign=m.get("lineAlign","start");u.snapToLines=m.get("snapToLines",!0);u.size=m.get("size",100);u.align=m.get("align",q);r=m.get("position","auto");"auto"===r&&50===w.position&&(r="start"===u.align||"left"===u.align?0:"end"===u.align||"right"===u.align?100:50);u.position=r})(v,g)}function K(v){return v.replace(/<br(?: \/)?>/gi,"\n")}G.r(Y);G.d(Y,{VTTParser:()=>x,fixLineBreaks:()=>K,parseTimeStamp:()=>X});var E=G("./src/utils/vttcue.ts"),
z=function(){function v(){}v.prototype.decode=function(g,l){if(!g)return"";if("string"!==typeof g)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(g))};return v}(),C=function(){function v(){this.values=Object.create(null)}var g=v.prototype;g.set=function(l,h){this.get(l)||""===h||(this.values[l]=h)};g.get=function(l,h,k){return k?this.has(l)?this.values[l]:h[k]:this.has(l)?this.values[l]:h};g.has=function(l){return l in this.values};g.alt=function(l,h,k){for(var p=
0;p<k.length;++p)if(h===k[p]){this.set(l,h);break}};g.integer=function(l,h){/^-?\d+$/.test(h)&&this.set(l,parseInt(h,10))};g.percent=function(l,h){return/^([\d]{1,3})(\.[\d]*)?%$/.test(h)&&(h=parseFloat(h),0<=h&&100>=h)?(this.set(l,h),!0):!1};return v}(),w=new E["default"](0,0,""),q="middle"===w.align?"middle":"center",x=function(){function v(){this.state="INITIAL";this.buffer="";this.decoder=new z;this.regionList=[];this.cue=null;this.onflush=this.onparsingerror=this.oncue=void 0}var g=v.prototype;
g.parse=function(l){function h(){var m=p.buffer,f=0;for(m=K(m);f<m.length&&"\r"!==m[f]&&"\n"!==m[f];)++f;var c=m.slice(0,f);"\r"===m[f]&&++f;"\n"===m[f]&&++f;p.buffer=m.slice(f);return c}function k(m){T(m,function(f,c){},/:/)}var p=this;l&&(p.buffer+=p.decoder.decode(l,{stream:!0}));try{l="";if("INITIAL"===p.state){if(!/\r\n|\n/.test(p.buffer))return this;l=h();var r=l.match(/^()?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw Error("Malformed WebVTT signature.");p.state="HEADER"}for(r=!1;p.buffer;){if(!/\r\n|\n/.test(p.buffer))return this;
r?r=!1:l=h();switch(p.state){case "HEADER":/:/.test(l)?k(l):l||(p.state="ID");continue;case "NOTE":l||(p.state="ID");continue;case "ID":if(/^NOTE($|[ \t])/.test(l)){p.state="NOTE";break}if(!l)continue;p.cue=new E["default"](0,0,"");p.state="CUE";if(-1===l.indexOf("--\x3e")){p.cue.id=l;continue}case "CUE":if(!p.cue){p.state="BADCUE";continue}try{F(l,p.cue,p.regionList)}catch(m){p.cue=null;p.state="BADCUE";continue}p.state="CUETEXT";continue;case "CUETEXT":var u=-1!==l.indexOf("--\x3e");if(!l||u&&(r=
!0)){if(p.oncue&&p.cue)p.oncue(p.cue);p.cue=null;p.state="ID";continue}if(null===p.cue)continue;p.cue.text&&(p.cue.text+="\n");p.cue.text+=l;continue;case "BADCUE":l||(p.state="ID")}}}catch(m){if("CUETEXT"===p.state&&p.cue&&p.oncue)p.oncue(p.cue);p.cue=null;p.state="INITIAL"===p.state?"BADWEBVTT":"BADCUE"}return this};g.flush=function(){try{if(this.cue||"HEADER"===this.state)this.buffer+="\n\n",this.parse();if("INITIAL"===this.state||"BADWEBVTT"===this.state)throw Error("Malformed WebVTT signature.");
}catch(l){if(this.onparsingerror)this.onparsingerror(l)}if(this.onflush)this.onflush();return this};return v}()},"./src/utils/webvtt-parser.ts":(oa,Y,G)=>{function X(g,l,h){return v(g.toString())+v(l.toString())+v(h)}function T(g,l,h,k,p,r,u,m){var f=new K.VTTParser;g=(0,E.utf8ArrayToStr)(new Uint8Array(g)).trim().replace(w,"\n").split("\n");var c=[],e=(0,z.toMpegTsClockFromTimescale)(l,h),t="00:00.000",B=0,y=0,A,H=!0;f.oncue=function(J){var N=k[p],ea=k.ccOffset,ia=(B-e)/9E4;if(null!==N&&void 0!==
N&&N.new)if(void 0!==y)ea=k.ccOffset=N.start;else{N=k[p];var la=k[N.prevCC];if(!la||!la.new&&N.new)k.ccOffset=k.presentationOffset=N.start,N.new=!1;else{for(;null!==(S=la)&&void 0!==S&&S.new;){var S;k.ccOffset+=N.start-la.start;N.new=!1;N=la;la=k[N.prevCC]}k.presentationOffset=ia}}ia&&(ea=ia-k.presentationOffset);ia=J.endTime-J.startTime;ea=(0,C.normalizePts)(9E4*(J.startTime+ea-y),9E4*r)/9E4;J.startTime=Math.max(ea,0);J.endTime=Math.max(ea+ia,0);ea=J.text.trim();J.text=decodeURIComponent(encodeURIComponent(ea));
J.id||(J.id=X(J.startTime,J.endTime,ea));0<J.endTime&&c.push(J)};f.onparsingerror=function(J){A=J};f.onflush=function(){A?m(A):u(c)};g.forEach(function(J){if(H){if(q(J,"X-TIMESTAMP-MAP\x3d")){H=!1;J.slice(16).split(",").forEach(function(N){q(N,"LOCAL:")?t=N.slice(6):q(N,"MPEGTS:")&&(B=parseInt(N.slice(7)))});try{y=x(t)/1E3}catch(N){A=N}return}""===J&&(H=!1)}f.parse(J+"\n")});f.flush()}G.r(Y);G.d(Y,{generateCueId:()=>X,parseWebVTT:()=>T});var F=G("./src/polyfills/number.ts"),K=G("./src/utils/vttparser.ts"),
E=G("./src/demux/id3.ts"),z=G("./src/utils/timescale-conversion.ts"),C=G("./src/remux/mp4-remuxer.ts"),w=/\r\n|\n\r|\n|\r/g,q=function(g,l,h){void 0===h&&(h=0);return g.slice(h,h+l.length)===l},x=function(g){var l=parseInt(g.slice(-3)),h=parseInt(g.slice(-6,-4)),k=parseInt(g.slice(-9,-7)),p=9<g.length?parseInt(g.substring(0,g.indexOf(":"))):0;if(!((0,F.isFiniteNumber)(l)&&(0,F.isFiniteNumber)(h)&&(0,F.isFiniteNumber)(k)&&(0,F.isFiniteNumber)(p)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+g);
return l=l+1E3*h+6E4*k+36E5*p},v=function(g){for(var l=5381,h=g.length;h;)l=33*l^g.charCodeAt(--h);return(l>>>0).toString()}},"./src/utils/xhr-loader.ts":(oa,Y,G)=>{G.r(Y);G.d(Y,{"default":()=>K});var X=G("./src/utils/logger.ts"),T=G("./src/loader/load-stats.ts"),F=/^age:\s*[\d.]+\s*$/m;const K=function(){function E(C){this.retryDelay=this.retryTimeout=this.requestTimeout=this.xhrSetup=void 0;this.callbacks=this.config=null;this.context=void 0;this.loader=null;this.stats=void 0;this.xhrSetup=C?C.xhrSetup:
null;this.stats=new T.LoadStats;this.retryDelay=0}var z=E.prototype;z.destroy=function(){this.callbacks=null;this.abortInternal();this.config=this.loader=null};z.abortInternal=function(){var C=this.loader;self.clearTimeout(this.requestTimeout);self.clearTimeout(this.retryTimeout);C&&(C.onreadystatechange=null,C.onprogress=null,4!==C.readyState&&(this.stats.aborted=!0,C.abort()))};z.abort=function(){var C;this.abortInternal();if(null!==(C=this.callbacks)&&void 0!==C&&C.onAbort)this.callbacks.onAbort(this.stats,
this.context,this.loader)};z.load=function(C,w,q){if(this.stats.loading.start)throw Error("Loader can only be used once.");this.stats.loading.start=self.performance.now();this.context=C;this.config=w;this.callbacks=q;this.retryDelay=w.retryDelay;this.loadInternal()};z.loadInternal=function(){var C=this.config,w=this.context;if(C){var q=this.loader=new self.XMLHttpRequest,x=this.stats;x.loading.first=0;x.loaded=0;x=this.xhrSetup;try{if(x)try{x(q,w.url)}catch(l){q.open("GET",w.url,!0),x(q,w.url)}q.readyState||
q.open("GET",w.url,!0);var v=this.context.headers;if(v)for(var g in v)q.setRequestHeader(g,v[g])}catch(l){this.callbacks.onError({code:q.status,text:l.message},w,q);return}w.rangeEnd&&q.setRequestHeader("Range","bytes\x3d"+w.rangeStart+"-"+(w.rangeEnd-1));q.onreadystatechange=this.readystatechange.bind(this);q.onprogress=this.loadprogress.bind(this);q.responseType=w.responseType;self.clearTimeout(this.requestTimeout);this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),C.timeout);q.send()}};
z.readystatechange=function(){var C=this.context,w=this.loader,q=this.stats;if(C&&w){var x=w.readyState,v=this.config;if(!q.aborted&&2<=x)if(self.clearTimeout(this.requestTimeout),0===q.loading.first&&(q.loading.first=Math.max(self.performance.now(),q.loading.start)),4===x){w.onreadystatechange=null;w.onprogress=null;x=w.status;var g="arraybuffer"===w.responseType;if(200<=x&&300>x&&(g&&w.response||null!==w.responseText)){if(q.loading.end=Math.max(self.performance.now(),q.loading.first),g?(v=w.response,
x=v.byteLength):(v=w.responseText,x=v.length),q.loaded=q.total=x,this.callbacks&&((x=this.callbacks.onProgress)&&x(q,C,v,w),this.callbacks))this.callbacks.onSuccess({url:w.responseURL,data:v},q,C,w)}else q.retry>=v.maxRetry||400<=x&&499>x?(X.logger.error(x+" while loading "+C.url),this.callbacks.onError({code:x,text:w.statusText},C,w)):(X.logger.warn(x+" while loading "+C.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=
self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,v.maxRetryDelay),q.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),v.timeout)}};z.loadtimeout=function(){X.logger.warn("timeout while loading "+this.context.url);var C=this.callbacks;C&&(this.abortInternal(),C.onTimeout(this.stats,this.context,this.loader))};z.loadprogress=function(C){var w=this.stats;w.loaded=C.loaded;C.lengthComputable&&
(w.total=C.total)};z.getCacheAge=function(){var C=null;this.loader&&F.test(this.loader.getAllResponseHeaders())&&(C=(C=this.loader.getResponseHeader("age"))?parseFloat(C):null);return C};return E}()},"./node_modules/eventemitter3/index.js":oa=>{function Y(){}function G(z,C,w){this.fn=z;this.context=C;this.once=w||!1}function X(z,C,w,q,x){if("function"!==typeof w)throw new TypeError("The listener must be a function");w=new G(w,q||z,x);C=E?E+C:C;z._events[C]?z._events[C].fn?z._events[C]=[z._events[C],
w]:z._events[C].push(w):(z._events[C]=w,z._eventsCount++);return z}function T(z,C){0===--z._eventsCount?z._events=new Y:delete z._events[C]}function F(){this._events=new Y;this._eventsCount=0}var K=Object.prototype.hasOwnProperty,E="~";Object.create&&(Y.prototype=Object.create(null),(new Y).__proto__||(E=!1));F.prototype.eventNames=function(){var z=[],C,w;if(0===this._eventsCount)return z;for(w in C=this._events)K.call(C,w)&&z.push(E?w.slice(1):w);return Object.getOwnPropertySymbols?z.concat(Object.getOwnPropertySymbols(C)):
z};F.prototype.listeners=function(z){z=this._events[E?E+z:z];if(!z)return[];if(z.fn)return[z.fn];for(var C=0,w=z.length,q=Array(w);C<w;C++)q[C]=z[C].fn;return q};F.prototype.listenerCount=function(z){return(z=this._events[E?E+z:z])?z.fn?1:z.length:0};F.prototype.emit=function(z,C,w,q,x,v){var g=E?E+z:z;if(!this._events[g])return!1;g=this._events[g];var l=arguments.length,h;if(g.fn){g.once&&this.removeListener(z,g.fn,void 0,!0);switch(l){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,
C),!0;case 3:return g.fn.call(g.context,C,w),!0;case 4:return g.fn.call(g.context,C,w,q),!0;case 5:return g.fn.call(g.context,C,w,q,x),!0;case 6:return g.fn.call(g.context,C,w,q,x,v),!0}var k=1;for(h=Array(l-1);k<l;k++)h[k-1]=arguments[k];g.fn.apply(g.context,h)}else{var p=g.length;for(k=0;k<p;k++)switch(g[k].once&&this.removeListener(z,g[k].fn,void 0,!0),l){case 1:g[k].fn.call(g[k].context);break;case 2:g[k].fn.call(g[k].context,C);break;case 3:g[k].fn.call(g[k].context,C,w);break;case 4:g[k].fn.call(g[k].context,
C,w,q);break;default:if(!h){var r=1;for(h=Array(l-1);r<l;r++)h[r-1]=arguments[r]}g[k].fn.apply(g[k].context,h)}}return!0};F.prototype.on=function(z,C,w){return X(this,z,C,w,!1)};F.prototype.once=function(z,C,w){return X(this,z,C,w,!0)};F.prototype.removeListener=function(z,C,w,q){z=E?E+z:z;if(!this._events[z])return this;if(!C)return T(this,z),this;var x=this._events[z];if(x.fn)x.fn!==C||q&&!x.once||w&&x.context!==w||T(this,z);else{for(var v=0,g=[],l=x.length;v<l;v++)(x[v].fn!==C||q&&!x[v].once||
w&&x[v].context!==w)&&g.push(x[v]);g.length?this._events[z]=1===g.length?g[0]:g:T(this,z)}return this};F.prototype.removeAllListeners=function(z){z?(z=E?E+z:z,this._events[z]&&T(this,z)):(this._events=new Y,this._eventsCount=0);return this};F.prototype.off=F.prototype.removeListener;F.prototype.addListener=F.prototype.on;F.prefixed=E;F.EventEmitter=F;oa.exports=F},"./node_modules/url-toolkit/src/url-toolkit.js":function(oa){(function(Y){var G=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,
X=/^(?=([^\/?#]*))\1([^]*)$/,T=/(?:\/|^)\.(?=\/)/g,F=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,K={buildAbsoluteURL:function(E,z,C){C=C||{};E=E.trim();z=z.trim();if(!z){if(!C.alwaysNormalize)return E;C=K.parseURL(E);if(!C)throw Error("Error trying to parse base URL.");C.path=K.normalizePath(C.path);return K.buildURLFromParts(C)}var w=K.parseURL(z);if(!w)throw Error("Error trying to parse relative URL.");if(w.scheme){if(!C.alwaysNormalize)return z;w.path=K.normalizePath(w.path);return K.buildURLFromParts(w)}z=
K.parseURL(E);if(!z)throw Error("Error trying to parse base URL.");!z.netLoc&&z.path&&"/"!==z.path[0]&&(E=X.exec(z.path),z.netLoc=E[1],z.path=E[2]);z.netLoc&&!z.path&&(z.path="/");E={scheme:z.scheme,netLoc:w.netLoc,path:null,params:w.params,query:w.query,fragment:w.fragment};w.netLoc||(E.netLoc=z.netLoc,"/"!==w.path[0]&&(w.path?(z=z.path,z=z.substring(0,z.lastIndexOf("/")+1)+w.path,E.path=K.normalizePath(z)):(E.path=z.path,w.params||(E.params=z.params,w.query||(E.query=z.query)))));null===E.path&&
(E.path=C.alwaysNormalize?K.normalizePath(w.path):w.path);return K.buildURLFromParts(E)},parseURL:function(E){return(E=G.exec(E))?{scheme:E[1]||"",netLoc:E[2]||"",path:E[3]||"",params:E[4]||"",query:E[5]||"",fragment:E[6]||""}:null},normalizePath:function(E){for(E=E.split("").reverse().join("").replace(T,"");E.length!==(E=E.replace(F,"")).length;);return E.split("").reverse().join("")},buildURLFromParts:function(E){return E.scheme+E.netLoc+E.path+E.params+E.query+E.fragment}};oa.exports=K})(this)}},
sb={};ja.m=Ta;(()=>{ja.n=oa=>{var Y=oa&&oa.__esModule?()=>oa["default"]:()=>oa;ja.d(Y,{a:Y});return Y}})();(()=>{ja.d=(oa,Y)=>{for(var G in Y)ja.o(Y,G)&&!ja.o(oa,G)&&Object.defineProperty(oa,G,{enumerable:!0,get:Y[G]})}})();(()=>{ja.o=(oa,Y)=>Object.prototype.hasOwnProperty.call(oa,Y)})();(()=>{ja.r=oa=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(oa,Symbol.toStringTag,{value:"Module"});Object.defineProperty(oa,"__esModule",{value:!0})}})();var eb=ja("./src/hls.ts");return eb=
eb["default"]})())};
shadow$provide[4]=function(pc,Ic,Mc,La){(function(ja,Ta){"object"===typeof La&&"undefined"!==typeof Mc?Ta(La):"function"===typeof define&&define.amd?define(["exports"],Ta):(ja=ja||self,Ta(ja.window=ja.window||{}))})(this,function(ja){function Ta(fb,Za){fb.prototype=Object.create(Za.prototype);fb.prototype.constructor=fb;fb.__proto__=Za}function sb(fb){if(void 0===fb)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fb}var eb={autoSleep:120,force3D:"auto",
nullTargetWarn:1,units:{lineHeight:""}},oa={duration:.5,overwrite:!1,delay:0},Y,G,X,T=2*Math.PI,F=T/4,K=0,E=Math.sqrt,z=Math.cos,C=Math.sin,w=function(fb){return"string"===typeof fb},q=function(fb){return"function"===typeof fb},x=function(fb){return"number"===typeof fb},v=function(fb){return"undefined"===typeof fb},g=function(fb){return"object"===typeof fb},l=function(fb){return q(fb)||w(fb)},h="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},k=Array.isArray,p=/(?:-?\.?\d|\.)+/gi,
r=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,u=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,m=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,f=/[+-]=-?[.\d]+/,c=/[^,'"\[\]\s]+/gi,e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,t,B,y,A={},H={},J=function(fb){return(H=Pb(fb,A))&&Hb},N=function(fb,Za){return console.warn("Invalid property",fb,"set to",Za,"Missing plugin? gsap.registerPlugin()")},ea=function(fb,Za){return fb&&(A[fb]=Za)&&H&&(H[fb]=Za)||A},ia=function(){return 0},la={suppressEvents:!0,isStart:!0,kill:!1},S={suppressEvents:!0,
kill:!1},aa={suppressEvents:!0},da={},ma=[],na={},Ba,Na={},ra={},Pa=30,Ja=[],xb="",Ab=function(fb){var Za=fb[0],Ea,Ka;g(Za)||q(Za)||(fb=[fb]);if(!(Ea=(Za._gsap||{}).harness)){for(Ka=Ja.length;Ka--&&!Ja[Ka].targetTest(Za););Ea=Ja[Ka]}for(Ka=fb.length;Ka--;)fb[Ka]&&(fb[Ka]._gsap||(fb[Ka]._gsap=new mb(fb[Ka],Ea)))||fb.splice(Ka,1);return fb},gc=function(fb){return fb._gsap||Ab(Rc(fb))[0]._gsap},cc=function(fb,Za,Ea){return(Ea=fb[Za])&&q(Ea)?fb[Za]():v(Ea)&&fb.getAttribute&&fb.getAttribute(Za)||Ea},qc=
function(fb,Za){return(fb=fb.split(",")).forEach(Za)||fb},ac=function(fb){return Math.round(1E5*fb)/1E5||0},Sb=function(fb){return Math.round(1E7*fb)/1E7||0},Dd=function(fb,Za){var Ea=Za.charAt(0);Za=parseFloat(Za.substr(2));fb=parseFloat(fb);return"+"===Ea?fb+Za:"-"===Ea?fb-Za:"*"===Ea?fb*Za:fb/Za},Xc=function(){var fb=ma.length,Za=ma.slice(0),Ea,Ka;na={};for(Ea=ma.length=0;Ea<fb;Ea++)(Ka=Za[Ea])&&Ka._lazy&&(Ka.render(Ka._lazy[0],Ka._lazy[1],!0)._lazy=0)},Nc=function(fb,Za,Ea,Ka){ma.length&&!G&&
Xc();fb.render(Za,Ea,Ka||G&&0>Za&&(fb._initted||fb._startAt));ma.length&&!G&&Xc()},Od=function(fb){var Za=parseFloat(fb);return(Za||0===Za)&&2>(fb+"").match(c).length?Za:w(fb)?fb.trim():fb},od=function(fb){return fb},uc=function(fb,Za){for(var Ea in Za)Ea in fb||(fb[Ea]=Za[Ea]);return fb},hc=function(fb){return function(Za,Ea){for(var Ka in Ea)Ka in Za||"duration"===Ka&&fb||"ease"===Ka||(Za[Ka]=Ea[Ka])}},Pb=function(fb,Za){for(var Ea in Za)fb[Ea]=Za[Ea];return fb},Pd=function Ka(Za,Ea){for(var fa in Ea)"__proto__"!==
fa&&"constructor"!==fa&&"prototype"!==fa&&(Za[fa]=g(Ea[fa])?Ka(Za[fa]||(Za[fa]={}),Ea[fa]):Ea[fa]);return Za},pd=function(Za,Ea){var Ka={},fa;for(fa in Za)fa in Ea||(Ka[fa]=Za[fa]);return Ka},Ed=function(Za){var Ea=Za.parent||Kb,Ka=Za.keyframes?hc(k(Za.keyframes)):uc;if(!1!==Za.inherit)for(;Ea;)Ka(Za,Ea.vars.defaults),Ea=Ea.parent||Ea._dp;return Za},Qd=function(Za,Ea){for(var Ka=Za.length,fa=Ka===Ea.length;fa&&Ka--&&Za[Ka]===Ea[Ka];);return 0>Ka},Rd=function(Za,Ea,Ka,fa,ta){void 0===Ka&&(Ka="_first");
void 0===fa&&(fa="_last");var Ga=Za[fa],pa;if(ta)for(pa=Ea[ta];Ga&&Ga[ta]>pa;)Ga=Ga._prev;Ga?(Ea._next=Ga._next,Ga._next=Ea):(Ea._next=Za[Ka],Za[Ka]=Ea);Ea._next?Ea._next._prev=Ea:Za[fa]=Ea;Ea._prev=Ga;Ea.parent=Ea._dp=Za;return Ea},vc=function(Za,Ea,Ka,fa){void 0===Ka&&(Ka="_first");void 0===fa&&(fa="_last");var ta=Ea._prev,Ga=Ea._next;ta?ta._next=Ga:Za[Ka]===Ea&&(Za[Ka]=Ga);Ga?Ga._prev=ta:Za[fa]===Ea&&(Za[fa]=ta);Ea._next=Ea._prev=Ea.parent=null},nc=function(Za,Ea){Za.parent&&(!Ea||Za.parent.autoRemoveChildren)&&
Za.parent.remove(Za);Za._act=0},zb=function(Za,Ea){if(Za&&(!Ea||Ea._end>Za._dur||0>Ea._start))for(Ea=Za;Ea;)Ea._dirty=1,Ea=Ea.parent;return Za},Fd=function(Za,Ea,Ka,fa){return Za._startAt&&(G?Za._startAt.revert(S):Za.vars.immediateRender&&!Za.vars.autoRevert||Za._startAt.render(Ea,!0,fa))},xc=function Ka(Ea){return!Ea||Ea._ts&&Ka(Ea.parent)},Qe=function(Ea){return Ea._repeat?qd(Ea._tTime,Ea=Ea.duration()+Ea._rDelay)*Ea:0},qd=function(Ea,Ka){Ka=Math.floor(Ea/=Ka);return Ea&&Ka===Ea?Ka-1:Ka},Gd=function(Ea,
Ka){return(Ea-Ka._start)*Ka._ts+(0<=Ka._ts?0:Ka._dirty?Ka.totalDuration():Ka._tDur)},Sc=function(Ea){return Ea._end=Sb(Ea._start+(Ea._tDur/Math.abs(Ea._ts||Ea._rts||1E-8)||0))},Tc=function(Ea,Ka){var fa=Ea._dp;fa&&fa.smoothChildTiming&&Ea._ts&&(Ea._start=Sb(fa._time-(0<Ea._ts?Ka/Ea._ts:((Ea._dirty?Ea.totalDuration():Ea._tDur)-Ka)/-Ea._ts)),Sc(Ea),fa._dirty||zb(fa,Ea));return Ea},ff=function(Ea,Ka){if(Ka._time||Ka._initted&&!Ka._dur){var fa=Gd(Ea.rawTime(),Ka);(!Ka._dur||1E-8<Yc(0,Ka.totalDuration(),
fa)-Ka._tTime)&&Ka.render(fa,!0)}if(zb(Ea,Ka)._dp&&Ea._initted&&Ea._time>=Ea._dur&&Ea._ts){if(Ea._dur<Ea.duration())for(fa=Ea;fa._dp;)0<=fa.rawTime()&&fa.totalTime(fa._tTime),fa=fa._dp;Ea._zTime=-1E-8}},fd=function(Ea,Ka,fa,ta){Ka.parent&&nc(Ka);Ka._start=Sb((x(fa)?fa:fa||Ea!==Kb?Qb(Ea,fa,Ka):Ea._time)+Ka._delay);Ka._end=Sb(Ka._start+(Ka.totalDuration()/Math.abs(Ka.timeScale())||0));Rd(Ea,Ka,"_first","_last",Ea._sort?"_start":0);Sd(Ka)||(Ea._recent=Ka);ta||ff(Ea,Ka);0>Ea._ts&&Tc(Ea,Ea._tTime);return Ea},
Hd=function(Ea,Ka){return(A.ScrollTrigger||N("scrollTrigger",Ka))&&A.ScrollTrigger.create(Ka,Ea)},Cc=function(Ea,Ka,fa,ta,Ga){ic(Ea,Ka,Ga);if(!Ea._initted)return 1;if(!fa&&Ea._pt&&!G&&(Ea._dur&&!1!==Ea.vars.lazy||!Ea._dur&&Ea.vars.lazy)&&Ba!==ua.frame)return ma.push(Ea),Ea._lazy=[Ga,ta],1},Fe=function fa(Ka){return(Ka=Ka.parent)&&Ka._ts&&Ka._initted&&!Ka._lock&&(0>Ka.rawTime()||fa(Ka))},Sd=function(Ka){Ka=Ka.data;return"isFromStart"===Ka||"isStart"===Ka},gd=function(Ka,fa,ta,Ga){var pa=Ka._repeat;
fa=Sb(fa)||0;var R=Ka._tTime/Ka._tDur;R&&!Ga&&(Ka._time*=fa/Ka._dur);Ka._dur=fa;Ka._tDur=pa?0>pa?1E10:Sb(fa*(pa+1)+Ka._rDelay*pa):fa;0<R&&!Ga&&Tc(Ka,Ka._tTime=Ka._tDur*R);Ka.parent&&Sc(Ka);ta||zb(Ka.parent,Ka);return Ka},Zc={_start:0,endTime:ia,totalDuration:ia},Qb=function pa(fa,ta,Ga){var R=fa.labels,Q=fa._recent||Zc,M=1E8<=fa.duration()?Q.endTime(!1):fa._dur;if(w(ta)&&(isNaN(ta)||ta in R)){var L=ta.charAt(0);var P="%"===ta.substr(-1);var Z=ta.indexOf("\x3d");if("\x3c"===L||"\x3e"===L)return 0<=
Z&&(ta=ta.replace(/=/,"")),("\x3c"===L?Q._start:Q.endTime(0<=Q._repeat))+(parseFloat(ta.substr(1))||0)*(P?(0>Z?Q:Ga).totalDuration()/100:1);if(0>Z)return ta in R||(R[ta]=M),R[ta];L=parseFloat(ta.charAt(Z-1)+ta.substr(Z+1));P&&Ga&&(L=L/100*(k(Ga)?Ga[0]:Ga).totalDuration());return 1<Z?pa(fa,ta.substr(0,Z-1),Ga)+L:M+L}return null==ta?M:+ta},Ma=function(fa,ta,Ga){var pa=x(ta[1]),R=(pa?2:1)+(2>fa?0:1),Q=ta[R];pa&&(Q.duration=ta[1]);Q.parent=Ga;if(fa){for(pa=Q;Ga&&!("immediateRender"in pa);)pa=Ga.vars.defaults||
{},Ga=!1!==Ga.vars.inherit&&Ga.parent;Q.immediateRender=!1!==pa.immediateRender;2>fa?Q.runBackwards=1:Q.startAt=ta[R-1]}return new ob(ta[0],Q,ta[R+1])},rd=function(fa,ta){return fa||0===fa?ta(fa):ta},Yc=function(fa,ta,Ga){return Ga<fa?fa:Ga>ta?ta:Ga},yc=function(fa,ta){return w(fa)&&(ta=e.exec(fa))?ta[1]:""},ie=[].slice,ue=function(fa,ta){return fa&&g(fa)&&"length"in fa&&(!ta&&!fa.length||fa.length-1 in fa&&g(fa[0]))&&!fa.nodeType&&fa!==t},Td=function(fa,ta,Ga){void 0===Ga&&(Ga=[]);return fa.forEach(function(pa){var R;
return w(pa)&&!ta||ue(pa,1)?(R=Ga).push.apply(R,Rc(pa)):Ga.push(pa)})||Ga},Rc=function(fa,ta,Ga){return X&&!ta&&X.selector?X.selector(fa):!w(fa)||Ga||!B&&ha()?k(fa)?Td(fa,Ga):ue(fa)?ie.call(fa,0):fa?[fa]:[]:ie.call((ta||y).querySelectorAll(fa),0)},be=function(fa){fa=Rc(fa)[0]||console.warn("Invalid scope")||{};return function(ta){var Ga=fa.current||fa.nativeElement||fa;return Rc(ta,Ga.querySelectorAll?Ga:Ga===fa?console.warn("Invalid scope")||y.createElement("div"):fa)}},wc=function(fa){return fa.sort(function(){return.5-
Math.random()})},sd=function(fa){if(q(fa))return fa;var ta=g(fa)?fa:{each:fa},Ga=jb(ta.ease),pa=ta.from||0,R=parseFloat(ta.base)||0,Q={};fa=0<pa&&1>pa;var M=isNaN(pa)||fa,L=ta.axis,P=pa,Z=pa;w(pa)?P=Z={center:.5,edges:.5,end:1}[pa]||0:!fa&&M&&(P=pa[0],Z=pa[1]);return function(O,U,ba){U=(ba||ta).length;var qa=Q[U],va,Ca;if(!qa){var Aa="auto"===ta.grid?0:(ta.grid||[1,1E8])[1];if(!Aa){for(Ca=-1E8;Ca<(Ca=ba[Aa++].getBoundingClientRect().left)&&Aa<U;);Aa--}qa=Q[U]=[];ba=M?Math.min(Aa,U)*P-.5:pa%Aa;var Sa=
1E8===Aa?0:M?U*Z/Aa-.5:pa/Aa|0;Ca=0;var Ia=1E8;for(va=0;va<U;va++){var bb=va%Aa-ba;var gb=Sa-(va/Aa|0);qa[va]=bb=L?Math.abs("y"===L?gb:bb):E(bb*bb+gb*gb);bb>Ca&&(Ca=bb);bb<Ia&&(Ia=bb)}"random"===pa&&wc(qa);qa.max=Ca-Ia;qa.min=Ia;qa.v=U=(parseFloat(ta.amount)||parseFloat(ta.each)*(Aa>U?U-1:L?"y"===L?U/Aa:Aa:Math.max(Aa,U/Aa))||0)*("edges"===pa?-1:1);qa.b=0>U?R-U:R;qa.u=yc(ta.amount||ta.each)||0;Ga=Ga&&0>U?Qa(Ga):Ga}U=(qa[O]-qa.min)/qa.max||0;return Sb(qa.b+(Ga?Ga(U):U)*qa.v)+qa.u}},td=function(fa){var ta=
Math.pow(10,((fa+"").split(".")[1]||"").length);return function(Ga){var pa=Sb(Math.round(parseFloat(Ga)/fa)*fa*ta);return(pa-pa%1)/ta+(x(Ga)?0:yc(Ga))}},ce=function(fa,ta){var Ga=k(fa),pa;if(!Ga&&g(fa)){var R=Ga=fa.radius||1E8;if(fa.values){if(fa=Rc(fa.values),pa=!x(fa[0]))R*=R}else fa=td(fa.increment)}return rd(ta,Ga?q(fa)?function(Q){pa=fa(Q);return Math.abs(pa-Q)<=R?pa:Q}:function(Q){for(var M=parseFloat(pa?Q.x:Q),L=parseFloat(pa?Q.y:0),P=1E8,Z=0,O=fa.length,U,ba;O--;)pa?(U=fa[O].x-M,ba=fa[O].y-
L,U=U*U+ba*ba):U=Math.abs(fa[O]-M),U<P&&(P=U,Z=O);Z=!R||P<=R?fa[Z]:Q;return pa||Z===Q||x(Q)?Z:Z+yc(Q)}:td(fa))},Ge=function(fa,ta,Ga,pa){return rd(k(fa)?!ta:!0===Ga?!!(Ga=0):!pa,function(){return k(fa)?fa[~~(Math.random()*fa.length)]:(Ga=Ga||1E-5,pa=1>Ga?Math.pow(10,(Ga+"").length-2):1)&&Math.floor(Math.round((fa-Ga/2+Math.random()*(ta-fa+.99*Ga))/Ga)*Ga*pa)/pa})},je=function(fa,ta,Ga){return rd(Ga,function(pa){return fa[~~ta(pa)]})},Id=function(fa){for(var ta=0,Ga="",pa,R,Q,M;~(pa=fa.indexOf("random(",
ta));)Q=fa.indexOf(")",pa),M="["===fa.charAt(pa+7),R=fa.substr(pa+7,Q-pa-7).match(M?c:p),Ga+=fa.substr(ta,pa-ta)+Ge(M?R:+R[0],M?0:+R[1],+R[2]||1E-5),ta=Q+1;return Ga+fa.substr(ta,fa.length-ta)},Ye=function(fa,ta,Ga,pa,R){var Q=ta-fa,M=pa-Ga;return rd(R,function(L){return Ga+((L-fa)/Q*M||0)})},gf=function(fa,ta,Ga){fa=fa.labels;var pa=1E8,R;for(R in fa){var Q=fa[R]-ta;if(0>Q===!!Ga&&Q&&pa>(Q=Math.abs(Q))){var M=R;pa=Q}}return M},Dc=function(fa,ta,Ga){var pa=fa.vars,R=pa[ta],Q=X,M=fa._ctx;if(R)return ta=
pa[ta+"Params"],fa=pa.callbackScope||fa,Ga&&ma.length&&Xc(),M&&(X=M),Ga=ta?R.apply(fa,ta):R.call(fa),X=Q,Ga},de=function(fa){nc(fa);fa.scrollTrigger&&fa.scrollTrigger.kill(!!G);1>fa.progress()&&Dc(fa,"onInterrupt");return fa},Ib=function(fa){fa=!fa.name&&fa["default"]||fa;var ta=fa.name,Ga=q(fa);Ga=ta&&!Ga&&fa.init?function(){this._props=[]}:fa;var pa={init:ia,render:Ha,add:Tb,kill:fg,modifier:Ud,rawVars:0},R={targetTest:0,get:0,getSetter:dc,aliases:{},register:0};ha();if(fa!==Ga){if(Na[ta])return;
uc(Ga,uc(pd(fa,pa),R));Pb(Ga.prototype,Pb(pa,pd(fa,R)));Na[Ga.prop=ta]=Ga;fa.targetTest&&(Ja.push(Ga),da[ta]=1);ta=("css"===ta?"CSS":ta.charAt(0).toUpperCase()+ta.substr(1))+"Plugin"}ea(ta,Ga);fa.register&&fa.register(Hb,Ga,Uc)},ke={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,
0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ve=function(fa,ta,Ga){fa+=0>fa?1:1<fa?-1:0;return 255*(1>6*fa?ta+(Ga-ta)*fa*6:.5>fa?Ga:2>3*fa?ta+(Ga-ta)*(2/3-fa)*6:ta)+.5|0},le=function(fa,ta,Ga){var pa=fa?x(fa)?[fa>>16,fa>>8&255,fa&255]:0:ke.black,R;if(!pa){","===fa.substr(-1)&&(fa=fa.substr(0,fa.length-1));if(ke[fa])pa=ke[fa];else if("#"===fa.charAt(0)){if(6>fa.length){var Q=fa.charAt(1);var M=fa.charAt(2);var L=fa.charAt(3);fa="#"+Q+Q+M+M+L+L+(5===fa.length?fa.charAt(4)+fa.charAt(4):
"")}if(9===fa.length)return pa=parseInt(fa.substr(1,6),16),[pa>>16,pa>>8&255,pa&255,parseInt(fa.substr(7),16)/255];fa=parseInt(fa.substr(1),16);pa=[fa>>16,fa>>8&255,fa&255]}else if("hsl"===fa.substr(0,3))if(pa=R=fa.match(p),!ta){L=+pa[0]%360/360;var P=+pa[1]/100;fa=+pa[2]/100;M=.5>=fa?fa*(P+1):fa+P-fa*P;Q=2*fa-M;3<pa.length&&(pa[3]*=1);pa[0]=ve(L+1/3,Q,M);pa[1]=ve(L,Q,M);pa[2]=ve(L-1/3,Q,M)}else{if(~fa.indexOf("\x3d"))return pa=fa.match(r),Ga&&4>pa.length&&(pa[3]=1),pa}else pa=fa.match(p)||ke.transparent;
pa=pa.map(Number)}ta&&!R&&(Q=pa[0]/255,M=pa[1]/255,L=pa[2]/255,ta=Math.max(Q,M,L),P=Math.min(Q,M,L),fa=(ta+P)/2,ta===P?L=P=0:(R=ta-P,P=.5<fa?R/(2-ta-P):R/(ta+P),L=60*(ta===Q?(M-L)/R+(M<L?6:0):ta===M?(L-Q)/R+2:(Q-M)/R+4)),pa[0]=~~(L+.5),pa[1]=~~(100*P+.5),pa[2]=~~(100*fa+.5));Ga&&4>pa.length&&(pa[3]=1);return pa},hf=function(fa){var ta=[],Ga=[],pa=-1;fa.split(ud).forEach(function(R){R=R.match(u)||[];ta.push.apply(ta,R);Ga.push(pa+=R.length+1)});ta.c=Ga;return ta},Re=function(fa,ta,Ga){var pa="",R=
(fa+pa).match(ud),Q=ta?"hsla(":"rgba(",M=0,L;if(!R)return fa;R=R.map(function(U){return(U=le(U,ta,1))&&Q+(ta?U[0]+","+U[1]+"%,"+U[2]+"%,"+U[3]:U.join(","))+")"});if(Ga){var P=hf(fa);var Z=Ga.c;if(Z.join(pa)!==P.c.join(pa)){var O=fa.replace(ud,"1").split(u);for(L=O.length-1;M<L;M++)pa+=O[M]+(~Z.indexOf(M)?R.shift()||Q+"0,0,0,0)":(P.length?P:R.length?R:Ga).shift())}}if(!O)for(O=fa.split(ud),L=O.length-1;M<L;M++)pa+=O[M]+R[M];return pa+O[L]},ud=function(){var fa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",
ta;for(ta in ke)fa+="|"+ta+"\\b";return new RegExp(fa+")","gi")}(),He=/hsl[a]?\(/,Jd=function(fa){var ta=fa.join(" ");ud.lastIndex=0;if(ud.test(ta))return ta=He.test(ta),fa[1]=Re(fa[1],ta),fa[0]=Re(fa[0],ta,hf(fa[1])),!0},Vd,ua=function(){var fa=Date.now,ta=500,Ga=33,pa=fa(),R=pa,Q=1E3/240,M=Q,L=[],P,Z,O,U,ba,qa,va=function Sa(Aa){var Ia=fa()-R,bb=!0===Aa;Ia>ta&&(pa+=Ia-Ga);R+=Ia;var gb=R-pa;Ia=gb-M;if(0<Ia||bb){var wa=++U.frame;ba=gb-1E3*U.time;U.time=gb/=1E3;M+=Ia+(Ia>=Q?4:Q-Ia);var cb=1}bb||(P=
Z(Sa));if(cb)for(qa=0;qa<L.length;qa++)L[qa](gb,ba,wa,Aa)};return U={time:0,frame:0,tick:function(){va(!0)},deltaRatio:function(Aa){return ba/(1E3/(Aa||60))},wake:function(){uf&&(B||"undefined"===typeof window||(t=B=window,y=t.document||{},A.gsap=Hb,(t.gsapVersions||(t.gsapVersions=[])).push(Hb.version),J(H||t.GreenSockGlobals||!t.gsap&&t||{}),O=t.requestAnimationFrame),P&&U.sleep(),Z=O||function(Aa){return setTimeout(Aa,M-1E3*U.time+1|0)},Vd=1,va(2))},sleep:function(){(O?t.cancelAnimationFrame:clearTimeout)(P);
Vd=0;Z=ia},lagSmoothing:function(Aa,Sa){ta=Aa||Infinity;Ga=Math.min(Sa||33,ta)},fps:function(Aa){Q=1E3/(Aa||240);M=1E3*U.time+Q},add:function(Aa,Sa,Ia){var bb=Sa?function(gb,wa,cb,Oa){Aa(gb,wa,cb,Oa);U.remove(bb)}:Aa;U.remove(Aa);L[Ia?"unshift":"push"](bb);ha();return bb},remove:function(Aa,Sa){~(Sa=L.indexOf(Aa))&&L.splice(Sa,1)&&qa>=Sa&&qa--},_listeners:L}}(),ha=function(){return!Vd&&ua.wake()},V={},ca=/^[\d.\-M][\d.\-,\s]/,ya=/["']/g,Qa=function(fa){return function(ta){return 1-fa(1-ta)}},ab=function pa(ta,
Ga){ta=ta._first;for(var R;ta;)ta instanceof Ub?pa(ta,Ga):!ta.vars.yoyoEase||ta._yoyo&&ta._repeat||ta._yoyo===Ga||(ta.timeline?pa(ta.timeline,Ga):(R=ta._ease,ta._ease=ta._yEase,ta._yEase=R,ta._yoyo=Ga)),ta=ta._next},jb=function(ta,Ga){if(ta){if(q(ta))var pa=ta;else if(!(pa=V[ta])){var R=(ta+"").split("(");if((pa=V[R[0]])&&1<R.length&&pa.config){pa=pa.config;var Q=pa.apply;if(~ta.indexOf("{")){R=R[1];ta={};R=R.substr(1,R.length-3).split(":");for(var M=R[0],L=1,P=R.length,Z,O,U;L<P;L++)O=R[L],Z=L!==
P-1?O.lastIndexOf(","):O.length,U=O.substr(0,Z),ta[M]=isNaN(U)?U.replace(ya,"").trim():+U,M=O.substr(Z+1).trim();ta=[ta]}else R=ta.indexOf("(")+1,M=ta.indexOf(")"),L=ta.indexOf("(",R),ta=ta.substring(R,~L&&L<M?ta.indexOf(")",M+1):M).split(",").map(Od);pa=Q.call(pa,null,ta)}else pa=V._CE&&ca.test(ta)?V._CE("",ta):pa}Ga=pa||Ga}return Ga},vb=function(ta,Ga,pa,R){void 0===pa&&(pa=function(L){return 1-Ga(1-L)});void 0===R&&(R=function(L){return.5>L?Ga(2*L)/2:1-Ga(2*(1-L))/2});var Q={easeIn:Ga,easeOut:pa,
easeInOut:R},M;qc(ta,function(L){V[L]=A[L]=Q;V[M=L.toLowerCase()]=pa;for(var P in Q)V[M+("easeIn"===P?".in":"easeOut"===P?".out":".inOut")]=V[L+"."+P]=Q[P]});return Q},bc=function(ta){return function(Ga){return.5>Ga?(1-ta(1-2*Ga))/2:.5+ta(2*(Ga-.5))/2}},wb=function Q(Ga,pa,R){var M=1<=pa?pa:1,L=(R||(Ga?.3:.45))/(1>pa?pa:1),P=L/T*(Math.asin(1/M)||0),Z=function(O){return 1===O?1:M*Math.pow(2,-10*O)*C((O-P)*L)+1};pa="out"===Ga?Z:"in"===Ga?function(O){return 1-Z(1-O)}:bc(Z);L=T/L;pa.config=function(O,
U){return Q(Ga,O,U)};return pa},Eb=function Q(pa,R){void 0===R&&(R=1.70158);var M=function(P){return P?--P*P*((R+1)*P+R)+1:0},L="out"===pa?M:"in"===pa?function(P){return 1-M(1-P)}:bc(M);L.config=function(P){return Q(pa,P)};return L};qc("Linear,Quad,Cubic,Quart,Quint,Strong",function(pa,R){var Q=5>R?R+1:R;vb(pa+",Power"+(Q-1),R?function(M){return Math.pow(M,Q)}:function(M){return M},function(M){return 1-Math.pow(1-M,Q)},function(M){return.5>M?Math.pow(2*M,Q)/2:1-Math.pow(2*(1-M),Q)/2})});V.Linear.easeNone=
V.none=V.Linear.easeIn;vb("Elastic",wb("in"),wb("out"),wb());(function(pa,R){var Q=1/R,M=2*Q,L=2.5*Q,P=function(Z){return Z<Q?pa*Z*Z:Z<M?pa*Math.pow(Z-1.5/R,2)+.75:Z<L?pa*(Z-=2.25/R)*Z+.9375:pa*Math.pow(Z-2.625/R,2)+.984375};vb("Bounce",function(Z){return 1-P(1-Z)},P)})(7.5625,2.75);vb("Expo",function(pa){return pa?Math.pow(2,10*(pa-1)):0});vb("Circ",function(pa){return-(E(1-pa*pa)-1)});vb("Sine",function(pa){return 1===pa?1:-z(pa*F)+1});vb("Back",Eb("in"),Eb("out"),Eb());V.SteppedEase=V.steps=A.SteppedEase=
{config:function(pa,R){void 0===pa&&(pa=1);var Q=1/pa,M=pa+(R?0:1),L=R?1:0;return function(P){return((M*Yc(0,.99999999,P)|0)+L)*Q}}};oa.ease=V["quad.out"];qc("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(pa){return xb+=pa+","+pa+"Params,"});var mb=function(pa,R){this.id=K++;pa._gsap=this;this.target=pa;this.get=(this.harness=R)?R.get:cc;this.set=R?R.getSetter:dc},Fb=function(){function pa(Q){this.vars=Q;this._delay=+Q.delay||0;if(this._repeat=Infinity===Q.repeat?-2:
Q.repeat||0)this._rDelay=Q.repeatDelay||0,this._yoyo=!!Q.yoyo||!!Q.yoyoEase;this._ts=1;gd(this,+Q.duration,1,1);this.data=Q.data;X&&(this._ctx=X,X.data.push(this));Vd||ua.wake()}var R=pa.prototype;R.delay=function(Q){return Q||0===Q?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+Q-this._delay),this._delay=Q,this):this._delay};R.duration=function(Q){return arguments.length?this.totalDuration(0<this._repeat?Q+(Q+this._rDelay)*this._repeat:Q):this.totalDuration()&&this._dur};
R.totalDuration=function(Q){if(!arguments.length)return this._tDur;this._dirty=0;return gd(this,0>this._repeat?Q:(Q-this._repeat*this._rDelay)/(this._repeat+1))};R.totalTime=function(Q,M){ha();if(!arguments.length)return this._tTime;var L=this._dp;if(L&&L.smoothChildTiming&&this._ts){Tc(this,Q);for(!L._dp||L.parent||ff(L,this);L&&L.parent;)L.parent._time!==L._start+(0<=L._ts?L._tTime/L._ts:(L.totalDuration()-L._tTime)/-L._ts)&&L.totalTime(L._tTime,!0),L=L.parent;!this.parent&&this._dp.autoRemoveChildren&&
(0<this._ts&&Q<this._tDur||0>this._ts&&0<Q||!this._tDur&&!Q)&&fd(this._dp,this,this._start-this._delay)}if(this._tTime!==Q||!this._dur&&!M||this._initted&&1E-8===Math.abs(this._zTime)||!Q&&!this._initted&&(this.add||this._ptLookup))this._ts||(this._pTime=Q),Nc(this,Q,M);return this};R.time=function(Q,M){return arguments.length?this.totalTime(Math.min(this.totalDuration(),Q+Qe(this))%(this._dur+this._rDelay)||(Q?this._dur:0),M):this._time};R.totalProgress=function(Q,M){return arguments.length?this.totalTime(this.totalDuration()*
Q,M):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio};R.progress=function(Q,M){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||this.iteration()&1?Q:1-Q)+Qe(this),M):this.duration()?Math.min(1,this._time/this._dur):this.ratio};R.iteration=function(Q,M){var L=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(Q-1)*L,M):this._repeat?qd(this._tTime,L)+1:1};R.timeScale=function(Q){if(!arguments.length)return-1E-8===this._rts?0:this._rts;
if(this._rts===Q)return this;var M=this.parent&&this._ts?Gd(this.parent._time,this):this._tTime;this._rts=+Q||0;this._ts=this._ps||-1E-8===Q?0:this._rts;this.totalTime(Yc(-this._delay,this._tDur,M),!0);Sc(this);for(M=this.parent;M&&M.parent;)M._dirty=1,M.totalDuration(),M=M.parent;return this};R.paused=function(Q){if(!arguments.length)return this._ps;this._ps!==Q&&((this._ps=Q)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ha(),this._ts=this._rts,this.totalTime(this.parent&&
!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1E-8!==Math.abs(this._zTime)&&(this._tTime-=1E-8))));return this};R.startTime=function(Q){if(arguments.length){this._start=Q;var M=this.parent||this._dp;M&&(M._sort||!this.parent)&&fd(M,this,Q-this._delay);return this}return this._start};R.endTime=function(Q){return this._start+(!1!==Q?this.totalDuration():this.duration())/Math.abs(this._ts||1)};R.rawTime=function(Q){var M=this.parent||this._dp;return M?Q&&
(!this._ts||this._repeat&&this._time&&1>this.totalProgress())?this._tTime%(this._dur+this._rDelay):this._ts?Gd(M.rawTime(Q),this):this._tTime:this._tTime};R.revert=function(Q){void 0===Q&&(Q=aa);var M=G;G=Q;if(this._initted||this._startAt)this.timeline&&this.timeline.revert(Q),this.totalTime(-.01,Q.suppressEvents);"nested"!==this.data&&!1!==Q.kill&&this.kill();G=M;return this};R.globalTime=function(Q){for(var M=this,L=arguments.length?Q:M.rawTime();M;)L=M._start+L/(M._ts||1),M=M._dp;return!this.parent&&
this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(Q):L};R.repeat=function(Q){return arguments.length?(this._repeat=Infinity===Q?-2:Q,this instanceof Ub?zb(this):gd(this,this._dur)):-2===this._repeat?Infinity:this._repeat};R.repeatDelay=function(Q){if(arguments.length){var M=this._time;this._rDelay=Q;this instanceof Ub?zb(this):gd(this,this._dur);return M?this.time(M):this}return this._rDelay};R.yoyo=function(Q){return arguments.length?(this._yoyo=Q,this):this._yoyo};R.seek=function(Q,
M){return this.totalTime(Qb(this,Q),!1!==M)};R.restart=function(Q,M){return this.play().totalTime(Q?-this._delay:0,!1!==M)};R.play=function(Q,M){null!=Q&&this.seek(Q,M);return this.reversed(!1).paused(!1)};R.reverse=function(Q,M){null!=Q&&this.seek(Q||this.totalDuration(),M);return this.reversed(!0).paused(!1)};R.pause=function(Q,M){null!=Q&&this.seek(Q,M);return this.paused(!0)};R.resume=function(){return this.paused(!1)};R.reversed=function(Q){return arguments.length?(!!Q!==this.reversed()&&this.timeScale(-this._rts||
(Q?-1E-8:0)),this):0>this._rts};R.invalidate=function(){this._initted=this._act=0;this._zTime=-1E-8;return this};R.isActive=function(){var Q=this.parent||this._dp,M=this._start,L;return!(Q&&!(this._ts&&this._initted&&Q.isActive()&&(L=Q.rawTime(!0))>=M&&L<this.endTime(!0)-1E-8))};R.eventCallback=function(Q,M,L){var P=this.vars;return 1<arguments.length?(M?(P[Q]=M,L&&(P[Q+"Params"]=L),"onUpdate"===Q&&(this._onUpdate=M)):delete P[Q],this):P[Q]};R.then=function(Q){var M=this;return new Promise(function(L){var P=
q(Q)?Q:od,Z=function(){var O=M.then;M.then=null;q(P)&&(P=P(M))&&(P.then||P===M)&&(M.then=O);L(P);M.then=O};M._initted&&1===M.totalProgress()&&0<=M._ts||!M._tTime&&0>M._ts?Z():M._prom=Z})};R.kill=function(){de(this)};return pa}();uc(Fb.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1E-8,_prom:0,_ps:!1,_rts:1});var Ub=function(pa){function R(M,L){void 0===M&&(M={});var P=pa.call(this,M)||this;P.labels={};
P.smoothChildTiming=!!M.smoothChildTiming;P.autoRemoveChildren=!!M.autoRemoveChildren;P._sort=!1!==M.sortChildren;Kb&&fd(M.parent||Kb,sb(P),L);M.reversed&&P.reverse();M.paused&&P.paused(!0);M.scrollTrigger&&Hd(sb(P),M.scrollTrigger);return P}Ta(R,pa);var Q=R.prototype;Q.to=function(M,L,P){Ma(0,arguments,this);return this};Q.from=function(M,L,P){Ma(1,arguments,this);return this};Q.fromTo=function(M,L,P,Z){Ma(2,arguments,this);return this};Q.set=function(M,L,P){L.duration=0;L.parent=this;Ed(L).repeatDelay||
(L.repeat=0);L.immediateRender=!!L.immediateRender;new ob(M,L,Qb(this,P),1);return this};Q.call=function(M,L,P){return fd(this,ob.delayedCall(0,M,L),P)};Q.staggerTo=function(M,L,P,Z,O,U,ba){P.duration=L;P.stagger=P.stagger||Z;P.onComplete=U;P.onCompleteParams=ba;P.parent=this;new ob(M,P,Qb(this,O));return this};Q.staggerFrom=function(M,L,P,Z,O,U,ba){P.runBackwards=1;Ed(P).immediateRender=!1!==P.immediateRender;return this.staggerTo(M,L,P,Z,O,U,ba)};Q.staggerFromTo=function(M,L,P,Z,O,U,ba,qa){Z.startAt=
P;Ed(Z).immediateRender=!1!==Z.immediateRender;return this.staggerTo(M,L,Z,O,U,ba,qa)};Q.render=function(M,L,P){var Z=this._time,O=this._dirty?this.totalDuration():this._tDur,U=this._dur,ba=0>=M?0:Sb(M),qa=0>this._zTime!==0>M&&(this._initted||!U);this!==Kb&&ba>O&&0<=M&&(ba=O);if(ba!==this._tTime||P||qa){Z!==this._time&&U&&(ba+=this._time-Z,M+=this._time-Z);var va=ba;var Ca=this._start;var Aa=this._ts;var Sa=!Aa;qa&&(U||(Z=this._zTime),!M&&L||(this._zTime=M));if(this._repeat){var Ia=this._yoyo;var bb=
U+this._rDelay;if(-1>this._repeat&&0>M)return this.totalTime(100*bb+M,L,P);va=Sb(ba%bb);ba===O?(qa=this._repeat,va=U):((qa=~~(ba/bb))&&qa===ba/bb&&(va=U,qa--),va>U&&(va=U));var gb=qd(this._tTime,bb);!Z&&this._tTime&&gb!==qa&&(gb=qa);if(Ia&&qa&1){va=U-va;var wa=1}if(qa!==gb&&!this._lock){var cb=Ia&&gb&1;Ia=cb===(Ia&&qa&1);qa<gb&&(cb=!cb);Z=cb?0:U;this._lock=1;this.render(Z||(wa?0:Sb(qa*bb)),L,!U)._lock=0;this._tTime=ba;!L&&this.parent&&Dc(this,"onRepeat");this.vars.repeatRefresh&&!wa&&(this.invalidate()._lock=
1);if(Z&&Z!==this._time||Sa!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;U=this._dur;O=this._tDur;Ia&&(this._lock=2,Z=cb?U:-1E-4,this.render(Z,!0),this.vars.repeatRefresh&&!wa&&this.invalidate());this._lock=0;if(!this._ts&&!Sa)return this;ab(this,wa)}}if(this._hasPause&&!this._forcing&&2>this._lock){a:{var Oa=Sb(Z);wa=Sb(va);if(wa>Oa)for(qa=this._first;qa&&qa._start<=wa;){if("isPause"===qa.data&&qa._start>Oa){Oa=qa;break a}qa=qa._next}else for(qa=this._last;qa&&qa._start>=
wa;){if("isPause"===qa.data&&qa._start<Oa){Oa=qa;break a}qa=qa._prev}Oa=void 0}Oa&&(ba-=va-(va=Oa._start))}this._tTime=ba;this._time=va;this._act=!Aa;this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=M,Z=0);if(!Z&&va&&!L&&(Dc(this,"onStart"),this._tTime!==ba))return this;if(va>=Z&&0<=M)for(wa=this._first;wa;){qa=wa._next;if((wa._act||va>=wa._start)&&wa._ts&&Oa!==wa){if(wa.parent!==this)return this.render(M,L,P);wa.render(0<wa._ts?(va-wa._start)*wa._ts:(wa._dirty?wa.totalDuration():
wa._tDur)+(va-wa._start)*wa._ts,L,P);if(va!==this._time||!this._ts&&!Sa){Oa=0;qa&&(ba+=this._zTime=-1E-8);break}}wa=qa}else for(wa=this._last,bb=0>M?M:va;wa;){qa=wa._prev;if((wa._act||bb<=wa._end)&&wa._ts&&Oa!==wa){if(wa.parent!==this)return this.render(M,L,P);wa.render(0<wa._ts?(bb-wa._start)*wa._ts:(wa._dirty?wa.totalDuration():wa._tDur)+(bb-wa._start)*wa._ts,L,P||G&&(wa._initted||wa._startAt));if(va!==this._time||!this._ts&&!Sa){Oa=0;qa&&(ba+=this._zTime=bb?-1E-8:1E-8);break}}wa=qa}if(Oa&&!L&&
(this.pause(),Oa.render(va>=Z?0:-1E-8)._zTime=va>=Z?1:-1,this._ts))return this._start=Ca,Sc(this),this.render(M,L,P);this._onUpdate&&!L&&Dc(this,"onUpdate",!0);!(ba===O&&this._tTime>=this.totalDuration()||!ba&&Z)||Ca!==this._start&&Math.abs(Aa)===Math.abs(this._ts)||this._lock||((M||!U)&&(ba===O&&0<this._ts||!ba&&0>this._ts)&&nc(this,1),L||0>M&&!Z||!ba&&!Z&&O||(Dc(this,ba===O&&0<=M?"onComplete":"onReverseComplete",!0),!this._prom||ba<O&&0<this.timeScale()||this._prom()))}return this};Q.add=function(M,
L){var P=this;x(L)||(L=Qb(this,L,M));if(!(M instanceof Fb)){if(k(M))return M.forEach(function(Z){return P.add(Z,L)}),this;if(w(M))return this.addLabel(M,L);if(q(M))M=ob.delayedCall(0,M);else return this}return this!==M?fd(this,M,L):this};Q.getChildren=function(M,L,P,Z){void 0===M&&(M=!0);void 0===L&&(L=!0);void 0===P&&(P=!0);void 0===Z&&(Z=-1E8);for(var O=[],U=this._first;U;)U._start>=Z&&(U instanceof ob?L&&O.push(U):(P&&O.push(U),M&&O.push.apply(O,U.getChildren(!0,L,P)))),U=U._next;return O};Q.getById=
function(M){for(var L=this.getChildren(1,1,1),P=L.length;P--;)if(L[P].vars.id===M)return L[P]};Q.remove=function(M){if(w(M))return this.removeLabel(M);if(q(M))return this.killTweensOf(M);vc(this,M);M===this._recent&&(this._recent=this._last);return zb(this)};Q.totalTime=function(M,L){if(!arguments.length)return this._tTime;this._forcing=1;!this._dp&&this._ts&&(this._start=Sb(ua.time-(0<this._ts?M/this._ts:(this.totalDuration()-M)/-this._ts)));pa.prototype.totalTime.call(this,M,L);this._forcing=0;
return this};Q.addLabel=function(M,L){this.labels[M]=Qb(this,L);return this};Q.removeLabel=function(M){delete this.labels[M];return this};Q.addPause=function(M,L,P){L=ob.delayedCall(0,L||ia,P);L.data="isPause";this._hasPause=1;return fd(this,L,Qb(this,M))};Q.removePause=function(M){var L=this._first;for(M=Qb(this,M);L;)L._start===M&&"isPause"===L.data&&nc(L),L=L._next};Q.killTweensOf=function(M,L,P){P=this.getTweensOf(M,P);for(var Z=P.length;Z--;)Vc!==P[Z]&&P[Z].kill(M,L);return this};Q.getTweensOf=
function(M,L){var P=[];M=Rc(M);for(var Z=this._first,O=x(L),U;Z;){if(Z instanceof ob){for(var ba=Z._targets,qa=M,va=qa.length,Ca=0;0>ba.indexOf(qa[Ca])&&++Ca<va;);Ca<va&&(O?(!Vc||Z._initted&&Z._ts)&&Z.globalTime(0)<=L&&Z.globalTime(Z.totalDuration())>L:!L||Z.isActive())&&P.push(Z)}else(U=Z.getTweensOf(M,L)).length&&P.push.apply(P,U);Z=Z._next}return P};Q.tweenTo=function(M,L){L=L||{};var P=this,Z=Qb(P,M);M=L;var O=M.startAt,U=M.onStart,ba=M.onStartParams;M=M.immediateRender;var qa,va=ob.to(P,uc({ease:L.ease||
"none",lazy:!1,immediateRender:!1,time:Z,overwrite:"auto",duration:L.duration||Math.abs((Z-(O&&"time"in O?O.time:P._time))/P.timeScale())||1E-8,onStart:function(){P.pause();if(!qa){var Ca=L.duration||Math.abs((Z-(O&&"time"in O?O.time:P._time))/P.timeScale());va._dur!==Ca&&gd(va,Ca,0,1).render(va._time,!0,!0);qa=1}U&&U.apply(va,ba||[])}},L));return M?va.render(0):va};Q.tweenFromTo=function(M,L,P){return this.tweenTo(L,uc({startAt:{time:Qb(this,M)}},P))};Q.recent=function(){return this._recent};Q.nextLabel=
function(M){void 0===M&&(M=this._time);return gf(this,Qb(this,M))};Q.previousLabel=function(M){void 0===M&&(M=this._time);return gf(this,Qb(this,M),1)};Q.currentLabel=function(M){return arguments.length?this.seek(M,!0):this.previousLabel(this._time+1E-8)};Q.shiftChildren=function(M,L,P){void 0===P&&(P=0);for(var Z=this._first,O=this.labels,U;Z;)Z._start>=P&&(Z._start+=M,Z._end+=M),Z=Z._next;if(L)for(U in O)O[U]>=P&&(O[U]+=M);return zb(this)};Q.invalidate=function(M){var L=this._first;for(this._lock=
0;L;)L.invalidate(M),L=L._next;return pa.prototype.invalidate.call(this,M)};Q.clear=function(M){void 0===M&&(M=!0);for(var L=this._first,P;L;)P=L._next,this.remove(L),L=P;this._dp&&(this._time=this._tTime=this._pTime=0);M&&(this.labels={});return zb(this)};Q.totalDuration=function(M){var L=0,P=this._last,Z=1E8,O;if(arguments.length)return this.timeScale((0>this._repeat?this.duration():this.totalDuration())/(this.reversed()?-M:M));if(this._dirty){for(O=this.parent;P;){var U=P._prev;P._dirty&&P.totalDuration();
var ba=P._start;ba>Z&&this._sort&&P._ts&&!this._lock?(this._lock=1,fd(this,P,ba-P._delay,1)._lock=0):Z=ba;if(0>ba&&P._ts){L-=ba;if(!O&&!this._dp||O&&O.smoothChildTiming)this._start+=ba/this._ts,this._time-=ba,this._tTime-=ba;this.shiftChildren(-ba,!1,-Infinity);Z=0}P._end>L&&P._ts&&(L=P._end);P=U}gd(this,this===Kb&&this._time>L?this._time:L,1,1);this._dirty=0}return this._tDur};R.updateRoot=function(M){Kb._ts&&(Nc(Kb,Gd(M,Kb)),Ba=ua.frame);if(ua.frame>=Pa&&(Pa+=eb.autoSleep||120,M=Kb._first,(!M||
!M._ts)&&eb.autoSleep&&2>ua._listeners.length)){for(;M&&!M._ts;)M=M._next;M||ua.sleep()}};return R}(Fb);uc(Ub.prototype,{_lock:0,_hasPause:0,_forcing:0});var Tb=function(pa,R,Q,M,L,P,Z,O,U,ba){q(M)&&(M=M(L||0,pa,P));L=pa[R];P="get"!==Q?Q:q(L)?U?pa[R.indexOf("set")||!q(pa["get"+R.substr(3)])?R:"get"+R.substr(3)](U):pa[R]():L;Q=q(L)?U?vd:Mb:Vb;var qa;w(M)&&(~M.indexOf("random(")&&(M=Id(M)),"\x3d"===M.charAt(1)&&((qa=Dd(P,M)+(yc(P)||0))||0===qa))&&(M=qa);if(!ba||P!==M||zc){if(!isNaN(P*M)&&""!==M)return qa=
new Uc(this._pt,pa,R,+P||0,M-(P||0),"boolean"===typeof L?Jc:Xb,0,Q),U&&(qa.fp=U),Z&&qa.modifier(Z,this,pa),this._pt=qa;L||R in pa||N(R,M);L=P;P=O||eb.stringFilter;O=new Uc(this._pt,pa,R,0,1,wd,null,Q);Z=Q=0;var va;O.b=L;O.e=M;L+="";M+="";if(ba=~M.indexOf("random("))M=Id(M);P&&(M=[L,M],P(M,pa,R),L=M[0],M=M[1]);for(pa=L.match(m)||[];L=m.exec(M);)R=L[0],L=M.substring(Q,L.index),va?va=(va+1)%5:"rgba("===L.substr(-5)&&(va=1),R!==pa[Z++]&&(Q=parseFloat(pa[Z-1])||0,O._pt={_next:O._pt,p:L||1===Z?L:",",s:Q,
c:"\x3d"===R.charAt(1)?Dd(Q,R)-Q:parseFloat(R)-Q,m:va&&4>va?Math.round:0},Q=m.lastIndex);O.c=Q<M.length?M.substring(Q,M.length):"";O.fp=U;if(f.test(M)||ba)O.e=0;return this._pt=O}},rc=function(pa,R,Q,M,L,P){var Z,O;if(O=Na[pa]){O=Z=new Na[pa];var U=O.init;if(Z.rawVars)var ba=R[pa];else if(R=R[pa],q(R)&&(R=Lb(R,Q,M,L,P)),!g(R)||R.style&&R.nodeType||k(R)||h(R))ba=w(R)?Lb(R,Q,M,L,P):R;else{var qa={};for(ba in R)qa[ba]=Lb(R[ba],Q,M,L,P);ba=qa}O=!1!==U.call(O,L,ba,Q,M,P)}if(O&&(Q._pt=pa=new Uc(Q._pt,L,
pa,0,1,Z.render,Z,0,Z.priority),Q!==Oc))for(Q=Q._ptLookup[Q._targets.indexOf(L)],L=Z._props.length;L--;)Q[Z._props[L]]=pa;return Z},Vc,zc,ic=function L(R,Q,M){var P=R.vars,Z=P.ease,O=P.startAt,U=P.immediateRender,ba=P.lazy,qa=P.onUpdate,va=P.onUpdateParams,Ca=P.callbackScope,Aa=P.runBackwards,Sa=P.yoyoEase,Ia=P.keyframes,bb=P.autoRevert,gb=R._dur,wa=R._startAt,cb=R._targets,Oa=R.parent,Yb=Oa&&"nested"===Oa.data?Oa.vars.targets:cb,ub="auto"===R._overwrite&&!Y,Ya=R.timeline,kb,Ra,$a,Nb;!Ya||Ia&&Z||
(Z="none");R._ease=jb(Z,oa.ease);R._yEase=Sa?Qa(jb(!0===Sa?Z:Sa,oa.ease)):0;Sa&&R._yoyo&&!R._repeat&&(Sa=R._yEase,R._yEase=R._ease,R._ease=Sa);R._from=!Ya&&!!P.runBackwards;if(!Ya||Ia&&!P.stagger){var Bb=(Sa=cb[0]?gc(cb[0]).harness:0)&&P[Sa.prop];Z=pd(P,da);wa&&(0>wa._zTime&&wa.progress(1),0>Q&&Aa&&U&&!bb?wa.render(-1,!0):wa.revert(Aa&&gb?S:la),wa._lazy=0);if(O){if(nc(R._startAt=ob.set(cb,uc({data:"isStart",overwrite:!1,parent:Oa,immediateRender:!0,lazy:!wa&&!1!==ba,startAt:null,delay:0,onUpdate:qa,
onUpdateParams:va,callbackScope:Ca,stagger:0},O))),R._startAt._dp=0,R._startAt._sat=R,0>Q&&(G||!U&&!bb)&&R._startAt.revert(S),U&&gb&&0>=Q&&0>=M){Q&&(R._zTime=Q);return}}else if(Aa&&gb&&!wa){Q&&(U=!1);var hb=uc({overwrite:!1,data:"isFromStart",lazy:U&&!wa&&!1!==ba,immediateRender:U,stagger:0,parent:Oa},Z);Bb&&(hb[Sa.prop]=Bb);nc(R._startAt=ob.set(cb,hb));R._startAt._dp=0;R._startAt._sat=R;0>Q&&(G?R._startAt.revert(S):R._startAt.render(-1,!0));R._zTime=Q;if(!U)L(R._startAt,1E-8,1E-8);else if(!Q)return}R._pt=
R._ptCache=0;ba=gb&&!1!==ba||ba&&!gb;for(M=0;M<cb.length;M++){O=cb[M];U=O._gsap||Ab(cb)[M]._gsap;R._ptLookup[M]=Nb={};na[U.id]&&ma.length&&Xc();va=Yb===cb?M:Yb.indexOf(O);Sa&&!1!==($a=new Sa).init(O,Bb||Z,R,va,Yb)&&(R._pt=kb=new Uc(R._pt,O,$a.name,0,1,$a.render,$a,0,$a.priority),$a._props.forEach(function($c){Nb[$c]=kb}),$a.priority&&(Ra=1));if(!Sa||Bb)for(hb in Z)Na[hb]&&($a=rc(hb,Z,R,va,O,Yb))?$a.priority&&(Ra=1):Nb[hb]=kb=Tb.call(R,O,hb,"get",Z[hb],va,Yb,0,P.stringFilter);R._op&&R._op[M]&&R.kill(O,
R._op[M]);if(ub&&R._pt){Vc=R;Kb.killTweensOf(O,Nb,R.globalTime(Q));var Ac=!R.parent;Vc=0}R._pt&&ba&&(na[U.id]=1)}Ra&&Ie(R);R._onInit&&R._onInit(R)}R._onUpdate=qa;R._initted=(!R._op||R._pt)&&!Ac;Ia&&0>=Q&&Ya.render(1E8,!0,!0)},Wd=function(R,Q){R=(R=R[0]?gc(R[0]).harness:0)&&R.aliases;var M,L;if(!R)return Q;Q=Pb({},Q);for(M in R)if(M in Q){var P=R[M].split(",");for(L=P.length;L--;)Q[P[L]]=Q[M]}return Q},mc=function(R,Q,M,L){var P=Q.ease||L||"power1.inOut",Z;if(k(Q)){var O=M[R]||(M[R]=[]);Q.forEach(function(U,
ba){return O.push({t:ba/(Q.length-1)*100,v:U,e:P})})}else for(Z in Q)O=M[Z]||(M[Z]=[]),"ease"===Z||O.push({t:parseFloat(R),v:Q[Z],e:P})},Lb=function(R,Q,M,L,P){return q(R)?R.call(Q,M,L,P):w(R)&&~R.indexOf("random(")?Id(R):R},Zb=xb+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Wb={};qc(Zb+",id,stagger,delay,duration,paused,scrollTrigger",function(R){return Wb[R]=1});var ob=function(R){function Q(L,P,Z,O){"number"===typeof P&&(Z.duration=P,P=Z,Z=null);O=R.call(this,O?P:Ed(P))||this;var U=
O.vars,ba=U.duration,qa=U.delay,va=U.immediateRender,Ca=U.stagger,Aa=U.overwrite,Sa=U.keyframes,Ia=U.defaults,bb=U.scrollTrigger,gb=U.yoyoEase;U=P.parent||Kb;var wa=(k(L)||h(L)?x(L[0]):"length"in P)?[L]:Rc(L),cb;O._targets=wa.length?Ab(wa):!!eb.nullTargetWarn&&console.warn("GSAP target "+L+" not found. https://greensock.com")||[];O._ptLookup=[];O._overwrite=Aa;if(Sa||Ca||l(ba)||l(qa)){P=O.vars;var Oa=O.timeline=new Ub({data:"nested",defaults:Ia||{},targets:U&&"nested"===U.data?U.vars.targets:wa});
Oa.kill();Oa.parent=Oa._dp=sb(O);Oa._start=0;if(Ca||l(ba)||l(qa)){var Yb=wa.length;var ub=Ca&&sd(Ca);if(g(Ca))for(Ya in Ca)~Zb.indexOf(Ya)&&(cb||(cb={}),cb[Ya]=Ca[Ya]);for(L=0;L<Yb;L++){Ia=pd(P,Wb);Ia.stagger=0;gb&&(Ia.yoyoEase=gb);cb&&Pb(Ia,cb);var Ya=wa[L];Ia.duration=+Lb(ba,sb(O),L,Ya,wa);Ia.delay=(+Lb(qa,sb(O),L,Ya,wa)||0)-O._delay;!Ca&&1===Yb&&Ia.delay&&(O._delay=qa=Ia.delay,O._start+=qa,Ia.delay=0);Oa.to(Ya,Ia,ub?ub(L,Ya,wa):0);Oa._ease=V.none}Oa.duration()?ba=qa=0:O.timeline=0}else if(Sa)if(Ed(uc(Oa.vars.defaults,
{ease:"none"})),Oa._ease=jb(Sa.ease||P.ease||"none"),cb=0,k(Sa))Sa.forEach(function(kb){return Oa.to(wa,kb,"\x3e")}),Oa.duration();else{Ia={};for(Ya in Sa)"ease"===Ya||"easeEach"===Ya||mc(Ya,Sa[Ya],Ia,Sa.easeEach);for(Ya in Ia)for(Ca=Ia[Ya].sort(function(kb,Ra){return kb.t-Ra.t}),L=cb=0;L<Ca.length;L++)gb=Ca[L],Yb={ease:gb.e,duration:(gb.t-(L?Ca[L-1].t:0))/100*ba},Yb[Ya]=gb.v,Oa.to(wa,Yb,cb),cb+=Yb.duration;Oa.duration()<ba&&Oa.to({},{duration:ba-Oa.duration()})}ba||O.duration(ba=Oa.duration())}else O.timeline=
0;!0!==Aa||Y||(Vc=sb(O),Kb.killTweensOf(wa),Vc=0);fd(U,sb(O),Z);P.reversed&&O.reverse();P.paused&&O.paused(!0);if(va||!ba&&!Sa&&O._start===Sb(U._time)&&!1!==va&&xc(sb(O))&&"nested"!==U.data)O._tTime=-1E-8,O.render(Math.max(0,-qa)||0);bb&&Hd(sb(O),bb);return O}Ta(Q,R);var M=Q.prototype;M.render=function(L,P,Z){var O=this._time,U=this._tDur,ba=this._dur,qa=0>L,va=L>U-1E-8&&!qa?U:1E-8>L?0:L,Ca;if(!ba)if(U=Z,ba=this.ratio,Z=0>L||!L&&(!this._start&&Fe(this)&&(this._initted||!Sd(this))||(0>this._ts||0>
this._dp._ts)&&!Sd(this))?0:1,qa=this._rDelay,O=0,qa&&this._repeat&&(O=Yc(0,this._tDur,L),va=qd(O,qa),this._yoyo&&va&1&&(Z=1-Z),va!==qd(this._tTime,qa)&&(ba=1-Z,this.vars.repeatRefresh&&this._initted&&this.invalidate())),Z!==ba||G||U||1E-8===this._zTime||!L&&this._zTime){if(this._initted||!Cc(this,L,U,P,O)){U=this._zTime;this._zTime=L||(P?1E-8:0);P||(P=L&&!U);this.ratio=Z;this._from&&(Z=1-Z);this._time=0;this._tTime=O;for(U=this._pt;U;)U.r(Z,U.d),U=U._next;0>L&&Fd(this,L,P,!0);this._onUpdate&&!P&&
Dc(this,"onUpdate");O&&this._repeat&&!P&&this.parent&&Dc(this,"onRepeat");(L>=this._tDur||0>L)&&this.ratio===Z&&(Z&&nc(this,1),P||G||(Dc(this,Z?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else this._zTime||(this._zTime=L);else if(va!==this._tTime||!L||Z||!this._initted&&this._tTime||this._startAt&&0>this._zTime!==qa){var Aa=va;var Sa=this.timeline;if(this._repeat){var Ia=ba+this._rDelay;if(-1>this._repeat&&qa)return this.totalTime(100*Ia+L,P,Z);Aa=Sb(va%Ia);if(va===U){var bb=
this._repeat;Aa=ba}else(bb=~~(va/Ia))&&bb===va/Ia&&(Aa=ba,bb--),Aa>ba&&(Aa=ba);if(Ca=this._yoyo&&bb&1){var gb=this._yEase;Aa=ba-Aa}var wa=qd(this._tTime,Ia);if(Aa===O&&!Z&&this._initted)return this._tTime=va,this;bb!==wa&&(Sa&&this._yEase&&ab(Sa,Ca),!this.vars.repeatRefresh||Ca||this._lock||(this._lock=Z=1,this.render(Sb(Ia*bb),!0).invalidate()._lock=0))}if(!this._initted){if(Cc(this,qa?L:Aa,Z,P,va))return this._tTime=0,this;if(O!==this._time)return this;if(ba!==this._dur)return this.render(L,P,Z)}this._tTime=
va;this._time=Aa;!this._act&&this._ts&&(this._act=1,this._lazy=0);this.ratio=gb=(gb||this._ease)(Aa/ba);this._from&&(this.ratio=gb=1-gb);if(Aa&&!O&&!P&&(Dc(this,"onStart"),this._tTime!==va))return this;for(Ia=this._pt;Ia;)Ia.r(gb,Ia.d),Ia=Ia._next;Sa&&Sa.render(0>L?L:!Aa&&Ca?-1E-8:Sa._dur*Sa._ease(Aa/this._dur),P,Z)||this._startAt&&(this._zTime=L);this._onUpdate&&!P&&(qa&&Fd(this,L,P,Z),Dc(this,"onUpdate"));this._repeat&&bb!==wa&&this.vars.onRepeat&&!P&&this.parent&&Dc(this,"onRepeat");va!==this._tDur&&
va||this._tTime!==va||(qa&&!this._onUpdate&&Fd(this,L,!0,!0),(L||!ba)&&(va===this._tDur&&0<this._ts||!va&&0>this._ts)&&nc(this,1),P||qa&&!O||!(va||O||Ca)||(Dc(this,va===U?"onComplete":"onReverseComplete",!0),!this._prom||va<U&&0<this.timeScale()||this._prom()))}return this};M.targets=function(){return this._targets};M.invalidate=function(L){L&&this.vars.runBackwards||(this._startAt=0);this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0;this._ptLookup=[];this.timeline&&this.timeline.invalidate(L);
return R.prototype.invalidate.call(this,L)};M.resetTo=function(L,P,Z,O){Vd||ua.wake();this._ts||this.play();var U=Math.min(this._dur,(this._dp._time-this._start)*this._ts);this._initted||ic(this,U);var ba=this._ease(U/this._dur);a:{var qa=(this._pt&&this._ptCache||(this._ptCache={}))[L],va,Ca;if(!qa){qa=this._ptCache[L]=[];var Aa=this._ptLookup;for(Ca=this._targets.length;Ca--;){if((va=Aa[Ca][L])&&va.d&&va.d._pt)for(va=va.d._pt;va&&va.p!==L&&va.fp!==L;)va=va._next;if(!va){zc=1;this.vars[L]="+\x3d0";
ic(this,U);zc=0;ba=1;break a}qa.push(va)}}for(Ca=qa.length;Ca--;)U=qa[Ca],va=U._pt||U,va.s=!Z&&0!==Z||O?va.s+(Z||0)+ba*va.c:Z,va.c=P-va.s,U.e&&(U.e=ac(P)+yc(U.e)),U.b&&(U.b=va.s+yc(U.b));ba=void 0}if(ba)return this.resetTo(L,P,Z,O);Tc(this,0);this.parent||Rd(this._dp,this,"_first","_last",this._dp._sort?"_start":0);return this.render(0)};M.kill=function(L,P){void 0===P&&(P="all");if(!(L||P&&"all"!==P))return this._lazy=this._pt=0,this.parent?de(this):this;if(this.timeline){var Z=this.timeline.totalDuration();
this.timeline.killTweensOf(L,P,Vc&&!0!==Vc.vars.overwrite)._first||de(this);this.parent&&Z!==this.timeline.totalDuration()&&gd(this,this._dur*this.timeline._tDur/Z,0,1);return this}Z=this._targets;L=L?Rc(L):Z;var O=this._ptLookup,U=this._pt,ba;if((!P||"all"===P)&&Qd(Z,L))return"all"===P&&(this._pt=0),de(this);var qa=this._op=this._op||[];if("all"!==P){if(w(P)){var va={};qc(P,function(Ia){return va[Ia]=1});P=va}P=Wd(Z,P)}for(ba=Z.length;ba--;)if(~L.indexOf(Z[ba])){var Ca=O[ba];if("all"===P){qa[ba]=
P;var Aa=Ca;var Sa={}}else Sa=qa[ba]=qa[ba]||{},Aa=P;for(va in Aa){if(Aa=Ca&&Ca[va])"kill"in Aa.d&&!0!==Aa.d.kill(va)||vc(this,Aa,"_pt"),delete Ca[va];"all"!==Sa&&(Sa[va]=1)}}this._initted&&!this._pt&&U&&de(this);return this};Q.to=function(L,P,Z){return new Q(L,P,Z)};Q.from=function(L,P){return Ma(1,arguments)};Q.delayedCall=function(L,P,Z,O){return new Q(P,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:L,onComplete:P,onReverseComplete:P,onCompleteParams:Z,onReverseCompleteParams:Z,callbackScope:O})};
Q.fromTo=function(L,P,Z){return Ma(2,arguments)};Q.set=function(L,P){P.duration=0;P.repeatDelay||(P.repeat=0);return new Q(L,P)};Q.killTweensOf=function(L,P,Z){return Kb.killTweensOf(L,P,Z)};return Q}(Fb);uc(ob.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});qc("staggerTo,staggerFrom,staggerFromTo",function(R){ob[R]=function(){var Q=new Ub,M=ie.call(arguments,0);M.splice("staggerFromTo"===R?5:4,0,0);return Q[R].apply(Q,M)}});var Vb=function(R,Q,M){return R[Q]=M},Mb=function(R,Q,M){return R[Q](M)},
vd=function(R,Q,M,L){return R[Q](L.fp,M)},Ec=function(R,Q,M){return R.setAttribute(Q,M)},dc=function(R,Q){return q(R[Q])?Mb:v(R[Q])&&R.setAttribute?Ec:Vb},Xb=function(R,Q){return Q.set(Q.t,Q.p,Math.round(1E6*(Q.s+Q.c*R))/1E6,Q)},Jc=function(R,Q){return Q.set(Q.t,Q.p,!!(Q.s+Q.c*R),Q)},wd=function(R,Q){var M=Q._pt,L="";if(!R&&Q.b)L=Q.b;else if(1===R&&Q.e)L=Q.e;else{for(;M;)L=M.p+(M.m?M.m(M.s+M.c*R):Math.round(1E4*(M.s+M.c*R))/1E4)+L,M=M._next;L+=Q.c}Q.set(Q.t,Q.p,L,Q)},Ha=function(R,Q){for(Q=Q._pt;Q;)Q.r(R,
Q.d),Q=Q._next},Ud=function(R,Q,M,L){for(var P=this._pt,Z;P;)Z=P._next,P.p===L&&P.modifier(R,Q,M),P=Z},fg=function(R){for(var Q=this._pt,M,L;Q;)L=Q._next,Q.p===R&&!Q.op||Q.op===R?vc(this,Q,"_pt"):Q.dep||(M=1),Q=L;return!M},Pf=function(R,Q,M,L){L.mSet(R,Q,L.m.call(L.tween,M,L.mt),L)},Ie=function(R){for(var Q=R._pt,M,L,P,Z;Q;){M=Q._next;for(L=P;L&&L.pr>Q.pr;)L=L._next;(Q._prev=L?L._prev:Z)?Q._prev._next=Q:P=Q;(Q._next=L)?L._prev=Q:Z=Q;Q=M}R._pt=P},Uc=function(){function R(Q,M,L,P,Z,O,U,ba,qa){this.t=
M;this.s=P;this.c=Z;this.p=L;this.r=O||Xb;this.d=U||this;this.set=ba||Vb;this.pr=qa||0;if(this._next=Q)Q._prev=this}R.prototype.modifier=function(Q,M,L){this.mSet=this.mSet||this.set;this.set=Pf;this.m=Q;this.mt=L;this.tween=M};return R}();qc(xb+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(R){return da[R]=
1});A.TweenMax=A.TweenLite=ob;A.TimelineLite=A.TimelineMax=Ub;var Kb=new Ub({sortChildren:!1,defaults:oa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});eb.stringFilter=Jd;var Gc=[],me={},jc=[],ad=0,Bc=function(R){return(me[R]||jc).map(function(Q){return Q()})},Xd=function(){var R=Date.now(),Q=[];2<R-ad&&(Bc("matchMediaInit"),Gc.forEach(function(M){var L=M.queries,P=M.conditions,Z,O,U;for(O in L)if((Z=t.matchMedia(L[O]).matches)&&(U=1),Z!==P[O]){P[O]=Z;var ba=1}ba&&(M.revert(),U&&Q.push(M))}),
Bc("matchMediaRevert"),Q.forEach(function(M){return M.onMatch(M)}),ad=R,Bc("matchMedia"))},bd=function(){function R(M,L){this.selector=L&&be(L);this.data=[];this._r=[];this.isReverted=!1;M&&this.add(M)}var Q=R.prototype;Q.add=function(M,L,P){q(M)&&(P=L,L=M,M=q);var Z=this,O=function(){var U=X,ba=Z.selector;U&&U!==Z&&U.data.push(Z);P&&(Z.selector=be(P));X=Z;var qa=L.apply(Z,arguments);q(qa)&&Z._r.push(qa);X=U;Z.selector=ba;Z.isReverted=!1;return qa};Z.last=O;return M===q?O(Z):M?Z[M]=O:O};Q.ignore=
function(M){var L=X;X=null;M(this);X=L};Q.getTweens=function(){var M=[];this.data.forEach(function(L){return L instanceof R?M.push.apply(M,L.getTweens()):L instanceof ob&&!(L.parent&&"nested"===L.parent.data)&&M.push(L)});return M};Q.clear=function(){this._r.length=this.data.length=0};Q.kill=function(M,L){var P=this;if(M){var Z=this.getTweens();this.data.forEach(function(O){"isFlip"===O.data&&(O.revert(),O.getChildren(!0,!0,!1).forEach(function(U){return Z.splice(Z.indexOf(U),1)}))});Z.map(function(O){return{g:O.globalTime(0),
t:O}}).sort(function(O,U){return U.g-O.g||-1}).forEach(function(O){return O.t.revert(M)});this.data.forEach(function(O){return!(O instanceof Fb)&&O.revert&&O.revert(M)});this._r.forEach(function(O){return O(M,P)});this.isReverted=!0}else this.data.forEach(function(O){return O.kill&&O.kill()});this.clear();L&&(L=Gc.indexOf(this),~L&&Gc.splice(L,1))};Q.revert=function(M){this.kill(M||{})};return R}(),hd=function(){function R(M){this.contexts=[];this.scope=M}var Q=R.prototype;Q.add=function(M,L,P){g(M)||
(M={matches:M});P=new bd(0,P||this.scope);var Z=P.conditions={},O,U;this.contexts.push(P);L=P.add("onMatch",L);P.queries=M;for(U in M)if("all"===U)var ba=1;else if(O=t.matchMedia(M[U]))0>Gc.indexOf(P)&&Gc.push(P),(Z[U]=O.matches)&&(ba=1),O.addListener?O.addListener(Xd):O.addEventListener("change",Xd);ba&&L(P);return this};Q.revert=function(M){this.kill(M||{})};Q.kill=function(M){this.contexts.forEach(function(L){return L.kill(M,!0)})};return R}(),Yd={registerPlugin:function(){for(var R=arguments.length,
Q=Array(R),M=0;M<R;M++)Q[M]=arguments[M];Q.forEach(function(L){return Ib(L)})},timeline:function(R){return new Ub(R)},getTweensOf:function(R,Q){return Kb.getTweensOf(R,Q)},getProperty:function(R,Q,M,L){w(R)&&(R=Rc(R)[0]);var P=gc(R||{}).get,Z=M?od:Od;"native"===M&&(M="");return R?Q?Z((Na[Q]&&Na[Q].get||P)(R,Q,M,L)):function(O,U,ba){return Z((Na[O]&&Na[O].get||P)(R,O,U,ba))}:R},quickSetter:function(R,Q,M){R=Rc(R);if(1<R.length){var L=R.map(function(qa){return Hb.quickSetter(qa,Q,M)}),P=L.length;return function(qa){for(var va=
P;va--;)L[va](qa)}}R=R[0]||{};var Z=Na[Q],O=gc(R),U=O.harness&&(O.harness.aliases||{})[Q]||Q,ba=Z?function(qa){var va=new Z;Oc._pt=0;va.init(R,M?qa+M:qa,Oc,0,[R]);va.render(1,va);Oc._pt&&Ha(1,Oc)}:O.set(R,U);return Z?ba:function(qa){return ba(R,U,M?qa+M:qa,O,1)}},quickTo:function(R,Q,M){var L,P=Hb.to(R,Pb((L={},L[Q]="+\x3d0.1",L.paused=!0,L),M||{}));R=function(Z,O,U){return P.resetTo(Q,Z,O,U)};R.tween=P;return R},isTweening:function(R){return 0<Kb.getTweensOf(R,!0).length},defaults:function(R){R&&
R.ease&&(R.ease=jb(R.ease,oa.ease));return Pd(oa,R||{})},config:function(R){return Pd(eb,R||{})},registerEffect:function(R){var Q=R.name,M=R.effect,L=R.defaults,P=R.extendTimeline;(R.plugins||"").split(",").forEach(function(Z){return Z&&!Na[Z]&&!A[Z]&&console.warn(Q+" effect requires "+Z+" plugin.")});ra[Q]=function(Z,O,U){return M(Rc(Z),uc(O||{},L),U)};P&&(Ub.prototype[Q]=function(Z,O,U){return this.add(ra[Q](Z,g(O)?O:(U=O)&&{},this),U)})},registerEase:function(R,Q){V[R]=jb(Q)},parseEase:function(R,
Q){return arguments.length?jb(R,Q):V},getById:function(R){return Kb.getById(R)},exportRoot:function(R,Q){void 0===R&&(R={});var M=new Ub(R);M.smoothChildTiming=!1!==R.smoothChildTiming;Kb.remove(M);M._dp=0;M._time=M._tTime=Kb._time;for(R=Kb._first;R;){var L=R._next;!Q&&!R._dur&&R instanceof ob&&R.vars.onComplete===R._targets[0]||fd(M,R,R._start-R._delay);R=L}fd(Kb,M,0);return M},context:function(R,Q){return R?new bd(R,Q):X},matchMedia:function(R){return new hd(R)},matchMediaRefresh:function(){return Gc.forEach(function(R){var Q=
R.conditions,M;for(M in Q)if(Q[M]){Q[M]=!1;var L=1}L&&R.revert()})||Xd()},addEventListener:function(R,Q){R=me[R]||(me[R]=[]);~R.indexOf(Q)||R.push(Q)},removeEventListener:function(R,Q){Q=(R=me[R])&&R.indexOf(Q);0<=Q&&R.splice(Q,1)},utils:{wrap:function P(Q,M,L){var Z=M-Q;return k(Q)?je(Q,P(0,Q.length),M):rd(L,function(O){return(Z+(O-Q)%Z)%Z+Q})},wrapYoyo:function Z(M,L,P){var O=L-M,U=2*O;return k(M)?je(M,Z(0,M.length-1),L):rd(P,function(ba){ba=(U+(ba-M)%U)%U||0;return M+(ba>O?U-ba:ba)})},distribute:sd,
random:Ge,snap:ce,normalize:function(M,L,P){return Ye(M,L,0,1,P)},getUnit:yc,clamp:function(M,L,P){return rd(P,function(Z){return Yc(M,L,Z)})},splitColor:le,toArray:Rc,selector:be,mapRange:Ye,pipe:function(){for(var M=arguments.length,L=Array(M),P=0;P<M;P++)L[P]=arguments[P];return function(Z){return L.reduce(function(O,U){return U(O)},Z)}},unitize:function(M,L){return function(P){return M(parseFloat(P))+(L||yc(P))}},interpolate:function U(L,P,Z,O){var ba=isNaN(L+P)?0:function(bb){return(1-bb)*L+
bb*P};if(!ba){var qa=w(L),va={},Ca;!0===Z&&(O=1)&&(Z=null);if(qa)L={p:L},P={p:P};else if(k(L)&&!k(P)){var Aa=[];var Sa=L.length;var Ia=Sa-2;for(Z=1;Z<Sa;Z++)Aa.push(U(L[Z-1],L[Z]));Sa--;ba=function(bb){bb*=Sa;var gb=Math.min(Ia,~~bb);return Aa[gb](bb-gb)};Z=P}else O||(L=Pb(k(L)?[]:{},L));if(!Aa){for(Ca in P)Tb.call(va,L,Ca,"get",P[Ca]);ba=function(bb){return Ha(bb,va)||(qa?L.p:L)}}}return rd(Z,ba)},shuffle:wc},install:J,effects:ra,ticker:ua,updateRoot:Ub.updateRoot,plugins:Na,globalTimeline:Kb,core:{PropTween:Uc,
globals:ea,Tween:ob,Timeline:Ub,Animation:Fb,getCache:gc,_removeLinkedListItem:vc,reverting:function(){return G},context:function(L){L&&X&&(X.data.push(L),L._ctx=X);return X},suppressOverwrites:function(L){return Y=L}}};qc("to,from,fromTo,delayedCall,set,killTweensOf",function(L){return Yd[L]=ob[L]});ua.add(Ub.updateRoot);var Oc=Yd.to({},{duration:0});var Je=function(L,P){var Z=L._targets,O,U,ba;for(O in P)for(U=Z.length;U--;)if((ba=L._ptLookup[U][O])&&(ba=ba.d)){if(ba._pt)for(ba=ba._pt;ba&&ba.p!==
O&&ba.op!==O&&ba.fp!==O;)ba=ba._next;ba&&ba.modifier&&ba.modifier(P[O],L,Z[U],O)}},cd=function(L,P){return{name:L,rawVars:1,init:function(Z,O,U){U._onInit=function(ba){var qa;if(w(O)){var va={};qc(O,function(Ca){return va[Ca]=1});O=va}if(P){va={};for(qa in O)va[qa]=P(O[qa]);O=va}Je(ba,O)}}}},Hb=Yd.registerPlugin({name:"attr",init:function(L,P,Z,O,U){var ba;this.tween=Z;for(ba in P){var qa=L.getAttribute(ba)||"";Z=this.add(L,"setAttribute",(qa||0)+"",P[ba],O,U,0,0,ba);Z.op=ba;Z.b=qa;this._props.push(ba)}},
render:function(L,P){for(P=P._pt;P;)G?P.set(P.t,P.p,P.b,P):P.r(L,P.d),P=P._next}},{name:"endArray",init:function(L,P){for(var Z=P.length;Z--;)this.add(L,Z,L[Z]||0,P[Z],0,0,0,0,0,1)}},cd("roundProps",td),cd("modifiers"),cd("snap",ce))||Yd;ob.version=Ub.version=Hb.version="3.11.4";var uf=1;"undefined"!==typeof window&&ha();var id=V.Power0,we=V.Power1,jf=V.Power2,ee=V.Power3,Kd=V.Power4,Ze=V.Linear,gg=V.Quad,ne=V.Cubic,Ke=V.Quart,xd=V.Quint,vf=V.Strong,hg=V.Elastic,Qf=V.Back,wf=V.SteppedEase,$e=V.Bounce,
fe=V.Sine,af=V.Expo,Rf=V.Circ,jd,yd,ge,kf,oe,lf,ib,Xa={},lb=180/Math.PI,yb=Math.PI/180,Jb=Math.atan2,Rb=/([A-Z])/g,$b=/(left|right|width|margin|padding|x)/i,Fc=/[\s,\(]\S/,Ob={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},dd=function(L,P){return P.set(P.t,P.p,Math.round(1E4*(P.s+P.c*L))/1E4+P.u,P)},pe=function(L,P){return P.set(P.t,P.p,1===L?P.e:Math.round(1E4*(P.s+P.c*L))/1E4+P.u,P)},kc=function(L,P){return P.set(P.t,P.p,L?Math.round(1E4*(P.s+P.c*L))/1E4+P.u:P.b,P)},kd=function(L,
P){L=P.s+P.c*L;P.set(P.t,P.p,~~(L+(0>L?-.5:.5))+P.u,P)},Se=function(L,P){return P.set(P.t,P.p,L?P.e:P.b,P)},Zd=function(L,P){return P.set(P.t,P.p,1!==L?P.b:P.e,P)},bf=function(L,P,Z){return L.style[P]=Z},sh=function(L,P,Z){return L.style.setProperty(P,Z)},th=function(L,P,Z){return L._gsap[P]=Z},Sf=function(L,P,Z){return L._gsap.scaleX=L._gsap.scaleY=Z},uh=function(L,P,Z,O,U){L=L._gsap;L.scaleX=L.scaleY=Z;L.renderTransform(U,L)},ig=function(L,P,Z,O,U){L=L._gsap;L[P]=Z;L.renderTransform(U,L)},sc="transform",
qe=sc+"Origin",Jg=function(L,P){var Z=this,O=this.target,U=O.style;if(L in Xa){this.tfm=this.tfm||{};"transform"!==L&&(L=Ob[L]||L,~L.indexOf(",")?L.split(",").forEach(function(ba){return Z.tfm[ba]=xe(O,ba)}):this.tfm[L]=O._gsap.x?O._gsap[L]:xe(O,L));if(0<=this.props.indexOf(sc))return;O._gsap.svg&&(this.svgo=O.getAttribute("data-svg-origin"),this.props.push(qe,P,""));L=sc}(U||P)&&this.props.push(L,P,U[L])},Kg=function(L){L.translate&&(L.removeProperty("translate"),L.removeProperty("scale"),L.removeProperty("rotate"))},
vh=function(){var L=this.props,P=this.target,Z=P.style,O=P._gsap,U,ba;for(U=0;U<L.length;U+=3)L[U+1]?P[L[U]]=L[U+2]:L[U+2]?Z[L[U]]=L[U+2]:Z.removeProperty(L[U].replace(Rb,"-$1").toLowerCase());if(this.tfm){for(ba in this.tfm)O[ba]=this.tfm[ba];O.svg&&(O.renderTransform(),P.setAttribute("data-svg-origin",this.svgo||""));!(U=ib())||U.isStart||Z[sc]||(Kg(Z),O.uncache=1)}},Lg=function(L,P){var Z={target:L,props:[],revert:vh,save:Jg};P&&P.split(",").forEach(function(O){return Z.save(O)});return Z},Mg,
Tf=function(L,P){P=yd.createElementNS?yd.createElementNS((P||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),L):yd.createElement(L);return P.style?P:yd.createElement(L)},ye=function U(P,Z,O){var ba=getComputedStyle(P);return ba[Z]||ba.getPropertyValue(Z.replace(Rb,"-$1").toLowerCase())||ba.getPropertyValue(Z)||!O&&U(P,mf(Z)||Z,1)||""},Ng=["O","Moz","ms","Ms","Webkit"],mf=function(P,Z,O){Z=(Z||oe).style;var U=5;if(P in Z&&!O)return P;for(P=P.charAt(0).toUpperCase()+P.substr(1);U--&&!(Ng[U]+
P in Z););return 0>U?null:(3===U?"ms":0<=U?Ng[U]:"")+P},Og=function(){"undefined"!==typeof window&&window.document&&(jd=window,yd=jd.document,ge=yd.documentElement,oe=Tf("div")||{style:{}},Tf("div"),sc=mf(sc),qe=sc+"Origin",oe.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Mg=!!mf("perspective"),ib=Hb.core.reverting,kf=1)},jg=function O(Z){var U=Tf("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),ba=this.parentNode,qa=
this.nextSibling,va=this.style.cssText;ge.appendChild(U);U.appendChild(this);this.style.display="block";if(Z)try{var Ca=this.getBBox();this._gsapBBox=this.getBBox;this.getBBox=O}catch(Aa){}else this._gsapBBox&&(Ca=this._gsapBBox());ba&&(qa?ba.insertBefore(this,qa):ba.appendChild(this));ge.removeChild(U);this.style.cssText=va;return Ca},wh=function(Z,O){for(var U=O.length;U--;)if(Z.hasAttribute(O[U]))return Z.getAttribute(O[U])},Pg=function(Z){try{var O=Z.getBBox()}catch(U){O=jg.call(Z,!0)}O&&(O.width||
O.height)||Z.getBBox===jg||(O=jg.call(Z,!0));return!O||O.width||O.x||O.y?O:{x:+wh(Z,["x","cx","x1"])||0,y:+wh(Z,["y","cy","y1"])||0,width:0,height:0}},xf=function(Z,O){if(O)if(Z=Z.style,O in Xa&&O!==qe&&(O=sc),Z.removeProperty){if("ms"===O.substr(0,2)||"webkit"===O.substr(0,6))O="-"+O;Z.removeProperty(O.replace(Rb,"-$1").toLowerCase())}else Z.removeAttribute(O)},Te=function(Z,O,U,ba,qa,va){O=new Uc(Z._pt,O,U,0,1,va?Zd:Se);Z._pt=O;O.b=ba;O.e=qa;Z._props.push(U);return O},Qg={deg:1,rad:1,turn:1},yf=
{grid:1,flex:1},Le=function va(O,U,ba,qa){var Ca=parseFloat(ba)||0,Aa=(ba+"").trim().substr((Ca+"").length)||"px",Sa=oe.style,Ia=$b.test(U),bb="svg"===O.tagName.toLowerCase(),gb=(bb?"client":"offset")+(Ia?"Width":"Height"),wa="px"===qa,cb="%"===qa;if(qa===Aa||!Ca||Qg[qa]||Qg[Aa])return Ca;"px"!==Aa&&!wa&&(Ca=va(O,U,ba,"px"));ba=O.getCTM&&!(!O.getCTM||O.parentNode&&!O.ownerSVGElement||!Pg(O));if((cb||"%"===Aa)&&(Xa[U]||~U.indexOf("adius")))return O=ba?O.getBBox()[Ia?"width":"height"]:O[gb],ac(cb?Ca/
O*100:Ca/100*O);Sa[Ia?"width":"height"]=100+(wa?Aa:qa);U=~U.indexOf("adius")||"em"===qa&&O.appendChild&&!bb?O:O.parentNode;ba&&(U=(O.ownerSVGElement||{}).parentNode);U&&U!==yd&&U.appendChild||(U=yd.body);if((qa=U._gsap)&&cb&&qa.width&&Ia&&qa.time===ua.time&&!qa.uncache)return ac(Ca/qa.width*100);!cb&&"%"!==Aa||yf[ye(U,"display")]||(Sa.position=ye(O,"position"));U===O&&(Sa.position="static");U.appendChild(oe);O=oe[gb];U.removeChild(oe);Sa.position="absolute";Ia&&cb&&(qa=gc(U),qa.time=ua.time,qa.width=
U[gb]);return ac(wa?O*Ca/100:O&&Ca?100/O*Ca:0)},xe=function(O,U,ba,qa){kf||Og();U in Ob&&"transform"!==U&&(U=Ob[U],~U.indexOf(",")&&(U=U.split(",")[0]));if(Xa[U]&&"transform"!==U){var va=zf(O,qa);va="transformOrigin"!==U?va[U]:va.svg?va.origin:Uf(ye(O,qe))+" "+va.zOrigin+"px"}else if(va=O.style[U],!va||"auto"===va||qa||~(va+"").indexOf("calc("))va=Vf[U]&&Vf[U](O,U,ba)||ye(O,U)||cc(O,U)||("opacity"===U?1:0);return ba&&!~(va+"").trim().indexOf(" ")?Le(O,U,va,ba)+ba:va},Rg={top:"0%",bottom:"100%",left:"0%",
right:"100%",center:"50%"},xh=function(O,U){if(U.tween&&U.tween._time===U.tween._dur){O=U.t;var ba=O.style;U=U.u;var qa=O._gsap,va;if("all"===U||!0===U){ba.cssText="";var Ca=1}else for(U=U.split(","),va=U.length;-1<--va;){var Aa=U[va];Xa[Aa]&&(Ca=1,Aa="transformOrigin"===Aa?qe:sc);xf(O,Aa)}Ca&&(xf(O,sc),qa&&(qa.svg&&O.removeAttribute("transform"),zf(O,1),qa.uncache=1,Kg(ba)))}},Vf={clearProps:function(O,U,ba,qa,va){if("isFromStart"!==va.data)return U=O._pt=new Uc(O._pt,U,ba,0,0,xh),U.u=qa,U.pr=-10,
U.tween=va,O._props.push(ba),1}},Af=[1,0,0,1,0,0],Sg={},ld=function(O){return"matrix(1, 0, 0, 1, 0, 0)"===O||"none"===O||!O},Tg=function(O){O=ye(O,sc);return ld(O)?Af:O.substr(7).match(r).map(ac)},kg=function(O,U){var ba=O._gsap||gc(O),qa=O.style,va=Tg(O);if(ba.svg&&O.getAttribute("transform")){var Ca=O.transform.baseVal.consolidate().matrix;va=[Ca.a,Ca.b,Ca.c,Ca.d,Ca.e,Ca.f];return"1,0,0,1,0,0"===va.join(",")?Af:va}if(va===Af&&!O.offsetParent&&O!==ge&&!ba.svg){Ca=qa.display;qa.display="block";ba=
O.parentNode;if(!ba||!O.offsetParent){var Aa=1;var Sa=O.nextElementSibling;ge.appendChild(O)}va=Tg(O);Ca?qa.display=Ca:xf(O,"display");Aa&&(Sa?ba.insertBefore(O,Sa):ba?ba.appendChild(O):ge.removeChild(O))}return U&&6<va.length?[va[0],va[1],va[4],va[5],va[12],va[13]]:va},lg=function(O,U,ba,qa,va,Ca){var Aa=O._gsap,Sa=va||kg(O,!0);va=Aa.xOrigin||0;var Ia=Aa.yOrigin||0,bb=Aa.xOffset||0,gb=Aa.yOffset||0,wa=Sa[0],cb=Sa[1],Oa=Sa[2],Yb=Sa[3],ub=Sa[4],Ya=Sa[5],kb=U.split(" "),Ra=parseFloat(kb[0])||0,$a=parseFloat(kb[1])||
0;if(ba)Sa!==Af&&(Nb=wa*Yb-cb*Oa)&&(kb=-cb/Nb*Ra+wa/Nb*$a-(wa*Ya-cb*ub)/Nb,Ra=Yb/Nb*Ra+-Oa/Nb*$a+(Oa*Ya-Yb*ub)/Nb,$a=kb);else{var Nb=Pg(O);Ra=Nb.x+(~kb[0].indexOf("%")?Ra/100*Nb.width:Ra);$a=Nb.y+(~(kb[1]||kb[0]).indexOf("%")?$a/100*Nb.height:$a)}qa||!1!==qa&&Aa.smooth?(ub=Ra-va,Ya=$a-Ia,Aa.xOffset=bb+(ub*wa+Ya*Oa)-ub,Aa.yOffset=gb+(ub*cb+Ya*Yb)-Ya):Aa.xOffset=Aa.yOffset=0;Aa.xOrigin=Ra;Aa.yOrigin=$a;Aa.smooth=!!qa;Aa.origin=U;Aa.originIsAbsolute=!!ba;O.style[qe]="0px 0px";Ca&&(Te(Ca,Aa,"xOrigin",
va,Ra),Te(Ca,Aa,"yOrigin",Ia,$a),Te(Ca,Aa,"xOffset",bb,Aa.xOffset),Te(Ca,Aa,"yOffset",gb,Aa.yOffset));O.setAttribute("data-svg-origin",Ra+" "+$a)},zf=function(O,U){var ba=O._gsap||new mb(O);if("x"in ba&&!U&&!ba.uncache)return ba;var qa=O.style,va=0>ba.scaleX,Ca=getComputedStyle(O),Aa=ye(O,qe)||"0",Sa,Ia,bb,gb,wa,cb,Oa,Yb,ub,Ya;var kb=Sa=Ia=gb=wa=cb=Oa=Yb=ub=0;var Ra=bb=1;ba.svg=!(!O.getCTM||!O.getCTM||O.parentNode&&!O.ownerSVGElement||!Pg(O));if(Ca.translate){if("none"!==Ca.translate||"none"!==Ca.scale||
"none"!==Ca.rotate)qa[sc]=("none"!==Ca.translate?"translate3d("+(Ca.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==Ca.rotate?"rotate("+Ca.rotate+") ":"")+("none"!==Ca.scale?"scale("+Ca.scale.split(" ").join(",")+") ":"")+("none"!==Ca[sc]?Ca[sc]:"");qa.scale=qa.rotate=qa.translate="none"}var $a=kg(O,ba.svg);if(ba.svg){if(ba.uncache){var Nb=O.getBBox();Aa=ba.xOrigin-Nb.x+"px "+(ba.yOrigin-Nb.y)+"px";var Bb=""}else Bb=!U&&O.getAttribute("data-svg-origin");lg(O,Bb||Aa,!!Bb||ba.originIsAbsolute,
!1!==ba.smooth,$a)}Bb=ba.xOrigin||0;Nb=ba.yOrigin||0;if($a!==Af){Ca=$a[0];var hb=$a[1];var Ac=$a[2];var $c=$a[3];kb=Oa=$a[4];Sa=Ya=$a[5];if(6===$a.length)Ra=Math.sqrt(Ca*Ca+hb*hb),bb=Math.sqrt($c*$c+Ac*Ac),gb=Ca||hb?Jb(hb,Ca)*lb:0,(Oa=Ac||$c?Jb(Ac,$c)*lb+gb:0)&&(bb*=Math.abs(Math.cos(Oa*yb))),ba.svg&&(kb-=Bb-(Bb*Ca+Nb*Ac),Sa-=Nb-(Bb*hb+Nb*$c));else{bb=$a[6];cb=$a[7];gb=$a[8];Ra=$a[9];var he=$a[10];ub=$a[11];kb=$a[12];Sa=$a[13];Ia=$a[14];Bb=Jb(bb,he);wa=Bb*lb;if(Bb){$a=Math.cos(-Bb);var ec=Math.sin(-Bb);
Bb=Oa*$a+gb*ec;Nb=Ya*$a+Ra*ec;var ze=bb*$a+he*ec;gb=Oa*-ec+gb*$a;Ra=Ya*-ec+Ra*$a;he=bb*-ec+he*$a;ub=cb*-ec+ub*$a;Oa=Bb;Ya=Nb;bb=ze}Bb=Jb(-Ac,he);cb=Bb*lb;Bb&&($a=Math.cos(-Bb),ec=Math.sin(-Bb),ub=$c*ec+ub*$a,Ca=Ca*$a-gb*ec,hb=hb*$a-Ra*ec,Ac=Ac*$a-he*ec);Bb=Jb(hb,Ca);gb=Bb*lb;Bb&&($a=Math.cos(Bb),ec=Math.sin(Bb),Bb=Ca*$a+hb*ec,Nb=Oa*$a+Ya*ec,hb=hb*$a-Ca*ec,Ya=Ya*$a-Oa*ec,Ca=Bb,Oa=Nb);wa&&359.9<Math.abs(wa)+Math.abs(gb)&&(wa=gb=0,cb=180-cb);Ra=ac(Math.sqrt(Ca*Ca+hb*hb+Ac*Ac));bb=ac(Math.sqrt(Ya*Ya+
bb*bb));Bb=Jb(Oa,Ya);Oa=2E-4<Math.abs(Bb)?Bb*lb:0;ub=ub?1/(0>ub?-ub:ub):0}ba.svg&&(Bb=O.getAttribute("transform"),ba.forceCSS=O.setAttribute("transform","")||!ld(ye(O,sc)),Bb&&O.setAttribute("transform",Bb))}90<Math.abs(Oa)&&270>Math.abs(Oa)&&(va?(Ra*=-1,Oa+=0>=gb?180:-180,gb+=0>=gb?180:-180):(bb*=-1,Oa+=0>=Oa?180:-180));U=U||ba.uncache;ba.x=kb-((ba.xPercent=kb&&(!U&&ba.xPercent||(Math.round(O.offsetWidth/2)===Math.round(-kb)?-50:0)))?O.offsetWidth*ba.xPercent/100:0)+"px";ba.y=Sa-((ba.yPercent=Sa&&
(!U&&ba.yPercent||(Math.round(O.offsetHeight/2)===Math.round(-Sa)?-50:0)))?O.offsetHeight*ba.yPercent/100:0)+"px";ba.z=Ia+"px";ba.scaleX=ac(Ra);ba.scaleY=ac(bb);ba.rotation=ac(gb)+"deg";ba.rotationX=ac(wa)+"deg";ba.rotationY=ac(cb)+"deg";ba.skewX=Oa+"deg";ba.skewY=Yb+"deg";ba.transformPerspective=ub+"px";if(ba.zOrigin=parseFloat(Aa.split(" ")[2])||0)qa[qe]=Uf(Aa);ba.xOffset=ba.yOffset=0;ba.force3D=eb.force3D;ba.renderTransform=ba.svg?yh:Mg?mg:zh;ba.uncache=0;return ba},Uf=function(O){return(O=O.split(" "))[0]+
" "+O[1]},Wf=function(O,U,ba){var qa=yc(U);return ac(parseFloat(U)+parseFloat(Le(O,"x",ba+"px",qa)))+qa},zh=function(O,U){U.z="0px";U.rotationY=U.rotationX="0deg";U.force3D=0;mg(O,U)},mg=function(O,U){var ba=U||this;U=ba.xPercent;var qa=ba.yPercent,va=ba.x,Ca=ba.y,Aa=ba.z,Sa=ba.rotation,Ia=ba.rotationY,bb=ba.rotationX,gb=ba.skewX,wa=ba.skewY,cb=ba.scaleX,Oa=ba.scaleY,Yb=ba.transformPerspective,ub=ba.force3D,Ya=ba.target;ba=ba.zOrigin;var kb="";O="auto"===ub&&O&&1!==O||!0===ub;if(ba&&("0deg"!==bb||
"0deg"!==Ia)){ub=parseFloat(Ia)*yb;var Ra=Math.sin(ub),$a=Math.cos(ub);ub=parseFloat(bb)*yb;var Nb=Math.cos(ub);va=Wf(Ya,va,Ra*Nb*-ba);Ca=Wf(Ya,Ca,-Math.sin(ub)*-ba);Aa=Wf(Ya,Aa,$a*Nb*-ba+ba)}"0px"!==Yb&&(kb+="perspective("+Yb+") ");if(U||qa)kb+="translate("+U+"%, "+qa+"%) ";if(O||"0px"!==va||"0px"!==Ca||"0px"!==Aa)kb+="0px"!==Aa||O?"translate3d("+va+", "+Ca+", "+Aa+") ":"translate("+va+", "+Ca+") ";"0deg"!==Sa&&(kb+="rotate("+Sa+") ");"0deg"!==Ia&&(kb+="rotateY("+Ia+") ");"0deg"!==bb&&(kb+="rotateX("+
bb+") ");if("0deg"!==gb||"0deg"!==wa)kb+="skew("+gb+", "+wa+") ";if(1!==cb||1!==Oa)kb+="scale("+cb+", "+Oa+") ";Ya.style[sc]=kb||"translate(0, 0)"},yh=function(O,U){var ba=U||this;O=ba.xPercent;U=ba.yPercent;var qa=ba.x,va=ba.y,Ca=ba.rotation,Aa=ba.skewX,Sa=ba.skewY,Ia=ba.scaleX,bb=ba.scaleY,gb=ba.target,wa=ba.xOrigin,cb=ba.yOrigin,Oa=ba.xOffset,Yb=ba.yOffset;ba=ba.forceCSS;var ub=parseFloat(qa),Ya=parseFloat(va);Ca=parseFloat(Ca);Aa=parseFloat(Aa);if(Sa=parseFloat(Sa))Sa=parseFloat(Sa),Aa+=Sa,Ca+=
Sa;if(Ca||Aa){Ca*=yb;Aa*=yb;var kb=Math.cos(Ca)*Ia;Ia*=Math.sin(Ca);var Ra=Math.sin(Ca-Aa)*-bb;Ca=Math.cos(Ca-Aa)*bb;Aa&&(Sa*=yb,Aa=Math.tan(Aa-Sa),Aa=Math.sqrt(1+Aa*Aa),Ra*=Aa,Ca*=Aa,Sa&&(Aa=Math.tan(Sa),Aa=Math.sqrt(1+Aa*Aa),kb*=Aa,Ia*=Aa));kb=ac(kb);Ia=ac(Ia);Ra=ac(Ra);Ca=ac(Ca)}else kb=Ia,Ca=bb,Ia=Ra=0;if(ub&&!~(qa+"").indexOf("px")||Ya&&!~(va+"").indexOf("px"))ub=Le(gb,"x",qa,"px"),Ya=Le(gb,"y",va,"px");if(wa||cb||Oa||Yb)ub=ac(ub+wa-(wa*kb+cb*Ra)+Oa),Ya=ac(Ya+cb-(wa*Ia+cb*Ca)+Yb);if(O||U)Aa=
gb.getBBox(),ub=ac(ub+O/100*Aa.width),Ya=ac(Ya+U/100*Aa.height);Aa="matrix("+kb+","+Ia+","+Ra+","+Ca+","+ub+","+Ya+")";gb.setAttribute("transform",Aa);ba&&(gb.style[sc]=Aa)},ng=function(O,U){for(var ba in U)O[ba]=U[ba];return O};qc("padding,margin,Width,Radius",function(O,U){var ba=(3>U?["Top","Right","Bottom","Left"]:["TopLeft","TopRight","BottomRight","BottomLeft"]).map(function(qa){return 2>U?O+qa:"border"+qa+O});Vf[1<U?"border"+O:O]=function(qa,va,Ca,Aa,Sa){if(4>arguments.length){var Ia=ba.map(function(gb){return xe(qa,
gb,Ca)});var bb=Ia.join(" ");return 5===bb.split(Ia[0]).length?Ia[0]:bb}Ia=(Aa+"").split(" ");bb={};ba.forEach(function(gb,wa){return bb[gb]=Ia[wa]=Ia[wa]||Ia[(wa-1)/2|0]});qa.init(va,bb,Sa)}});var pg={name:"css",register:Og,targetTest:function(O){return O.style&&O.nodeType},init:function(O,U,ba,qa,va){var Ca=this._props,Aa=O.style,Sa=ba.vars.startAt,Ia,bb;kf||Og();this.styles=this.styles||Lg(O);var gb=this.styles.props;this.tween=ba;for(Ra in U)if("autoRound"!==Ra){var wa=U[Ra];if(!Na[Ra]||!rc(Ra,
U,ba,qa,O,va)){var cb=typeof wa;var Oa=Vf[Ra];"function"===cb&&(wa=wa.call(ba,qa,O,va),cb=typeof wa);"string"===cb&&~wa.indexOf("random(")&&(wa=Id(wa));if(Oa)Oa(this,O,Ra,wa,ba)&&(bb=1);else if("--"===Ra.substr(0,2)){Oa=(getComputedStyle(O).getPropertyValue(Ra)+"").trim();wa+="";ud.lastIndex=0;if(!ud.test(Oa)){var Yb=yc(Oa);var ub=yc(wa)}ub?Yb!==ub&&(Oa=Le(O,Ra,Oa,ub)+ub):Yb&&(wa+=Yb);this.add(Aa,"setProperty",Oa,wa,qa,va,0,0,Ra);Ca.push(Ra);gb.push(Ra,0,Aa[Ra])}else if("undefined"!==cb){Sa&&Ra in
Sa?(Oa="function"===typeof Sa[Ra]?Sa[Ra].call(ba,qa,O,va):Sa[Ra],w(Oa)&&~Oa.indexOf("random(")&&(Oa=Id(Oa)),yc(Oa+"")||(Oa+=eb.units[Ra]||yc(xe(O,Ra))||""),"\x3d"===(Oa+"").charAt(1)&&(Oa=xe(O,Ra))):Oa=xe(O,Ra);var Ya=parseFloat(Oa);(Ia="string"===cb&&"\x3d"===wa.charAt(1)&&wa.substr(0,2))&&(wa=wa.substr(2));var kb=parseFloat(wa);if(Ra in Ob&&("autoAlpha"===Ra&&(1===Ya&&"hidden"===xe(O,"visibility")&&kb&&(Ya=0),gb.push("visibility",0,Aa.visibility),Te(this,Aa,"visibility",Ya?"inherit":"hidden",kb?
"inherit":"hidden",!kb)),"scale"!==Ra&&"transform"!==Ra)){var Ra=Ob[Ra];~Ra.indexOf(",")&&(Ra=Ra.split(",")[0])}if(cb=Ra in Xa){this.styles.save(Ra);if(!Bb){var $a=O._gsap;$a.renderTransform&&!U.parseTransform||zf(O,U.parseTransform);var Nb=!1!==U.smoothOrigin&&$a.smooth;var Bb=this._pt=new Uc(this._pt,Aa,sc,0,1,$a.renderTransform,$a,0,-1);Bb.dep=1}if("scale"===Ra)this._pt=new Uc(this._pt,$a,"scaleY",$a.scaleY,(Ia?Dd($a.scaleY,Ia+kb):kb)-$a.scaleY||0,dd),this._pt.u=0,Ca.push("scaleY",Ra),Ra+="X";
else if("transformOrigin"===Ra){gb.push(qe,0,Aa[qe]);cb=wa;kb=cb.split(" ");Ya=kb[0];var hb=kb[1]||"50%";if("top"===Ya||"bottom"===Ya||"left"===hb||"right"===hb)cb=Ya,Ya=hb,hb=cb;kb[0]=Rg[Ya]||Ya;kb[1]=Rg[hb]||hb;wa=kb.join(" ");$a.svg?lg(O,wa,0,Nb,0,this):(ub=parseFloat(wa.split(" ")[2])||0,ub!==$a.zOrigin&&Te(this,$a,"zOrigin",$a.zOrigin,ub),Te(this,Aa,Ra,Uf(Oa),Uf(wa)));continue}else if("svgOrigin"===Ra){lg(O,wa,1,Nb,0,this);continue}else if(Ra in Sg){cb=$a;Oa=Ra;kb=Ya;wa=Ia?Dd(Ya,Ia+wa):wa;Ia=
w(wa);hb=parseFloat(wa)*(Ia&&~wa.indexOf("rad")?lb:1)-kb;Ya=kb+hb+"deg";Ia&&(wa=wa.split("_")[1],"short"===wa&&(hb%=360,hb!==hb%180&&(hb+=0>hb?360:-360)),"cw"===wa&&0>hb?hb=(hb+36E9)%360-360*~~(hb/360):"ccw"===wa&&0<hb&&(hb=(hb-36E9)%360-360*~~(hb/360)));this._pt=cb=new Uc(this._pt,cb,Oa,kb,hb,pe);cb.e=Ya;cb.u="deg";this._props.push(Oa);continue}else if("smoothOrigin"===Ra){Te(this,$a,"smooth",$a.smooth,wa);continue}else if("force3D"===Ra){$a[Ra]=wa;continue}else if("transform"===Ra){Oa=void 0;Ya=
wa;cb=O;kb=ng({},cb._gsap);hb=cb.style;kb.svg?(wa=cb.getAttribute("transform"),cb.setAttribute("transform",""),hb[sc]=Ya,Ya=zf(cb,1),xf(cb,sc),cb.setAttribute("transform",wa)):(wa=getComputedStyle(cb)[sc],hb[sc]=Ya,Ya=zf(cb,1),hb[sc]=wa);for(Oa in Xa)if(wa=kb[Oa],Ia=Ya[Oa],wa!==Ia&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(Oa)){var Ac=yc(wa);hb=yc(Ia);wa=Ac!==hb?Le(cb,Oa,wa,hb):parseFloat(wa);Ia=parseFloat(Ia);this._pt=new Uc(this._pt,Ya,Oa,wa,Ia-wa,dd);this._pt.u=hb||0;this._props.push(Oa)}ng(Ya,
kb);continue}}else Ra in Aa||(Ra=mf(Ra)||Ra);if(cb||(kb||0===kb)&&(Ya||0===Ya)&&!Fc.test(wa)&&Ra in Aa)Yb=(Oa+"").substr((Ya+"").length),kb||(kb=0),ub=yc(wa)||(Ra in eb.units?eb.units[Ra]:Yb),Yb!==ub&&(Ya=Le(O,Ra,Oa,ub)),this._pt=new Uc(this._pt,cb?$a:Aa,Ra,Ya,(Ia?Dd(Ya,Ia+kb):kb)-Ya,cb||"px"!==ub&&"zIndex"!==Ra||!1===U.autoRound?dd:kd),this._pt.u=ub||0,Yb!==ub&&"%"!==ub&&(this._pt.b=Oa,this._pt.r=kc);else if(Ra in Aa){var $c,he;kb=void 0;Ya=O;hb=Ra;var ec=Oa;wa=Ia?Ia+wa:wa;ec&&"none"!==ec||((Ac=
(Ia=mf(hb,Ya,1))&&ye(Ya,Ia,1))&&Ac!==ec?(hb=Ia,ec=Ac):"borderColor"===hb&&(ec=ye(Ya,"borderTopColor")));Ia=new Uc(this._pt,Ya.style,hb,0,1,wd);var ze=Ac=0;Ia.b=ec;Ia.e=wa;ec+="";wa+="";"auto"===wa&&(Ya.style[hb]=wa,wa=ye(Ya,hb)||wa,Ya.style[hb]=ec);wa=[ec,wa];Jd(wa);ec=wa[0];wa=wa[1];ec=ec.match(u)||[];if((wa.match(u)||[]).length){for(;$c=u.exec(wa);){var zd=$c[0];var Bf=wa.substring(Ac,$c.index);if(kb)kb=(kb+1)%5;else if("rgba("===Bf.substr(-5)||"hsla("===Bf.substr(-5))kb=1;if(zd!==(he=ec[ze++]||
"")){var Ae=parseFloat(he)||0;$c=he.substr((Ae+"").length);"\x3d"===zd.charAt(1)&&(zd=Dd(Ae,zd)+$c);var og=parseFloat(zd);zd=zd.substr((og+"").length);Ac=u.lastIndex-zd.length;zd||(zd=zd||eb.units[hb]||$c,Ac===wa.length&&(wa+=zd,Ia.e+=zd));$c!==zd&&(Ae=Le(Ya,hb,he,zd)||0);Ia._pt={_next:Ia._pt,p:Bf||1===ze?Bf:",",s:Ae,c:og-Ae,m:kb&&4>kb||"zIndex"===hb?Math.round:0}}}Ia.c=Ac<wa.length?wa.substring(Ac,wa.length):""}else Ia.r="display"===hb&&"none"===wa?Zd:Se;f.test(wa)&&(Ia.e=0);this._pt=Ia}else if(Ra in
O)this.add(O,Ra,Oa||O[Ra],Ia?Ia+wa:wa,qa,va);else if("parseTransform"!==Ra){N(Ra,wa);continue}cb||(Ra in Aa?gb.push(Ra,0,Aa[Ra]):gb.push(Ra,1,Oa||O[Ra]));Ca.push(Ra)}}}bb&&Ie(this)},render:function(O,U){if(U.tween._time||!ib())for(U=U._pt;U;)U.r(O,U.d),U=U._next;else U.styles.revert()},get:xe,aliases:Ob,getSetter:function(O,U,ba){var qa=Ob[U];qa&&0>qa.indexOf(",")&&(U=qa);return U in Xa&&U!==qe&&(O._gsap.x||xe(O,"x"))?ba&&lf===ba?"scale"===U?Sf:th:(lf=ba||{},"scale"===U?uh:ig):O.style&&!v(O.style[U])?
bf:~U.indexOf("-")?sh:dc(O,U)},core:{_removeProperty:xf,_getMatrix:kg}};Hb.utils.checkPrefix=mf;Hb.core.getStyleSaver=Lg;(function(O,U,ba,qa){var va=qc(O+","+U+","+ba,function(Ca){Xa[Ca]=1});qc(U,function(Ca){eb.units[Ca]="deg";Sg[Ca]=1});Ob[va[13]]=O+","+U;qc(qa,function(Ca){Ca=Ca.split(":");Ob[Ca[1]]=va[Ca[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");
qc("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(O){eb.units[O]="px"});Hb.registerPlugin(pg);var Xf=Hb.registerPlugin(pg)||Hb,qg=Xf.core.Tween;ja.Back=Qf;ja.Bounce=$e;ja.CSSPlugin=pg;ja.Circ=Rf;ja.Cubic=ne;ja.Elastic=hg;ja.Expo=af;ja.Linear=Ze;ja.Power0=id;ja.Power1=we;ja.Power2=jf;ja.Power3=ee;ja.Power4=Kd;ja.Quad=gg;ja.Quart=Ke;ja.Quint=xd;ja.Sine=fe;ja.SteppedEase=wf;ja.Strong=vf;ja.TimelineLite=Ub;ja.TimelineMax=Ub;ja.TweenLite=ob;ja.TweenMax=qg;ja.default=
Xf;ja.gsap=Xf;"undefined"===typeof window||window!==ja?Object.defineProperty(ja,"__esModule",{value:!0}):delete window.default})};
shadow$provide[5]=function(pc,Ic,Mc,La){Object.defineProperty(La,"__esModule",{value:!0});La.default=La.ScrollToPlugin=void 0;var ja,Ta,sb,eb,oa,Y,G,X,T=function(){return ja||"undefined"!==typeof window&&(ja=window.gsap)&&ja.registerPlugin&&ja},F=function(w,q){q="x"===q?"Width":"Height";var x="scroll"+q,v="client"+q;return w===sb||w===eb||w===oa?Math.max(eb[x],oa[x])-(sb["inner"+q]||eb[v]||oa[v]):w[x]-w["offset"+q]},K=function(w,q){var x="scroll"+("x"===q?"Left":"Top");w===sb&&(null!=w.pageXOffset?
x="page"+q.toUpperCase()+"Offset":w=null!=eb[x]?eb:oa);return function(){return w[x]}},E=function(w,q){w=Y(w)[0];if(!w||!w.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var x=w.getBoundingClientRect(),v=(w=!q||q===sb||q===oa)?{top:eb.clientTop-(sb.pageYOffset||eb.scrollTop||oa.scrollTop||0),left:eb.clientLeft-(sb.pageXOffset||eb.scrollLeft||oa.scrollLeft||0)}:q.getBoundingClientRect();x={x:x.left-v.left,y:x.top-v.top};!w&&q&&(x.x+=K(q,"x")(),x.y+=K(q,
"y")());return x},z=function(w,q,x,v,g){return isNaN(w)||"object"===typeof w?"string"===typeof w&&"\x3d"===w.charAt(1)?parseFloat(w.substr(2))*("-"===w.charAt(0)?-1:1)+v-g:"max"===w?F(q,x)-g:Math.min(F(q,x),E(w,q)[x]-g):parseFloat(w)-g},C=function(){ja=T();"undefined"!==typeof window&&ja&&"undefined"!==typeof document&&document.body&&(sb=window,oa=document.body,eb=document.documentElement,Y=ja.utils.toArray,ja.config({autoKillThreshold:7}),G=ja.config(),Ta=1)};pc={version:"3.11.4",name:"scrollTo",
rawVars:1,register:function(w){ja=w;C()},init:function(w,q,x,v,g){Ta||C();var l=ja.getProperty(w,"scrollSnapType");this.isWin=w===sb;this.target=w;this.tween=x;"function"===typeof q&&(q=q(v,w,g));if("object"!==typeof q)q="string"===typeof q&&"max"!==q&&"\x3d"!==q.charAt(1)?{x:q,y:q}:{y:q};else if(q.nodeType)q={y:q,x:q};else{x={};for(var h in q)x[h]="onAutoKill"!==h&&"function"===typeof q[h]?q[h](v,w,g):q[h];q=x}this.vars=q;this.autoKill=!!q.autoKill;this.getX=K(w,"x");this.getY=K(w,"y");this.x=this.xPrev=
this.getX();this.y=this.yPrev=this.getY();X||(X=ja.core.globals().ScrollTrigger);"smooth"===ja.getProperty(w,"scrollBehavior")&&ja.set(w,{scrollBehavior:"auto"});l&&"none"!==l&&(this.snap=1,this.snapInline=w.style.scrollSnapType,w.style.scrollSnapType="none");null!=q.x?(this.add(this,"x",this.x,z(q.x,w,"x",this.x,q.offsetX||0),v,g),this._props.push("scrollTo_x")):this.skipX=1;null!=q.y?(this.add(this,"y",this.y,z(q.y,w,"y",this.y,q.offsetY||0),v,g),this._props.push("scrollTo_y")):this.skipY=1},render:function(w,
q){for(var x=q._pt,v=q.target,g=q.tween,l=q.autoKill,h=q.xPrev,k=q.yPrev,p=q.isWin,r=q.snap,u=q.snapInline,m,f;x;)x.r(w,x.d),x=x._next;x=p||!q.skipX?q.getX():h;m=p||!q.skipY?q.getY():k;k=m-k;h=x-h;f=G.autoKillThreshold;0>q.x&&(q.x=0);0>q.y&&(q.y=0);l&&(!q.skipX&&(h>f||h<-f)&&x<F(v,"x")&&(q.skipX=1),!q.skipY&&(k>f||k<-f)&&m<F(v,"y")&&(q.skipY=1),q.skipX&&q.skipY&&(g.kill(),q.vars.onAutoKill&&q.vars.onAutoKill.apply(g,q.vars.onAutoKillParams||[])));p?sb.scrollTo(q.skipX?x:q.x,q.skipY?m:q.y):(q.skipY||
(v.scrollTop=q.y),q.skipX||(v.scrollLeft=q.x));!r||1!==w&&0!==w||(m=v.scrollTop,x=v.scrollLeft,u?v.style.scrollSnapType=u:v.style.removeProperty("scroll-snap-type"),v.scrollTop=m+1,v.scrollLeft=x+1,v.scrollTop=m,v.scrollLeft=x);q.xPrev=q.x;q.yPrev=q.y;X&&X.update()},kill:function(w){var q="scrollTo"===w;if(q||"scrollTo_x"===w)this.skipX=1;if(q||"scrollTo_y"===w)this.skipY=1}};La.default=La.ScrollToPlugin=pc;pc.max=F;pc.getOffset=E;pc.buildGetter=K;T()&&ja.registerPlugin(pc)};
shadow$provide[6]=function(pc,Ic,Mc,La){function ja(la,S){for(var aa=0;aa<S.length;aa++){var da=S[aa];da.enumerable=da.enumerable||!1;da.configurable=!0;"value"in da&&(da.writable=!0);Object.defineProperty(la,da.key,da)}}function Ta(la,S,aa){S&&ja(la.prototype,S);aa&&ja(la,aa);return la}Object.defineProperty(La,"__esModule",{value:!0});La._getTarget=La._horizontal=La._vertical=La._getVelocityProp=La._proxies=La._getProxyProp=La._getScrollFunc=La._scrollers=La._isViewport=La.default=La.Observer=void 0;
var sb,eb,oa,Y,G,X,T,F,K,E,z,C,w,q=function(){return sb||"undefined"!==typeof window&&(sb=window.gsap)&&sb.registerPlugin&&sb},x=1,v=[],g=[],l=[],h=Date.now,k=function(la,S){return S},p=function(){var la=K.core,S=la.bridge||{},aa=la._scrollers;la=la._proxies;aa.push.apply(aa,g);la.push.apply(la,l);La._scrollers=g=aa;La._proxies=l=la;k=function(da,ma){return S[da](ma)}},r=function(la,S){return~l.indexOf(la)&&l[l.indexOf(la)+1][S]},u=function(la){return!!~E.indexOf(la)},m=function(la,S,aa,da,ma){return la.addEventListener(S,
aa,{passive:!da,capture:!!ma})},f=function(){return z&&z.isPressed||g.cache++},c=function(la,S){var aa=function na(ma){if(ma||0===ma){x&&(oa.history.scrollRestoration="manual");var Ba=z&&z.isPressed;ma=na.v=Math.round(ma)||(z&&z.iOS?1:0);la(ma);na.cacheID=g.cache;Ba&&k("ss",ma)}else if(S||g.cache!==na.cacheID||k("ref"))na.cacheID=g.cache,na.v=la();return na.v+na.offset};aa.offset=0;return la&&aa},e={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:c(function(la){return arguments.length?
oa.scrollTo(la,t.sc()):oa.pageXOffset||Y.scrollLeft||G.scrollLeft||X.scrollLeft||0})},t={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:e,sc:c(function(la){return arguments.length?oa.scrollTo(e.sc(),la):oa.pageYOffset||Y.scrollTop||G.scrollTop||X.scrollTop||0})},B=function(la){return sb.utils.toArray(la)[0]||("string"===typeof la&&!1!==sb.config().nullTargetWarn?console.warn("Element not found:",la):null)},y=function(la,S){var aa=S.s,da=S.sc;u(la)&&(la=Y.scrollingElement||
G);var ma=g.indexOf(la),na=da===t.sc?1:2;!~ma&&(ma=g.push(la)-1);g[ma+na]||la.addEventListener("scroll",f);da=(S=g[ma+na])||(g[ma+na]=c(r(la,aa),!0)||(u(la)?da:c(function(Ba){return arguments.length?la[aa]=Ba:la[aa]})));da.target=la;S||(da.smooth="smooth"===sb.getProperty(la,"scrollBehavior"));return da},A=function(la,S,aa){var da=la,ma=la,na=h(),Ba=na,Na=S||50,ra=Math.max(500,3*Na),Pa=function(Ja,xb){var Ab=h();xb||Ab-na>Na?(ma=da,da=Ja,Ba=na,na=Ab):da=aa?da+Ja:ma+(Ja-ma)/(Ab-Ba)*(na-Ba)};return{update:Pa,
reset:function(){ma=da=aa?0:da;Ba=na=0},getVelocity:function(Ja){var xb=Ba,Ab=ma,gc=h();(Ja||0===Ja)&&Ja!==da&&Pa(Ja);return na===Ba||gc-Ba>ra?0:(da+(aa?Ab:-Ab))/((aa?gc:na)-xb)*1E3}}},H=function(la,S){S&&!la._gsapAllow&&la.preventDefault();return la.changedTouches?la.changedTouches[0]:la},J=function(la){var S=Math.max.apply(Math,la);la=Math.min.apply(Math,la);return Math.abs(S)>=Math.abs(la)?S:la},N=function(){(K=sb.core.globals().ScrollTrigger)&&K.core&&p()},ea=function(la){(sb=la||q())&&"undefined"!==
typeof document&&document.body&&(oa=window,Y=document,G=Y.documentElement,X=Y.body,E=[oa,Y,G,X],w=sb.core.context||function(){},F="onpointerenter"in X?"pointer":"mouse",T=ia.isTouch=oa.matchMedia&&oa.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in oa||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?2:0,C=ia.eventTypes=("ontouchstart"in G?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in G?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),
setTimeout(function(){return x=0},500),N(),eb=1);return eb};La._getVelocityProp=A;La._getScrollFunc=y;La._getTarget=B;La._vertical=t;La._horizontal=e;La._isViewport=u;La._getProxyProp=r;La._proxies=l;La._scrollers=g;e.op=t;g.cache=0;var ia=function(){function la(S){this.init(S)}la.prototype.init=function(S){eb||ea(sb)||console.warn("Please gsap.registerPlugin(Observer)");K||N();var aa=S.tolerance,da=S.dragMinimum,ma=S.type,na=S.target,Ba=S.lineHeight,Na=S.debounce,ra=S.preventDefault,Pa=S.onStop,
Ja=S.onStopDelay,xb=S.ignore,Ab=S.wheelSpeed,gc=S.event,cc=S.onDragStart,qc=S.onDragEnd,ac=S.onDrag,Sb=S.onPress,Dd=S.onRelease,Xc=S.onRight,Nc=S.onLeft,Od=S.onUp,od=S.onDown,uc=S.onChangeX,hc=S.onChangeY,Pb=S.onChange,Pd=S.onToggleX,pd=S.onToggleY,Ed=S.onHover,Qd=S.onHoverEnd,Rd=S.onMove,vc=S.ignoreCheck,nc=S.isNormalizer,zb=S.onGestureStart,Fd=S.onGestureEnd,xc=S.onWheel,Qe=S.onEnable,qd=S.onDisable,Gd=S.onClick,Sc=S.scrollSpeed,Tc=S.capture,ff=S.allowClicks,fd=S.lockAxis,Hd=S.onLockAxis;this.target=
na=B(na)||G;this.vars=S;xb&&(xb=sb.utils.toArray(xb));aa=aa||1E-9;da=da||0;Ab=Ab||1;Sc=Sc||1;ma=ma||"wheel,touch,pointer";Na=!1!==Na;Ba||(Ba=parseFloat(oa.getComputedStyle(X).lineHeight)||22);var Cc,Fe,Sd,gd,Zc,Qb,Ma=this,rd=0,Yc=0,yc=y(na,e),ie=y(na,t),ue=yc(),Td=ie(),Rc=~ma.indexOf("touch")&&!~ma.indexOf("pointer")&&"pointerdown"===C[0],be=u(na),wc=na.ownerDocument||Y,sd=[0,0,0],td=[0,0,0],ce=0,Ge=function(){return ce=h()},je=function(ua,ha){return(Ma.event=ua)&&xb&&~xb.indexOf(ua.target)||ha&&
Rc&&"touch"!==ua.pointerType||vc&&vc(ua,ha)},Id=function(){var ua=Ma.deltaX=J(sd),ha=Ma.deltaY=J(td),V=Math.abs(ua)>=aa,ca=Math.abs(ha)>=aa;Pb&&(V||ca)&&Pb(Ma,ua,ha,sd,td);V&&(Xc&&0<Ma.deltaX&&Xc(Ma),Nc&&0>Ma.deltaX&&Nc(Ma),uc&&uc(Ma),Pd&&0>Ma.deltaX!==0>rd&&Pd(Ma),rd=Ma.deltaX,sd[0]=sd[1]=sd[2]=0);ca&&(od&&0<Ma.deltaY&&od(Ma),Od&&0>Ma.deltaY&&Od(Ma),hc&&hc(Ma),pd&&0>Ma.deltaY!==0>Yc&&pd(Ma),Yc=Ma.deltaY,td[0]=td[1]=td[2]=0);if(Sd||Fe)Rd&&Rd(Ma),Fe&&(ac(Ma),Fe=!1),Sd=!1;Zc&&!(Zc=!1)&&Hd&&Hd(Ma);gd&&
(xc(Ma),gd=!1);Cc=0},Ye=function(ua,ha,V){sd[V]+=ua;td[V]+=ha;Ma._vx.update(ua);Ma._vy.update(ha);Na?Cc||(Cc=requestAnimationFrame(Id)):Id()},gf=function(ua,ha){fd&&!Qb&&(Ma.axis=Qb=Math.abs(ua)>Math.abs(ha)?"x":"y",Zc=!0);"y"!==Qb&&(sd[2]+=ua,Ma._vx.update(ua,!0));"x"!==Qb&&(td[2]+=ha,Ma._vy.update(ha,!0));Na?Cc||(Cc=requestAnimationFrame(Id)):Id()},Dc=function(ua){if(!je(ua,1)){ua=H(ua,ra);var ha=ua.clientX;ua=ua.clientY;var V=ha-Ma.x,ca=ua-Ma.y,ya=Ma.isDragging;Ma.x=ha;Ma.y=ua;if(ya||Math.abs(Ma.startX-
ha)>=da||Math.abs(Ma.startY-ua)>=da)ac&&(Fe=!0),ya||(Ma.isDragging=!0),gf(V,ca),ya||cc&&cc(Ma)}},de=Ma.onPress=function(ua){je(ua,1)||(Ma.axis=Qb=null,Vd.pause(),Ma.isPressed=!0,ua=H(ua),rd=Yc=0,Ma.startX=Ma.x=ua.clientX,Ma.startY=Ma.y=ua.clientY,Ma._vx.reset(),Ma._vy.reset(),m(nc?na:wc,C[1],Dc,ra,!0),Ma.deltaX=Ma.deltaY=0,Sb&&Sb(Ma))},Ib=function(ua){if(!je(ua,1)){(nc?na:wc).removeEventListener(C[1],Dc,!0);var ha=!isNaN(Ma.y-Ma.startY),V=Ma.isDragging&&(3<Math.abs(Ma.x-Ma.startX)||3<Math.abs(Ma.y-
Ma.startY)),ca=H(ua);!V&&ha&&(Ma._vx.reset(),Ma._vy.reset(),ra&&ff&&sb.delayedCall(.08,function(){if(300<h()-ce&&!ua.defaultPrevented)if(ua.target.click)ua.target.click();else if(wc.createEvent){var ya=wc.createEvent("MouseEvents");ya.initMouseEvent("click",!0,!0,oa,1,ca.screenX,ca.screenY,ca.clientX,ca.clientY,!1,!1,!1,!1,0,null);ua.target.dispatchEvent(ya)}}));Ma.isDragging=Ma.isGesturing=Ma.isPressed=!1;Pa&&!nc&&Vd.restart(!0);qc&&V&&qc(Ma);Dd&&Dd(Ma,V)}},ke=function(ua){return ua.touches&&1<ua.touches.length&&
(Ma.isGesturing=!0)&&zb(ua,Ma.isDragging)},ve=function(){return Ma.isGesturing=!1,Fd(Ma)},le=function(ua){if(!je(ua)){ua=yc();var ha=ie();Ye((ua-ue)*Sc,(ha-Td)*Sc,1);ue=ua;Td=ha;Pa&&Vd.restart(!0)}},hf=function(ua){if(!je(ua)){ua=H(ua,ra);xc&&(gd=!0);var ha=(1===ua.deltaMode?Ba:2===ua.deltaMode?oa.innerHeight:1)*Ab;Ye(ua.deltaX*ha,ua.deltaY*ha,0);Pa&&!nc&&Vd.restart(!0)}},Re=function(ua){if(!je(ua)){var ha=ua.clientX;ua=ua.clientY;var V=ha-Ma.x,ca=ua-Ma.y;Ma.x=ha;Ma.y=ua;Sd=!0;(V||ca)&&gf(V,ca)}},
ud=function(ua){Ma.event=ua;Ed(Ma)},He=function(ua){Ma.event=ua;Qd(Ma)},Jd=function(ua){return je(ua)||H(ua,ra)&&Gd(Ma)};var Vd=Ma._dc=sb.delayedCall(Ja||.25,function(){Ma._vx.reset();Ma._vy.reset();Vd.pause();Pa&&Pa(Ma)}).pause();Ma.deltaX=Ma.deltaY=0;Ma._vx=A(0,50,!0);Ma._vy=A(0,50,!0);Ma.scrollX=yc;Ma.scrollY=ie;Ma.isDragging=Ma.isGesturing=Ma.isPressed=!1;w(this);Ma.enable=function(ua){if(!Ma.isEnabled){m(be?wc:na,"scroll",f);0<=ma.indexOf("scroll")&&m(be?wc:na,"scroll",le,ra,Tc);0<=ma.indexOf("wheel")&&
m(na,"wheel",hf,ra,Tc);if(0<=ma.indexOf("touch")&&T||0<=ma.indexOf("pointer"))m(na,C[0],de,ra,Tc),m(wc,C[2],Ib),m(wc,C[3],Ib),ff&&m(na,"click",Ge,!1,!0),Gd&&m(na,"click",Jd),zb&&m(wc,"gesturestart",ke),Fd&&m(wc,"gestureend",ve),Ed&&m(na,F+"enter",ud),Qd&&m(na,F+"leave",He),Rd&&m(na,F+"move",Re);Ma.isEnabled=!0;ua&&ua.type&&de(ua);Qe&&Qe(Ma)}return Ma};Ma.disable=function(){Ma.isEnabled&&(v.filter(function(ua){return ua!==Ma&&u(ua.target)}).length||(be?wc:na).removeEventListener("scroll",f,!1),Ma.isPressed&&
(Ma._vx.reset(),Ma._vy.reset(),(nc?na:wc).removeEventListener(C[1],Dc,!0)),(be?wc:na).removeEventListener("scroll",le,!!Tc),na.removeEventListener("wheel",hf,!!Tc),na.removeEventListener(C[0],de,!!Tc),wc.removeEventListener(C[2],Ib,!1),wc.removeEventListener(C[3],Ib,!1),na.removeEventListener("click",Ge,!0),na.removeEventListener("click",Jd,!1),wc.removeEventListener("gesturestart",ke,!1),wc.removeEventListener("gestureend",ve,!1),na.removeEventListener(F+"enter",ud,!1),na.removeEventListener(F+"leave",
He,!1),na.removeEventListener(F+"move",Re,!1),Ma.isEnabled=Ma.isPressed=Ma.isDragging=!1,qd&&qd(Ma))};Ma.kill=Ma.revert=function(){Ma.disable();var ua=v.indexOf(Ma);0<=ua&&v.splice(ua,1);z===Ma&&(z=0)};v.push(Ma);nc&&u(na)&&(z=Ma);Ma.enable(gc)};Ta(la,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]);return la}();La.default=La.Observer=ia;ia.version="3.11.4";ia.create=function(la){return new ia(la)};ia.register=ea;ia.getAll=
function(){return v.slice()};ia.getById=function(la){return v.filter(function(S){return S.vars.id===la})[0]};q()&&sb.registerPlugin(ia)};
shadow$provide[7]=function(pc,Ic,Mc,La){Object.defineProperty(La,"__esModule",{value:!0});La.default=La.ScrollTrigger=void 0;var ja=Ic(6),Ta,sb,eb,oa,Y,G,X,T,F,K,E,z,C,w,q,x,v,g,l,h,k,p,r,u,m,f,c,e,t,B,y=1,A=Date.now,H=A(),J=0,N=0,ea=function(){return w=1},ia=function(){return w=0},la=function(ua){return ua},S=function(ua){return Math.round(1E5*ua)/1E5||0},aa=function(){return Ta||"undefined"!==typeof window&&(Ta=window.gsap)&&Ta.registerPlugin&&Ta},da=function(ua){return(0,ja._getProxyProp)(ua,"getBoundingClientRect")||
(~X.indexOf(ua)?function(){Id.width=eb.innerWidth;Id.height=eb.innerHeight;return Id}:function(){return Sb(ua)})},ma=function(ua,ha,V){var ca=V.d,ya=V.d2,Qa=V.a;return(Qa=(0,ja._getProxyProp)(ua,"getBoundingClientRect"))?function(){return Qa()[ca]}:function(){return(ha?eb["inner"+ya]:ua["client"+ya])||0}},na=function(ua,ha){return!ha||~ja._proxies.indexOf(ua)?da(ua):function(){return Id}},Ba=function(ua,ha){var V=ha.s,ca=ha.d2,ya=ha.d;ha=ha.a;return(V="scroll"+ca)&&(ha=(0,ja._getProxyProp)(ua,V))?
ha()-da(ua)()[ya]:~X.indexOf(ua)?(Y[V]||G[V])-(eb["inner"+ca]||Y["client"+ca]||G["client"+ca]):ua[V]-ua["offset"+ca]},Na=function(ua,ha){for(var V=0;V<l.length;V+=3)ha&&!~ha.indexOf(l[V+1])||ua(l[V],l[V+1],l[V+2])},ra=function(ua){return"string"===typeof ua},Pa=function(ua){return"function"===typeof ua},Ja=function(ua){return"number"===typeof ua},xb=function(ua){return"object"===typeof ua},Ab=function(ua,ha,V){return ua&&ua.progress(ha?0:1)&&V&&ua.pause()},gc=function(ua,ha){ua.enabled&&(ha=ha(ua))&&
ha.totalTime&&(ua.callbackAnimation=ha)},cc=Math.abs,qc=function(ua){var ha=eb.getComputedStyle(ua).position;ua.style.position="absolute"===ha||"fixed"===ha?ha:"relative"},ac=function(ua,ha){for(var V in ha)V in ua||(ua[V]=ha[V]);return ua},Sb=function(ua,ha){ha=ha&&"matrix(1, 0, 0, 1, 0, 0)"!==eb.getComputedStyle(ua)[q]&&Ta.to(ua,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1);ua=ua.getBoundingClientRect();ha&&ha.progress(0).kill();return ua},
Dd=function(ua,ha){ha=ha.d2;return ua["offset"+ha]||ua["client"+ha]||0},Xc=function(ua){var ha=[],V=ua.labels;ua=ua.duration();for(var ca in V)ha.push(V[ca]/ua);return ha},Nc=function(ua){return function(ha){return Ta.utils.snap(Xc(ua),ha)}},Od=function(ua){var ha=Ta.utils.snap(ua),V=Array.isArray(ua)&&ua.slice(0).sort(function(ca,ya){return ca-ya});return V?function(ca,ya,Qa){void 0===Qa&&(Qa=.001);if(!ya)return ha(ca);if(0<ya){ca-=Qa;for(ya=0;ya<V.length;ya++)if(V[ya]>=ca)return V[ya];return V[ya-
1]}ya=V.length;for(ca+=Qa;ya--;)if(V[ya]<=ca)return V[ya];return V[0]}:function(ca,ya,Qa){void 0===Qa&&(Qa=.001);var ab=ha(ca);return!ya||Math.abs(ab-ca)<Qa||0>ab-ca===0>ya?ab:ha(0>ya?ca-ua:ca+ua)}},od=function(ua){return function(ha,V){return Od(Xc(ua))(ha,V.direction)}},uc=function(ua,ha,V,ca){return V.split(",").forEach(function(ya){return ua(ha,ya,ca)})},hc=function(ua,ha,V,ca,ya){return ua.addEventListener(ha,V,{passive:!ca,capture:!!ya})},Pb=function(ua,ha,V,ca){return ua.removeEventListener(ha,
V,!!ca)},Pd=function(ua,ha,V){return V&&V.wheelHandler&&ua(ha,"wheel",V)},pd={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ed={toggleActions:"play",anticipatePin:0},Qd={top:0,left:0,center:.5,bottom:1,right:1},Rd=function(ua,ha){if(ra(ua)){var V=ua.indexOf("\x3d"),ca=~V?+(ua.charAt(V-1)+1)*parseFloat(ua.substr(V+1)):0;~V&&(ua.indexOf("%")>V&&(ca*=ha/100),ua=ua.substr(0,V-1));ua=ca+(ua in Qd?Qd[ua]*ha:~ua.indexOf("%")?parseFloat(ua)*ha/100:parseFloat(ua)||0)}return ua},
vc=function(ua,ha,V,ca,ya,Qa,ab,jb){var vb=ya.startColor,bc=ya.endColor,wb=ya.fontSize,Eb=ya.indent,mb=ya.fontWeight;ya=oa.createElement("div");var Fb=!!~X.indexOf(V)||"fixed"===(0,ja._getProxyProp)(V,"pinType"),Ub=-1!==ua.indexOf("scroller");V=Fb?G:V;var Tb=-1!==ua.indexOf("start");vb=Tb?vb:bc;wb="border-color:"+vb+";font-size:"+wb+";color:"+vb+";font-weight:"+mb+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;position:"+
((Ub||jb)&&Fb?"fixed;":"absolute;");(Ub||jb||!Fb)&&(wb+=(ca===ja._vertical?"right":"bottom")+":"+(Qa+parseFloat(Eb))+"px;");ab&&(wb+="box-sizing:border-box;text-align:left;width:"+ab.offsetWidth+"px;");ya._isStart=Tb;ya.setAttribute("class","gsap-marker-"+ua+(ha?" marker-"+ha:""));ya.style.cssText=wb;ya.innerText=ha||0===ha?ua+"-"+ha:ua;V.children[0]?V.insertBefore(ya,V.children[0]):V.appendChild(ya);ya._offset=ya["offset"+ca.op.d2];nc(ya,0,ca,Tb);return ya},nc=function(ua,ha,V,ca){var ya={display:"block"},
Qa=V[ca?"os2":"p2"],ab=V[ca?"p2":"os2"];ua._isFlipped=ca;ya[V.a+"Percent"]=ca?-100:0;ya[V.a]=ca?"1px":0;ya["border"+Qa+"Width"]=1;ya["border"+ab+"Width"]=0;ya[V.p]=ha+"px";Ta.set(ua,ya)},zb=[],Fd={},xc,Qe=function(){return 34<A()-J&&(xc||(xc=requestAnimationFrame(Td)))},qd=function(){if(!r||!r.isPressed||r.startX>G.clientWidth)ja._scrollers.cache++,r?xc||(xc=requestAnimationFrame(Td)):Td(),J||Hd("scrollStart"),J=A()},Gd=function(){f=eb.innerWidth;m=eb.innerHeight},Sc=function(){ja._scrollers.cache++;
C||p||oa.fullscreenElement||oa.webkitFullscreenElement||u&&f===eb.innerWidth&&!(Math.abs(eb.innerHeight-m)>.25*eb.innerHeight)||T.restart(!0)},Tc={},ff=[],fd=function ha(){return Pb(Ib,"scrollEnd",ha)||Yc(!0)},Hd=function(ha){return Tc[ha]&&Tc[ha].map(function(V){return V()})||ff},Cc=[],Fe=function(ha){for(var V=0;V<Cc.length;V+=5)if(!ha||Cc[V+4]&&Cc[V+4].query===ha)Cc[V].style.cssText=Cc[V+1],Cc[V].getBBox&&Cc[V].setAttribute("transform",Cc[V+2]||""),Cc[V+3].uncache=1},Sd=function(ha,V){for(x=0;x<
zb.length;x++){var ca=zb[x];!ca||V&&ca._ctx!==V||(ha?ca.kill(1):ca.revert(!0,!0))}V&&Fe(V);V||Hd("revert")},gd=function(ha,V){ja._scrollers.cache++;!V&&Zc||ja._scrollers.forEach(function(ca){return Pa(ca)&&ca.cacheID++&&(ca.rec=0)});ra(ha)&&(eb.history.scrollRestoration=t=ha)},Zc,Qb=0,Ma,rd=function(){if(Ma!==Qb){var ha=Ma=Qb;requestAnimationFrame(function(){return ha===Qb&&Yc(!0)})}},Yc=function(ha,V){J&&!ha?hc(Ib,"scrollEnd",fd):(Zc=Ib.isRefreshing=!0,ja._scrollers.forEach(function(ca){return Pa(ca)&&
ca.cacheID++&&(ca.rec=ca())}),ha=Hd("refreshInit"),h&&Ib.sort(),V||Sd(),ja._scrollers.forEach(function(ca){Pa(ca)&&(ca.smooth&&(ca.target.style.scrollBehavior="auto"),ca(0))}),zb.slice(0).forEach(function(ca){return ca.refresh()}),zb.forEach(function(ca,ya){if(ca._subPinOffset&&ca.pin){ya=ca.vars.horizontal?"offsetWidth":"offsetHeight";var Qa=ca.pin[ya];ca.revert(!0,1);ca.adjustPinSpacing(ca.pin[ya]-Qa);ca.revert(!1,1)}}),zb.forEach(function(ca){return"max"===ca.vars.end&&ca.setPositions(ca.start,
Math.max(ca.start+1,Ba(ca.scroller,ca._dir)))}),ha.forEach(function(ca){return ca&&ca.render&&ca.render(-1)}),ja._scrollers.forEach(function(ca){Pa(ca)&&(ca.smooth&&requestAnimationFrame(function(){return ca.target.style.scrollBehavior="smooth"}),ca.rec&&ca(ca.rec))}),gd(t,1),T.pause(),Qb++,Td(2),zb.forEach(function(ca){return Pa(ca.vars.onRefresh)&&ca.vars.onRefresh(ca)}),Zc=Ib.isRefreshing=!1,Hd("refresh"))},yc=0,ie=1,ue,Td=function(ha){if(!Zc||2===ha){Ib.isUpdating=!0;ue&&ue.update(0);ha=zb.length;
var V=A(),ca=50<=V-H,ya=ha&&zb[0].scroll();ie=yc>ya?-1:1;yc=ya;ca&&(J&&!w&&200<V-J&&(J=0,Hd("scrollEnd")),E=H,H=V);if(0>ie){for(x=ha;0<x--;)zb[x]&&zb[x].update(0,ca);ie=1}else for(x=0;x<ha;x++)zb[x]&&zb[x].update(0,ca);Ib.isUpdating=!1}xc=0},Rc="left top bottom right marginBottom marginRight marginTop marginLeft display flexShrink float zIndex gridColumnStart gridColumnEnd gridRowStart gridRowEnd gridArea justifySelf alignSelf placeSelf order".split(" "),be=Rc.concat("width height boxSizing maxWidth maxHeight position margin padding paddingTop paddingRight paddingBottom paddingLeft".split(" ")),
wc=function(ha,V,ca){ce(ca);ca=ha._gsap;ca.spacerIsNative?ce(ca.spacerState):ha._gsap.swappedIn&&(ca=V.parentNode)&&(ca.insertBefore(ha,V),ca.removeChild(V));ha._gsap.swappedIn=!1},sd=function(ha,V,ca,ya){if(!ha._gsap.swappedIn){for(var Qa=Rc.length,ab=V.style,jb=ha.style,vb;Qa--;)vb=Rc[Qa],ab[vb]=ca[vb];ab.position="absolute"===ca.position?"absolute":"relative";"inline"===ca.display&&(ab.display="inline-block");jb.bottom=jb.right="auto";ab.flexBasis=ca.flexBasis||"auto";ab.overflow="visible";ab.boxSizing=
"border-box";ab.width=Dd(ha,ja._horizontal)+"px";ab.height=Dd(ha,ja._vertical)+"px";ab.padding=jb.margin=jb.top=jb.left="0";ce(ya);jb.width=jb.maxWidth=ca.width;jb.height=jb.maxHeight=ca.height;jb.padding=ca.padding;ha.parentNode!==V&&(ha.parentNode.insertBefore(V,ha),V.appendChild(ha));ha._gsap.swappedIn=!0}},td=/([A-Z])/g,ce=function(ha){if(ha){var V=ha.t.style,ca=ha.length,ya=0;for((ha.t._gsap||Ta.core.getCache(ha.t)).uncache=1;ya<ca;ya+=2){var Qa=ha[ya+1];var ab=ha[ya];Qa?V[ab]=Qa:V[ab]&&V.removeProperty(ab.replace(td,
"-$1").toLowerCase())}}},Ge=function(ha){for(var V=be.length,ca=ha.style,ya=[],Qa=0;Qa<V;Qa++)ya.push(be[Qa],ca[be[Qa]]);ya.t=ha;return ya},je=function(ha,V,ca){var ya=[],Qa=ha.length;ca=ca?8:0;for(var ab;ca<Qa;ca+=2)ab=ha[ca],ya.push(ab,ab in V?V[ab]:ha[ca+1]);ya.t=ha.t;return ya},Id={left:0,top:0},Ye=function(ha,V,ca,ya,Qa,ab,jb,vb,bc,wb,Eb,mb,Fb){Pa(ha)&&(ha=ha(vb));ra(ha)&&"max"===ha.substr(0,3)&&(ha=mb+("\x3d"===ha.charAt(4)?Rd("0"+ha.substr(3),ca):0));var Ub=Fb?Fb.time():0;Fb&&Fb.seek(0);if(Ja(ha))jb&&
nc(jb,ca,ya,!0);else{Pa(V)&&(V=V(vb));ha=(ha||"0").split(" ");var Tb=(0,ja._getTarget)(V)||G;V=Sb(Tb)||{};V&&(V.left||V.top)||"none"!==eb.getComputedStyle(Tb).display||(vb=Tb.style.display,Tb.style.display="block",V=Sb(Tb),vb?Tb.style.display=vb:Tb.style.removeProperty("display"));vb=Rd(ha[0],V[ya.d]);var rc=Rd(ha[1]||"0",ca);ha=V[ya.p]-bc[ya.p]-wb+vb+Qa-rc;jb&&nc(jb,rc,ya,20>ca-rc||jb._isStart&&20<rc);ca-=ca-rc}ab&&(Qa=ha+ca,bc=ab._isStart,ca="scroll"+ya.d2,nc(ab,Qa,ya,bc&&20<Qa||!bc&&(Eb?Math.max(G[ca],
Y[ca]):ab.parentNode[ca])<=Qa+1),Eb&&(bc=Sb(jb),Eb&&(ab.style[ya.op.p]=bc[ya.op.p]-ya.op.m-ab._offset+"px")));Fb&&Tb&&(ca=Sb(Tb),Fb.seek(mb),ab=Sb(Tb),Fb._caScrollDist=ca[ya.p]-ab[ya.p],ha=ha/Fb._caScrollDist*mb);Fb&&Fb.seek(Ub);return Fb?ha:Math.round(ha)},gf=/(webkit|moz|length|cssText|inset)/i,Dc=function(ha,V,ca,ya){if(ha.parentNode!==V){var Qa=ha.style,ab;if(V===G){ha._stOrig=Qa.cssText;var jb=eb.getComputedStyle(ha);for(ab in jb)+ab||gf.test(ab)||!jb[ab]||"string"!==typeof Qa[ab]||"0"===ab||
(Qa[ab]=jb[ab]);Qa.top=ca;Qa.left=ya}else Qa.cssText=ha._stOrig;Ta.core.getCache(ha).uncache=1;V.appendChild(ha)}},de=function(ha,V){var ca=(0,ja._getScrollFunc)(ha,V),ya="_scroll"+V.p2,Qa,ab,jb=function Ub(bc,wb,Eb,mb,Fb){var Tb=Ub.tween,rc=wb.onComplete,Vc={};Eb=Eb||ca();Fb=mb&&Fb||0;mb=mb||bc-Eb;Tb&&Tb.kill();Qa=Math.round(Eb);wb[ya]=bc;wb.modifiers=Vc;Vc[ya]=function(zc){zc=Math.round(ca());zc!==Qa&&zc!==ab&&3<Math.abs(zc-Qa)&&3<Math.abs(zc-ab)?(Tb.kill(),Ub.tween=0):zc=Eb+mb*Tb.ratio+Fb*Tb.ratio*
Tb.ratio;ab=Qa;return Qa=Math.round(zc)};wb.onUpdate=function(){ja._scrollers.cache++;Td()};wb.onComplete=function(){Ub.tween=0;rc&&rc.call(Tb)};return Tb=Ub.tween=Ta.to(ha,wb)};ha[ya]=ca;ca.wheelHandler=function(){return jb.tween&&jb.tween.kill()&&(jb.tween=0)};hc(ha,"wheel",ca.wheelHandler);return jb},Ib=function(){function ha(V,ca){sb||ha.register(Ta)||console.warn("Please gsap.registerPlugin(ScrollTrigger)");this.init(V,ca)}ha.prototype.init=function(V,ca){this.progress=this.start=0;this.vars&&
this.kill(!0,!0);if(N){var ya=V=ac(ra(V)||Ja(V)||V.nodeType?{trigger:V}:V,Ed),Qa=ya.onUpdate,ab=ya.toggleClass,jb=ya.id,vb=ya.onToggle,bc=ya.onRefresh,wb=ya.scrub,Eb=ya.trigger,mb=ya.pin,Fb=ya.pinSpacing,Ub=ya.invalidateOnRefresh,Tb=ya.anticipatePin,rc=ya.onScrubComplete,Vc=ya.onSnapComplete,zc=ya.once,ic=ya.snap,Wd=ya.pinReparent,mc=ya.pinSpacer,Lb=ya.containerAnimation,Zb=ya.fastScrollEnd,Wb=ya.preventOverlaps,ob=V.horizontal||V.containerAnimation&&!1!==V.horizontal?ja._horizontal:ja._vertical,
Vb=!wb&&0!==wb,Mb=(0,ja._getTarget)(V.scroller||eb);ya=Ta.core.getCache(Mb);var vd=!!~X.indexOf(Mb),Ec="fixed"===("pinType"in V?V.pinType:(0,ja._getProxyProp)(Mb,"pinType")||vd&&"fixed"),dc=[V.onEnter,V.onLeave,V.onEnterBack,V.onLeaveBack],Xb=Vb&&V.toggleActions.split(" "),Jc="markers"in V?V.markers:Ed.markers,wd=vd?0:parseFloat(eb.getComputedStyle(Mb)["border"+ob.p2+"Width"])||0,Ha=this,Ud=V.onRefreshInit&&function(){return V.onRefreshInit(Ha)},fg=ma(Mb,vd,ob),Pf=na(Mb,vd),Ie=0,Uc=0,Kb=(0,ja._getScrollFunc)(Mb,
ob),Gc,me,jc,ad,Bc,Xd,bd,hd,Yd,Oc,Je,cd,Hb,uf,id,we,jf,ee;e(Ha);Ha._dir=ob;Tb*=45;Ha.scroller=Mb;Ha.scroll=Lb?Lb.time.bind(Lb):Kb;var Kd=Kb();Ha.vars=V;ca=ca||V.animation;"refreshPriority"in V&&(h=1,-9999===V.refreshPriority&&(ue=Ha));ya.tweenScroll=ya.tweenScroll||{top:de(Mb,ja._vertical),left:de(Mb,ja._horizontal)};Ha.tweenTo=Gc=ya.tweenScroll[ob.p];Ha.scrubDuration=function(ib){(uf=Ja(ib)&&ib)?Hb?Hb.duration(ib):Hb=Ta.to(ca,{ease:"expo",totalProgress:"+\x3d0.001",duration:uf,paused:!0,onComplete:function(){return rc&&
rc(Ha)}}):(Hb&&Hb.progress(1).kill(),Hb=0)};if(ca){ca.vars.lazy=!1;ca._initted||!1!==ca.vars.immediateRender&&!1!==V.immediateRender&&ca.duration()&&ca.render(0,!0,!0);Ha.animation=ca.pause();ca.scrollTrigger=Ha;Ha.scrubDuration(wb);var Ze=0;jb||(jb=ca.vars.id)}zb.push(Ha);if(ic){if(!xb(ic)||ic.push)ic={snapTo:ic};"scrollBehavior"in G.style&&Ta.set(vd?[G,Y]:Mb,{scrollBehavior:"auto"});ja._scrollers.forEach(function(ib){return Pa(ib)&&ib.target===(vd?oa.scrollingElement||Y:Mb)&&(ib.smooth=!1)});var gg=
Pa(ic.snapTo)?ic.snapTo:"labels"===ic.snapTo?Nc(ca):"labelsDirectional"===ic.snapTo?od(ca):!1!==ic.directional?function(ib,Xa){return Od(ic.snapTo)(ib,500>A()-Uc?0:Xa.direction)}:Ta.utils.snap(ic.snapTo);var ne=ic.duration||{min:.1,max:2};ne=xb(ne)?K(ne.min,ne.max):K(ne,ne);var Ke=Ta.delayedCall(ic.delay||uf/2||.1,function(){var ib=Kb(),Xa=500>A()-Uc,lb=Gc.tween;if(!(Xa||10>Math.abs(Ha.getVelocity()))||lb||w||Ie===ib)Ha.isActive&&Ie!==ib&&Ke.restart(!0);else{var yb=(ib-jc)/Bc,Jb=ca&&!Vb?ca.totalProgress():
yb;Xa=Xa?0:(Jb-cd)/(A()-E)*1E3||0;var Rb=Ta.utils.clamp(-yb,1-yb,cc(Xa/2)*Xa/.185),$b=yb+(!1===ic.inertia?0:Rb),Fc=K(0,1,gg($b,Ha)),Ob=Math.round(jc+Fc*Bc),dd=ic,pe=dd.onStart,kc=dd.onInterrupt,kd=dd.onComplete;ib<=ad&&ib>=jc&&Ob!==ib&&!(lb&&!lb._initted&&lb.data<=cc(Ob-ib))&&(!1===ic.inertia&&(Rb=Fc-yb),Gc(Ob,{duration:ne(cc(.185*Math.max(cc($b-Jb),cc(Fc-Jb))/Xa/.05||0)),ease:ic.ease||"power3",data:cc(Ob-ib),onInterrupt:function(){return Ke.restart(!0)&&kc&&kc(Ha)},onComplete:function(){Ha.update();
Ie=Kb();Ze=cd=ca&&!Vb?ca.totalProgress():Ha.progress;Vc&&Vc(Ha);kd&&kd(Ha)}},ib,Rb*Bc,Ob-ib-Rb*Bc),pe&&pe(Ha,Gc.tween))}}).pause()}jb&&(Fd[jb]=Ha);(ya=(Eb=Ha.trigger=(0,ja._getTarget)(Eb||mb))&&Eb._gsap&&Eb._gsap.stRevert)&&(ya=ya(Ha));mb=!0===mb?Eb:(0,ja._getTarget)(mb);ra(ab)&&(ab={targets:Eb,className:ab});if(mb){!1===Fb||"margin"===Fb||(Fb=!Fb&&mb.parentNode&&mb.parentNode.style&&"flex"===eb.getComputedStyle(mb.parentNode).display?!1:"padding");Ha.pin=mb;var xd=Ta.core.getCache(mb);if(xd.spacer)var vf=
xd.pinState;else mc&&((mc=(0,ja._getTarget)(mc))&&!mc.nodeType&&(mc=mc.current||mc.nativeElement),xd.spacerIsNative=!!mc,mc&&(xd.spacerState=Ge(mc))),xd.spacer=bd=mc||oa.createElement("div"),bd.classList.add("pin-spacer"),jb&&bd.classList.add("pin-spacer-"+jb),xd.pinState=vf=Ge(mb);!1!==V.force3D&&Ta.set(mb,{force3D:!0});Ha.spacer=bd=xd.spacer;mc=eb.getComputedStyle(mb);var hg=mc[Fb+ob.os2];var Qf=Ta.getProperty(mb);var wf=Ta.quickSetter(mb,ob.a,"px");sd(mb,bd,mc);var $e=Ge(mb)}if(Jc){mc=xb(Jc)?ac(Jc,
pd):pd;var fe=vc("scroller-start",jb,Mb,ob,mc,0);var af=vc("scroller-end",jb,Mb,ob,mc,0,fe);Jc=fe["offset"+ob.op.d2];var Rf=(0,ja._getTarget)((0,ja._getProxyProp)(Mb,"content")||Mb);var jd=this.markerStart=vc("start",jb,Rf,ob,mc,Jc,0,Lb);var yd=this.markerEnd=vc("end",jb,Rf,ob,mc,Jc,0,Lb);Lb&&(ee=Ta.quickSetter([jd,yd],ob.a,"px"));if(!(Ec||ja._proxies.length&&!0===(0,ja._getProxyProp)(Mb,"fixedMarkers"))){qc(vd?G:Mb);Ta.set([fe,af],{force3D:!0});var ge=Ta.quickSetter(fe,ob.a,"px");var kf=Ta.quickSetter(af,
ob.a,"px")}}if(Lb){var oe=Lb.vars.onUpdate,lf=Lb.vars.onUpdateParams;Lb.eventCallback("onUpdate",function(){Ha.update(0,0,1);oe&&oe.apply(lf||[])})}Ha.previous=function(){return zb[zb.indexOf(Ha)-1]};Ha.next=function(){return zb[zb.indexOf(Ha)+1]};Ha.revert=function(ib,Xa){if(!Xa)return Ha.kill(!0);var lb=!1!==ib||!Ha.enabled;ib=C;lb!==Ha.isReverted&&(lb&&(we=Math.max(Kb(),Ha.scroll.rec||0),id=Ha.progress,jf=ca&&ca.progress()),jd&&[jd,yd,fe,af].forEach(function(yb){return yb.style.display=lb?"none":
"block"}),lb&&(C=1,Ha.update(lb)),!mb||Wd&&Ha.isActive||(lb?wc(mb,bd,vf):sd(mb,bd,eb.getComputedStyle(mb),Oc)),lb||Ha.update(lb),C=ib,Ha.isReverted=lb)};Ha.refresh=function(ib,Xa){if(!C&&Ha.enabled||Xa)if(mb&&ib&&J)hc(ha,"scrollEnd",fd);else{!Zc&&Ud&&Ud(Ha);C=1;Uc=A();Gc.tween&&(Gc.tween.kill(),Gc.tween=0);Hb&&Hb.pause();Ub&&ca&&ca.revert({kill:!1}).invalidate();Ha.isReverted||Ha.revert(!0,!0);Ha._subPinOffset=!1;var lb=fg(),yb=Pf(),Jb=Lb?Lb.duration():Ba(Mb,ob),Rb=0;ib=0;var $b=V.end,Fc=V.endTrigger||
Eb,Ob=V.start||(0!==V.start&&Eb?mb?"0 0":"0 100%":0),dd=Ha.pinnedContainer=V.pinnedContainer&&(0,ja._getTarget)(V.pinnedContainer),pe=Eb&&Math.max(0,zb.indexOf(Ha))||0;Xa=pe;for(var kc,kd,Se,Zd;Xa--;)kc=zb[Xa],kc.end||kc.refresh(0,1)||(C=1),!(kd=kc.pin)||kd!==Eb&&kd!==mb||kc.isReverted||(Se||(Se=[]),Se.unshift(kc),kc.revert(!0,!0)),kc!==zb[Xa]&&(pe--,Xa--);Pa(Ob)&&(Ob=Ob(Ha));jc=Ye(Ob,Eb,lb,ob,Kb(),jd,fe,Ha,yb,wd,Ec,Jb,Lb)||(mb?-.001:0);Pa($b)&&($b=$b(Ha));ra($b)&&!$b.indexOf("+\x3d")&&(~$b.indexOf(" ")?
$b=(ra(Ob)?Ob.split(" ")[0]:"")+$b:(Rb=Rd($b.substr(2),lb),$b=ra(Ob)?Ob:jc+Rb,Fc=Eb));ad=Math.max(jc,Ye($b||(Fc?"100% 0":Jb),Fc,lb,ob,Kb()+Rb,yd,af,Ha,yb,wd,Ec,Jb,Lb))||-.001;Bc=ad-jc||(jc-=.01)&&.001;Rb=0;for(Xa=pe;Xa--;)kc=zb[Xa],(kd=kc.pin)&&kc.start-kc._pinPush<=jc&&!Lb&&0<kc.end&&(lb=kc.end-kc.start,(kd===Eb&&kc.start-kc._pinPush<jc||kd===dd)&&!Ja(Ob)&&(Rb+=lb*(1-kc.progress)),kd===mb&&(ib+=lb));jc+=Rb;ad+=Rb;Ha._pinPush=ib;jd&&Rb&&(lb={},lb[ob.a]="+\x3d"+Rb,dd&&(lb[ob.p]="-\x3d"+Kb()),Ta.set([jd,
yd],lb));if(mb)lb=eb.getComputedStyle(mb),Ob=ob===ja._vertical,Rb=Kb(),hd=parseFloat(Qf(ob.a))+ib,!Jb&&1<ad&&(Zd=(vd?oa.scrollingElement||Y:Mb).style,Zd={style:Zd,value:Zd["overflow"+ob.a.toUpperCase()]},Zd["overflow"+ob.a.toUpperCase()]="scroll"),sd(mb,bd,lb),$e=Ge(mb),Jb=Sb(mb,!0),kc=Ec&&(0,ja._getScrollFunc)(Mb,Ob?ja._horizontal:ja._vertical)(),Fb&&(Oc=[Fb+ob.os2,Bc+ib+"px"],Oc.t=bd,(Xa="padding"===Fb?Dd(mb,ob)+Bc+ib:0)&&Oc.push(ob.d,Xa+"px"),ce(Oc),dd&&zb.forEach(function(bf){bf.pin===dd&&!1!==
bf.vars.pinSpacing&&(bf._subPinOffset=!0)}),Ec&&Kb(we)),Ec&&(Xa={top:Jb.top+(Ob?Rb-jc:kc)+"px",left:Jb.left+(Ob?kc:Rb-jc)+"px",boxSizing:"border-box",position:"fixed"},Xa.width=Xa.maxWidth=Math.ceil(Jb.width)+"px",Xa.height=Xa.maxHeight=Math.ceil(Jb.height)+"px",Xa.margin=Xa.marginTop=Xa.marginRight=Xa.marginBottom=Xa.marginLeft="0",Xa.padding=lb.padding,Xa.paddingTop=lb.paddingTop,Xa.paddingRight=lb.paddingRight,Xa.paddingBottom=lb.paddingBottom,Xa.paddingLeft=lb.paddingLeft,Xd=je(vf,Xa,Wd),Zc&&
Kb(0)),ca?(Xa=ca._initted,k(1),ca.render(ca.duration(),!0,!0),Yd=Qf(ob.a)-hd+Bc+ib,Je=1<Math.abs(Bc-Yd),Ec&&Je&&Xd.splice(Xd.length-2,2),ca.render(0,!0,!0),Xa||ca.invalidate(!0),ca.parent||ca.totalTime(ca.totalTime()),k(0)):Yd=Bc,Zd&&(Zd.value?Zd.style["overflow"+ob.a.toUpperCase()]=Zd.value:Zd.style.removeProperty("overflow-"+ob.a));else if(Eb&&Kb()&&!Lb)for(Jb=Eb.parentNode;Jb&&Jb!==G;)Jb._pinOffset&&(jc-=Jb._pinOffset,ad-=Jb._pinOffset),Jb=Jb.parentNode;Se&&Se.forEach(function(bf){return bf.revert(!1,
!0)});Ha.start=jc;Ha.end=ad;Kd=me=Zc?we:Kb();Lb||Zc||(Kd<we&&Kb(we),Ha.scroll.rec=0);Ha.revert(!1,!0);Ke&&(Ie=-1,Ha.isActive&&Kb(jc+Bc*id),Ke.restart(!0));C=0;ca&&Vb&&(ca._initted||jf)&&ca.progress()!==jf&&ca.progress(jf,!0).render(ca.time(),!0,!0);if(id!==Ha.progress||Lb)ca&&!Vb&&ca.totalProgress(id,!0),Ha.progress=(Kd-jc)/Bc===id?0:id;mb&&Fb&&(bd._pinOffset=Math.round(Ha.progress*Yd));bc&&!Zc&&bc(Ha)}};Ha.getVelocity=function(){return(Kb()-me)/(A()-E)*1E3||0};Ha.endAnimation=function(){Ab(Ha.callbackAnimation);
ca&&(Hb?Hb.progress(1):ca.paused()?Vb||Ab(ca,0>Ha.direction,1):Ab(ca,ca.reversed()))};Ha.labelToScroll=function(ib){return ca&&ca.labels&&(jc||Ha.refresh()||jc)+ca.labels[ib]/ca.duration()*Bc||0};Ha.getTrailing=function(ib){var Xa=zb.indexOf(Ha);Xa=0<Ha.direction?zb.slice(0,Xa).reverse():zb.slice(Xa+1);return(ra(ib)?Xa.filter(function(lb){return lb.vars.preventOverlaps===ib}):Xa).filter(function(lb){return 0<Ha.direction?lb.end<=jc:lb.start>=ad})};Ha.update=function(ib,Xa,lb){if(!Lb||lb||ib){lb=Zc?
we:Ha.scroll();var yb=ib?0:(lb-jc)/Bc;yb=0>yb?0:1<yb?1:yb||0;var Jb=Ha.progress,Rb;Xa&&(me=Kd,Kd=Lb?Kb():lb,ic&&(cd=Ze,Ze=ca&&!Vb?ca.totalProgress():yb));Tb&&!yb&&mb&&!C&&!y&&J&&jc<lb+(lb-me)/(A()-E)*Tb&&(yb=1E-4);if(yb!==Jb&&Ha.enabled){var $b=Ha.isActive=!!yb&&1>yb;Xa=(Rb=$b!==(!!Jb&&1>Jb))||!!yb!==!!Jb;Ha.direction=yb>Jb?1:-1;Ha.progress=yb;if(Xa&&!C){var Fc=yb&&!Jb?0:1===yb?1:1===Jb?2:3;if(Vb){var Ob=!Rb&&"none"!==Xb[Fc+1]&&Xb[Fc+1]||Xb[Fc];var dd=ca&&("complete"===Ob||"reset"===Ob||Ob in ca)}}Wb&&
(Rb||dd)&&(dd||wb||!ca)&&(Pa(Wb)?Wb(Ha):Ha.getTrailing(Wb).forEach(function(kd){return kd.endAnimation()}));Vb||(!Hb||C||y?ca&&ca.totalProgress(yb,!!C):(Hb._dp._time-Hb._start!==Hb._time&&Hb.render(Hb._dp._time-Hb._start),Hb.resetTo?Hb.resetTo("totalProgress",yb,ca._tTime/ca._tDur):(Hb.vars.totalProgress=yb,Hb.invalidate().restart())));if(mb)if(ib&&Fb&&(bd.style[Fb+ob.os2]=hg),!Ec)wf(S(hd+Yd*yb));else if(Xa){Jb=!ib&&yb>Jb&&ad+1>lb&&lb+1>=Ba(Mb,ob);if(Wd)if(ib||!$b&&!Jb)Dc(mb,bd);else{var pe=Sb(mb,
!0),kc=lb-jc;Dc(mb,G,pe.top+(ob===ja._vertical?kc:0)+"px",pe.left+(ob===ja._vertical?0:kc)+"px")}ce($b||Jb?Xd:$e);Je&&1>yb&&$b||wf(hd+(1!==yb||Jb?0:Yd))}!ic||Gc.tween||C||y||Ke.restart(!0);ab&&(Rb||zc&&yb&&(1>yb||!B))&&F(ab.targets).forEach(function(kd){return kd.classList[$b||zc?"add":"remove"](ab.className)});Qa&&!Vb&&!ib&&Qa(Ha);if(Xa&&!C){if(Vb){if(dd)if("complete"===Ob)ca.pause().totalProgress(1);else if("reset"===Ob)ca.restart(!0).pause();else if("restart"===Ob)ca.restart(!0);else ca[Ob]();
Qa&&Qa(Ha)}if(Rb||!B)vb&&Rb&&gc(Ha,vb),dc[Fc]&&gc(Ha,dc[Fc]),zc&&(1===yb?Ha.kill(!1,1):dc[Fc]=0),Rb||(Fc=1===yb?1:3,dc[Fc]&&gc(Ha,dc[Fc]));Zb&&!$b&&Math.abs(Ha.getVelocity())>(Ja(Zb)?Zb:2500)&&(Ab(Ha.callbackAnimation),Hb?Hb.progress(1):Ab(ca,"reverse"===Ob?1:!yb,1))}else Vb&&Qa&&!C&&Qa(Ha)}kf&&(ib=Lb?lb/Lb.duration()*(Lb._caScrollDist||0):lb,ge(ib+(fe._isFlipped?1:0)),kf(ib));ee&&ee(-lb/Lb.duration()*(Lb._caScrollDist||0))}};Ha.enable=function(ib,Xa){Ha.enabled||(Ha.enabled=!0,hc(Mb,"resize",Sc),
hc(vd?oa:Mb,"scroll",qd),Ud&&hc(ha,"refreshInit",Ud),!1!==ib&&(Ha.progress=id=0,Kd=me=Ie=Kb()),!1!==Xa&&Ha.refresh())};Ha.getTween=function(ib){return ib&&Gc?Gc.tween:Hb};Ha.setPositions=function(ib,Xa){mb&&(hd+=ib-jc,Yd+=Xa-ib-Bc,"padding"===Fb&&Ha.adjustPinSpacing(Xa-ib-Bc));Ha.start=jc=ib;Ha.end=ad=Xa;Bc=Xa-ib;Ha.update()};Ha.adjustPinSpacing=function(ib){if(Oc){var Xa=Oc.indexOf(ob.d)+1;Oc[Xa]=parseFloat(Oc[Xa])+ib+"px";Oc[1]=parseFloat(Oc[1])+ib+"px";ce(Oc)}};Ha.disable=function(ib,Xa){if(Ha.enabled&&
(!1!==ib&&Ha.revert(!0,!0),Ha.enabled=Ha.isActive=!1,Xa||Hb&&Hb.pause(),we=0,xd&&(xd.uncache=1),Ud&&Pb(ha,"refreshInit",Ud),Ke&&(Ke.pause(),Gc.tween&&Gc.tween.kill()&&(Gc.tween=0)),!vd)){for(ib=zb.length;ib--;)if(zb[ib].scroller===Mb&&zb[ib]!==Ha)return;Pb(Mb,"resize",Sc);Pb(Mb,"scroll",qd)}};Ha.kill=function(ib,Xa){Ha.disable(ib,Xa);Hb&&!Xa&&Hb.kill();jb&&delete Fd[jb];var lb=zb.indexOf(Ha);0<=lb&&zb.splice(lb,1);lb===x&&0<ie&&x--;lb=0;zb.forEach(function(yb){return yb.scroller===Ha.scroller&&(lb=
1)});lb||Zc||(Ha.scroll.rec=0);ca&&(ca.scrollTrigger=null,ib&&ca.revert({kill:!1}),Xa||ca.kill());jd&&[jd,yd,fe,af].forEach(function(yb){return yb.parentNode&&yb.parentNode.removeChild(yb)});ue===Ha&&(ue=0);mb&&(xd&&(xd.uncache=1),lb=0,zb.forEach(function(yb){return yb.pin===mb&&lb++}),lb||(xd.spacer=0));V.onKill&&V.onKill(Ha)};Ha.enable(!1,!1);ya&&ya(Ha);ca&&ca.add&&!Bc?Ta.delayedCall(.01,function(){return jc||ad||Ha.refresh()})&&(Bc=.01)&&(jc=ad=0):Ha.refresh();mb&&rd()}else this.update=this.refresh=
this.kill=la};ha.register=function(V){sb||(Ta=V||aa(),"undefined"!==typeof window&&window.document&&ha.enable(),sb=N);return sb};ha.defaults=function(V){if(V)for(var ca in V)Ed[ca]=V[ca];return Ed};ha.disable=function(V,ca){N=0;zb.forEach(function(Qa){return Qa[ca?"kill":"disable"](V)});Pb(eb,"wheel",qd);Pb(oa,"scroll",qd);clearInterval(z);Pb(oa,"touchcancel",la);Pb(G,"touchstart",la);uc(Pb,oa,"pointerdown,touchstart,mousedown",ea);uc(Pb,oa,"pointerup,touchend,mouseup",ia);T.kill();Na(Pb);for(var ya=
0;ya<ja._scrollers.length;ya+=3)Pd(Pb,ja._scrollers[ya],ja._scrollers[ya+1]),Pd(Pb,ja._scrollers[ya],ja._scrollers[ya+2])};ha.enable=function(){eb=window;oa=document;Y=oa.documentElement;G=oa.body;if(Ta&&(F=Ta.utils.toArray,K=Ta.utils.clamp,e=Ta.core.context||la,k=Ta.core.suppressOverwrites||la,t=eb.history.scrollRestoration||"auto",Ta.core.globals("ScrollTrigger",ha),G)){N=1;ja.Observer.register(Ta);c=(ha.isTouch=ja.Observer.isTouch)&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent);hc(eb,"wheel",
qd);X=[eb,oa,Y,G];Ta.matchMedia?(ha.matchMedia=function(Qa){var ab=Ta.matchMedia(),jb;for(jb in Qa)ab.add(jb,Qa[jb]);return ab},Ta.addEventListener("matchMediaInit",function(){return Sd()}),Ta.addEventListener("matchMediaRevert",function(){return Fe()}),Ta.addEventListener("matchMedia",function(){Yc(0,1);Hd("matchMedia")}),Ta.matchMedia("(orientation: portrait)",function(){Gd();return Gd})):console.warn("Requires GSAP 3.11.0 or later");Gd();hc(oa,"scroll",qd);var V=G.style,ca=V.borderTopStyle,ya=
Ta.core.Animation.prototype;ya.revert||Object.defineProperty(ya,"revert",{value:function(){return this.time(-.01,!0)}});V.borderTopStyle="solid";ya=Sb(G);ja._vertical.m=Math.round(ya.top+ja._vertical.sc())||0;ja._horizontal.m=Math.round(ya.left+ja._horizontal.sc())||0;ca?V.borderTopStyle=ca:V.removeProperty("border-top-style");z=setInterval(Qe,250);Ta.delayedCall(.5,function(){return y=0});hc(oa,"touchcancel",la);hc(G,"touchstart",la);uc(hc,oa,"pointerdown,touchstart,mousedown",ea);uc(hc,oa,"pointerup,touchend,mouseup",
ia);q=Ta.utils.checkPrefix("transform");be.push(q);sb=A();T=Ta.delayedCall(.2,Yc).pause();l=[oa,"visibilitychange",function(){var Qa=eb.innerWidth,ab=eb.innerHeight;oa.hidden?(v=Qa,g=ab):v===Qa&&g===ab||Sc()},oa,"DOMContentLoaded",Yc,eb,"load",Yc,eb,"resize",Sc];Na(hc);zb.forEach(function(Qa){return Qa.enable(0,1)});for(V=0;V<ja._scrollers.length;V+=3)Pd(Pb,ja._scrollers[V],ja._scrollers[V+1]),Pd(Pb,ja._scrollers[V],ja._scrollers[V+2])}};ha.config=function(V){"limitCallbacks"in V&&(B=!!V.limitCallbacks);
var ca=V.syncInterval;ca&&clearInterval(z)||(z=ca)&&setInterval(Qe,ca);"ignoreMobileResize"in V&&(u=1===ha.isTouch&&V.ignoreMobileResize);"autoRefreshEvents"in V&&(Na(Pb)||Na(hc,V.autoRefreshEvents||"none"),p=-1===(V.autoRefreshEvents+"").indexOf("resize"))};ha.scrollerProxy=function(V,ca){V=(0,ja._getTarget)(V);var ya=ja._scrollers.indexOf(V),Qa=!!~X.indexOf(V);~ya&&ja._scrollers.splice(ya,Qa?6:2);ca&&(Qa?ja._proxies.unshift(eb,ca,G,ca,Y,ca):ja._proxies.unshift(V,ca))};ha.clearMatchMedia=function(V){zb.forEach(function(ca){return ca._ctx&&
ca._ctx.query===V&&ca._ctx.kill(!0,!0)})};ha.isInViewport=function(V,ca,ya){V=(ra(V)?(0,ja._getTarget)(V):V).getBoundingClientRect();ca=V[ya?"width":"height"]*ca||0;return ya?0<V.right-ca&&V.left+ca<eb.innerWidth:0<V.bottom-ca&&V.top+ca<eb.innerHeight};ha.positionInViewport=function(V,ca,ya){ra(V)&&(V=(0,ja._getTarget)(V));V=V.getBoundingClientRect();var Qa=V[ya?"width":"height"];ca=null==ca?Qa/2:ca in Qd?Qd[ca]*Qa:~ca.indexOf("%")?parseFloat(ca)*Qa/100:parseFloat(ca)||0;return ya?(V.left+ca)/eb.innerWidth:
(V.top+ca)/eb.innerHeight};ha.killAll=function(V){zb.slice(0).forEach(function(ca){return"ScrollSmoother"!==ca.vars.id&&ca.kill()});!0!==V&&(V=Tc.killAll||[],Tc={},V.forEach(function(ca){return ca()}))};return ha}();La.default=La.ScrollTrigger=Ib;Ib.version="3.11.4";Ib.saveStyles=function(ha){return ha?F(ha).forEach(function(V){if(V&&V.style){var ca=Cc.indexOf(V);0<=ca&&Cc.splice(ca,5);Cc.push(V,V.style.cssText,V.getBBox&&V.getAttribute("transform"),Ta.core.getCache(V),e())}}):Cc};Ib.revert=function(ha,
V){return Sd(!ha,V)};Ib.create=function(ha,V){return new Ib(ha,V)};Ib.refresh=function(ha){return ha?Sc():(sb||Ib.register())&&Yc(!0)};Ib.update=function(ha){return++ja._scrollers.cache&&Td(!0===ha?2:0)};Ib.clearScrollMemory=gd;Ib.maxScroll=function(ha,V){return Ba(ha,V?ja._horizontal:ja._vertical)};Ib.getScrollFunc=function(ha,V){return(0,ja._getScrollFunc)((0,ja._getTarget)(ha),V?ja._horizontal:ja._vertical)};Ib.getById=function(ha){return Fd[ha]};Ib.getAll=function(){return zb.filter(function(ha){return"ScrollSmoother"!==
ha.vars.id})};Ib.isScrolling=function(){return!!J};Ib.snapDirectional=Od;Ib.addEventListener=function(ha,V){ha=Tc[ha]||(Tc[ha]=[]);~ha.indexOf(V)||ha.push(V)};Ib.removeEventListener=function(ha,V){V=(ha=Tc[ha])&&ha.indexOf(V);0<=V&&ha.splice(V,1)};Ib.batch=function(ha,V){var ca=[],ya={},Qa=V.interval||.016,ab=V.batchMax||1E9,jb=function(bc,wb){var Eb=[],mb=[],Fb=Ta.delayedCall(Qa,function(){wb(Eb,mb);Eb=[];mb=[]}).pause();return function(Ub){Eb.length||Fb.restart(!0);Eb.push(Ub.trigger);mb.push(Ub);
ab<=Eb.length&&Fb.progress(1)}},vb;for(vb in V)ya[vb]="on"===vb.substr(0,2)&&Pa(V[vb])&&"onRefreshInit"!==vb?jb(vb,V[vb]):V[vb];Pa(ab)&&(ab=ab(),hc(Ib,"refresh",function(){return ab=V.batchMax()}));F(ha).forEach(function(bc){var wb={};for(vb in ya)wb[vb]=ya[vb];wb.trigger=bc;ca.push(Ib.create(wb))});return ca};var ke=function(ha,V,ca,ya){V>ya?ha(ya):0>V&&ha(0);return ca>ya?(ya-V)/(ca-V):0>ca?V/(V-ca):1},ve=function ya(V,ca){!0===ca?V.style.removeProperty("touch-action"):V.style.touchAction=!0===ca?
"auto":ca?"pan-"+ca+(ja.Observer.isTouch?" pinch-zoom":""):"none";V===Y&&ya(G,ca)},le={auto:1,scroll:1},hf=function(V){var ca=V.event,ya=V.target;V=V.axis;var Qa=(ca.changedTouches?ca.changedTouches[0]:ca).target,ab=Qa._gsap||Ta.core.getCache(Qa),jb=A(),vb;if(!ab._isScrollT||2E3<jb-ab._isScrollT){for(;Qa&&Qa!==G&&(Qa.scrollHeight<=Qa.clientHeight&&Qa.scrollWidth<=Qa.clientWidth||!le[(vb=eb.getComputedStyle(Qa)).overflowY]&&!le[vb.overflowX]);)Qa=Qa.parentNode;ab._isScroll=Qa&&Qa!==ya&&!~X.indexOf(Qa)&&
(le[(vb=eb.getComputedStyle(Qa)).overflowY]||le[vb.overflowX]);ab._isScrollT=jb}if(ab._isScroll||"x"===V)ca.stopPropagation(),ca._gsapAllow=!0},Re=function(V,ca,ya,Qa){return ja.Observer.create({target:V,capture:!0,debounce:!1,lockAxis:!0,type:ca,onWheel:Qa=Qa&&hf,onPress:Qa,onDrag:Qa,onScroll:Qa,onEnable:function(){return ya&&hc(oa,ja.Observer.eventTypes[0],Jd,!1,!0)},onDisable:function(){return Pb(oa,ja.Observer.eventTypes[0],Jd,!0)}})},ud=/(input|label|select|textarea)/i,He,Jd=function(V){var ca=
ud.test(V.target.tagName);if(ca||He)V._gsapAllow=!0,He=ca},Vd=function(V){xb(V)||(V={});V.preventDefault=V.isNormalizer=V.allowClicks=!0;V.type||(V.type="wheel,touch");V.debounce=!!V.debounce;V.id=V.id||"normalizer";var ca=V,ya=ca.normalizeScrollX,Qa=ca.momentum;ca=ca.allowNestedScroll;var ab,jb=(0,ja._getTarget)(V.target)||Y,vb=Ta.core.globals().ScrollSmoother;vb=vb&&vb.get();var bc=c&&(V.content&&(0,ja._getTarget)(V.content)||vb&&!1!==V.content&&!vb.smooth()&&vb.content()),wb=(0,ja._getScrollFunc)(jb,
ja._vertical),Eb=(0,ja._getScrollFunc)(jb,ja._horizontal),mb=1,Fb=(ja.Observer.isTouch&&eb.visualViewport?eb.visualViewport.scale*eb.visualViewport.width:eb.outerWidth)/eb.innerWidth,Ub=0,Tb=Pa(Qa)?function(){return Qa(Mb)}:function(){return Qa||2.8},rc,Vc,zc=Re(jb,V.type,!0,ca),ic=function(){return Vc=!1},Wd=la,mc=la,Lb=function(){ab=Ba(jb,ja._vertical);mc=K(c?1:0,ab);ya&&(Wd=K(0,Ba(jb,ja._horizontal)));rc=Qb},Zb=function(){bc._gsap.y=S(parseFloat(bc._gsap.y)+wb.offset)+"px";bc.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+
parseFloat(bc._gsap.y)+", 0, 1)";wb.offset=wb.cacheID=0},Wb,ob,Vb=function(){Lb();Ec.isActive()&&Ec.vars.scrollY>ab&&(wb()>ab?Ec.progress(1)&&wb(ab):Ec.resetTo("scrollY",ab))};bc&&Ta.set(bc,{y:"+\x3d0"});V.ignoreCheck=function(dc){var Xb;if(Xb=c&&"touchmove"===dc.type)Vc?(requestAnimationFrame(ic),Xb=S(Mb.deltaY/2),Xb=mc(wb.v-Xb),bc&&Xb!==wb.v+wb.offset&&(wb.offset=Xb-wb.v,Xb=S((parseFloat(bc&&bc._gsap.y)||0)-wb.offset),bc.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Xb+", 0, 1)",
bc._gsap.y=Xb+"px",wb.cacheID=ja._scrollers.cache,Td()),Xb=!0):(wb.offset&&Zb(),Vc=!0,Xb=void 0);return Xb||1.05<mb&&"touchstart"!==dc.type||Mb.isGesturing||dc.touches&&1<dc.touches.length};V.onPress=function(){var dc=mb;mb=S((eb.visualViewport&&eb.visualViewport.scale||1)/Fb);Ec.pause();dc!==mb&&ve(jb,1.01<mb?!0:ya?!1:"x");Wb=Eb();ob=wb();Lb();rc=Qb};V.onRelease=V.onGestureStart=function(dc,Xb){wb.offset&&Zb();if(Xb){ja._scrollers.cache++;Xb=Tb();if(ya){var Jc=Eb();var wd=Jc+.05*Xb*-dc.velocityX/
.227;Xb*=ke(Eb,Jc,wd,Ba(jb,ja._horizontal));Ec.vars.scrollX=Wd(wd)}Jc=wb();wd=Jc+.05*Xb*-dc.velocityY/.227;Xb*=ke(wb,Jc,wd,Ba(jb,ja._vertical));Ec.vars.scrollY=mc(wd);Ec.invalidate().duration(Xb).play(.01);(c&&Ec.vars.scrollY>=ab||Jc>=ab-1)&&Ta.to({},{onUpdate:Vb,duration:Xb})}else vd.restart(!0)};V.onWheel=function(){Ec._ts&&Ec.pause();1E3<A()-Ub&&(rc=0,Ub=A())};V.onChange=function(dc,Xb,Jc,wd,Ha){Qb!==rc&&Lb();Xb&&ya&&Eb(Wd(wd[2]===Xb?Wb+(dc.startX-dc.x):Eb()+Xb-wd[1]));Jc&&(wb.offset&&Zb(),dc=
(wd=Ha[2]===Jc)?ob+dc.startY-dc.y:wb()+Jc-Ha[1],Ha=mc(dc),wd&&dc!==Ha&&(ob+=Ha-dc),wb(Ha));(Jc||Xb)&&Td()};V.onEnable=function(){ve(jb,ya?!1:"x");Ib.addEventListener("refresh",Vb);hc(eb,"resize",Vb);wb.smooth&&(wb.target.style.scrollBehavior="auto",wb.smooth=Eb.smooth=!1);zc.enable()};V.onDisable=function(){ve(jb,!0);Pb(eb,"resize",Vb);Ib.removeEventListener("refresh",Vb);zc.kill()};V.lockAxis=!1!==V.lockAxis;var Mb=new ja.Observer(V);(Mb.iOS=c)&&!wb()&&wb(1);c&&Ta.ticker.add(la);var vd=Mb._dc;var Ec=
Ta.to(Mb,{ease:"power4",paused:!0,scrollX:ya?"+\x3d0.1":"+\x3d0",scrollY:"+\x3d0.1",onComplete:vd.vars.onComplete});return Mb};Ib.sort=function(V){return zb.sort(V||function(ca,ya){return-1E6*(ca.vars.refreshPriority||0)+ca.start-(ya.start+-1E6*(ya.vars.refreshPriority||0))})};Ib.observe=function(V){return new ja.Observer(V)};Ib.normalizeScroll=function(V){if("undefined"===typeof V)return r;if(!0===V&&r)return r.enable();if(!1===V)return r&&r.kill();V=V instanceof ja.Observer?V:Vd(V);r&&r.target===
V.target&&r.kill();~X.indexOf(V.target)&&(r=V);return V};Ib.core={_getVelocityProp:ja._getVelocityProp,_inputObserver:Re,_scrollers:ja._scrollers,_proxies:ja._proxies,bridge:{ss:function(){J||Hd("scrollStart");J=A()},ref:function(){return C}}};aa()&&Ta.registerPlugin(Ib)};
shadow$provide[8]=function(pc,Ic,Mc,La){function ja(A,H){var J=A.length;A.push(H);a:for(;0<J;){var N=J-1>>>1,ea=A[N];if(0<eb(ea,H))A[N]=H,A[J]=ea,J=N;else break a}}function Ta(A){return 0===A.length?null:A[0]}function sb(A){if(0===A.length)return null;var H=A[0],J=A.pop();if(J!==H){A[0]=J;var N=0,ea=A.length,ia=ea>>>1;a:for(;N<ia;){var la=2*(N+1)-1,S=A[la],aa=la+1,da=A[aa];if(0>eb(S,J))aa<ea&&0>eb(da,S)?(A[N]=da,A[aa]=J,N=aa):(A[N]=S,A[la]=J,N=la);else if(aa<ea&&0>eb(da,J))A[N]=da,A[aa]=J,N=aa;else break a}}return H}
function eb(A,H){var J=A.sortIndex-H.sortIndex;return 0!==J?J:A.id-H.id}function oa(A){for(var H=Ta(q);null!==H;){if(null===H.callback)sb(q);else if(H.startTime<=A)sb(q),H.sortIndex=H.expirationTime,ja(w,H);else break;H=Ta(q)}}function Y(A){k=!1;oa(A);if(!h)if(null!==Ta(w))h=!0,F(G);else{var H=Ta(q);null!==H&&K(Y,H.startTime-A)}}function G(A,H){h=!1;k&&(k=!1,r(c),c=-1);l=!0;var J=g;try{oa(H);for(v=Ta(w);null!==v&&(!(v.expirationTime>H)||A&&!X());){var N=v.callback;if("function"===typeof N){v.callback=
null;g=v.priorityLevel;var ea=N(v.expirationTime<=H);H=La.unstable_now();"function"===typeof ea?v.callback=ea:v===Ta(w)&&sb(w);oa(H)}else sb(w);v=Ta(w)}if(null!==v)var ia=!0;else{var la=Ta(q);null!==la&&K(Y,la.startTime-H);ia=!1}return ia}finally{v=null,g=J,l=!1}}function X(){return La.unstable_now()-t<e?!1:!0}function T(){if(null!==f){var A=La.unstable_now();t=A;var H=!0;try{H=f(!0,A)}finally{H?B():(m=!1,f=null)}}else m=!1}function F(A){f=A;m||(m=!0,B())}function K(A,H){c=p(function(){A(La.unstable_now())},
H)}if("object"===typeof performance&&"function"===typeof performance.now){var E=performance;La.unstable_now=function(){return E.now()}}else{var z=Date,C=z.now();La.unstable_now=function(){return z.now()-C}}var w=[],q=[],x=1,v=null,g=3,l=!1,h=!1,k=!1,p="function"===typeof setTimeout?setTimeout:null,r="function"===typeof clearTimeout?clearTimeout:null,u="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&
navigator.scheduling.isInputPending.bind(navigator.scheduling);var m=!1,f=null,c=-1,e=5,t=-1;if("function"===typeof u)var B=function(){u(T)};else if("undefined"!==typeof MessageChannel){pc=new MessageChannel;var y=pc.port2;pc.port1.onmessage=T;B=function(){y.postMessage(null)}}else B=function(){p(T,0)};La.unstable_IdlePriority=5;La.unstable_ImmediatePriority=1;La.unstable_LowPriority=4;La.unstable_NormalPriority=3;La.unstable_Profiling=null;La.unstable_UserBlockingPriority=2;La.unstable_cancelCallback=
function(A){A.callback=null};La.unstable_continueExecution=function(){h||l||(h=!0,F(G))};La.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):e=0<A?Math.floor(1E3/A):5};La.unstable_getCurrentPriorityLevel=function(){return g};La.unstable_getFirstCallbackNode=function(){return Ta(w)};La.unstable_next=function(A){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var J=
g;g=H;try{return A()}finally{g=J}};La.unstable_pauseExecution=function(){};La.unstable_requestPaint=function(){};La.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var J=g;g=A;try{return H()}finally{g=J}};La.unstable_scheduleCallback=function(A,H,J){var N=La.unstable_now();"object"===typeof J&&null!==J?(J=J.delay,J="number"===typeof J&&0<J?N+J:N):J=N;switch(A){case 1:var ea=-1;break;case 2:ea=250;break;case 5:ea=1073741823;break;case 4:ea=1E4;
break;default:ea=5E3}ea=J+ea;A={id:x++,callback:H,priorityLevel:A,startTime:J,expirationTime:ea,sortIndex:-1};J>N?(A.sortIndex=J,ja(q,A),null===Ta(w)&&A===Ta(q)&&(k?(r(c),c=-1):k=!0,K(Y,J-N))):(A.sortIndex=ea,ja(w,A),h||l||(h=!0,F(G)));return A};La.unstable_shouldYield=X;La.unstable_wrapCallback=function(A){var H=g;return function(){var J=g;g=H;try{return A.apply(this,arguments)}finally{g=J}}}};
shadow$provide[10]=function(pc,Ic,Mc,La){Mc.exports=Ic(8)};
shadow$provide[11]=function(pc,Ic,Mc,La){function ja(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,d=1;d<arguments.length;d++)b+="\x26args[]\x3d"+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ta(a,b){sb(a,b);sb(a+"Capture",b)}function sb(a,b){Ug[a]=b;for(a=0;a<b.length;a++)kj.add(b[a])}function eb(a){if(mi.call(lj,a))return!0;
if(mi.call(mj,a))return!1;if(fk.test(a))return lj[a]=!0;mj[a]=!0;return!1}function oa(a,b,d,n){if(null!==d&&0===d.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(n)return!1;if(null!==d)return!d.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function Y(a,b,d,n){if(null===b||"undefined"===typeof b||oa(a,b,d,n))return!0;if(n)return!1;if(null!==d)switch(d.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);
case 6:return isNaN(b)||1>b}return!1}function G(a,b,d,n,D,I,W){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=n;this.attributeNamespace=D;this.mustUseProperty=d;this.propertyName=a;this.type=b;this.sanitizeURL=I;this.removeEmptyString=W}function X(a){return a[1].toUpperCase()}function T(a,b,d,n){var D=Ld.hasOwnProperty(b)?Ld[b]:null;if(null!==D?0!==D.type:n||!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1])Y(b,d,D,n)&&(d=null),n||null===D?eb(b)&&(null===d?a.removeAttribute(b):
a.setAttribute(b,""+d)):D.mustUseProperty?a[D.propertyName]=null===d?3===D.type?!1:"":d:(b=D.attributeName,n=D.attributeNamespace,null===d?a.removeAttribute(b):(D=D.type,d=3===D||4===D&&!0===d?"":""+d,n?a.setAttributeNS(n,b,d):a.setAttribute(b,d)))}function F(a){if(null===a||"object"!==typeof a)return null;a=nj&&a[nj]||a["@@iterator"];return"function"===typeof a?a:null}function K(a){if(void 0===ni)try{throw Error();}catch(d){var b=d.stack.trim().match(/\n( *(at )?)/);ni=b&&b[1]||""}return"\n"+ni+
a}function E(a,b){if(!a||oi)return"";oi=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(Fa){var n=Fa}Reflect.construct(a,[],b)}else{try{b.call()}catch(Fa){n=Fa}a.call(b.prototype)}else{try{throw Error();}catch(Fa){n=Fa}a()}}catch(Fa){if(Fa&&n&&"string"===typeof Fa.stack){for(var D=Fa.stack.split("\n"),
I=n.stack.split("\n"),W=D.length-1,ka=I.length-1;1<=W&&0<=ka&&D[W]!==I[ka];)ka--;for(;1<=W&&0<=ka;W--,ka--)if(D[W]!==I[ka]){if(1!==W||1!==ka){do if(W--,ka--,0>ka||D[W]!==I[ka]){var sa="\n"+D[W].replace(" at new "," at ");a.displayName&&sa.includes("\x3canonymous\x3e")&&(sa=sa.replace("\x3canonymous\x3e",a.displayName));return sa}while(1<=W&&0<=ka)}break}}}finally{oi=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?K(a):""}function z(a){switch(a.tag){case 5:return K(a.type);case 16:return K("Lazy");
case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return a=E(a.type,!1),a;case 11:return a=E(a.type.render,!1),a;case 1:return a=E(a.type,!0),a;default:return""}}function C(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case rg:return"Fragment";case sg:return"Portal";case pi:return"Profiler";case qi:return"StrictMode";case ri:return"Suspense";case si:return"SuspenseList"}if("object"===
typeof a)switch(a.$$typeof){case oj:return(a.displayName||"Context")+".Consumer";case pj:return(a._context.displayName||"Context")+".Provider";case ti:var b=a.render;(a=a.displayName)||(a=b.displayName||b.name||"",a=""!==a?"ForwardRef("+a+")":"ForwardRef");return a;case ui:return b=a.displayName||null,null!==b?b:C(a.type)||"Memo";case Cf:b=a._payload;a=a._init;try{return C(a(b))}catch(d){}}return null}function w(a){var b=a.type;switch(a.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+
".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=b.render,a=a.displayName||a.name||"",b.displayName||(""!==a?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(b);case 8:return b===qi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b}return null}function q(a){switch(typeof a){case "boolean":case "number":case "string":case "undefined":return a;case "object":return a;default:return""}}function x(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function v(a){var b=x(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,
b),n=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof d&&"function"===typeof d.get&&"function"===typeof d.set){var D=d.get,I=d.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return D.call(this)},set:function(W){n=""+W;I.call(this,W)}});Object.defineProperty(a,b,{enumerable:d.enumerable});return{getValue:function(){return n},setValue:function(W){n=""+W},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function g(a){a._valueTracker||(a._valueTracker=v(a))}function l(a){if(!a)return!1;
var b=a._valueTracker;if(!b)return!0;var d=b.getValue(),n="";a&&(n=x(a)?a.checked?"true":"false":a.value);a=n;return a!==d?(b.setValue(a),!0):!1}function h(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function k(a,b){var d=b.checked;return Kc({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=d?d:a._wrapperState.initialChecked})}function p(a,b){var d=null==b.defaultValue?
"":b.defaultValue,n=null!=b.checked?b.checked:b.defaultChecked;d=q(null!=b.value?b.value:d);a._wrapperState={initialChecked:n,initialValue:d,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function r(a,b){b=b.checked;null!=b&&T(a,"checked",b,!1)}function u(a,b){r(a,b);var d=q(b.value),n=b.type;if(null!=d)if("number"===n){if(0===d&&""===a.value||a.value!=d)a.value=""+d}else a.value!==""+d&&(a.value=""+d);else if("submit"===n||"reset"===n){a.removeAttribute("value");
return}b.hasOwnProperty("value")?f(a,b.type,d):b.hasOwnProperty("defaultValue")&&f(a,b.type,q(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function m(a,b,d){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var n=b.type;if(!("submit"!==n&&"reset"!==n||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;d||b===a.value||(a.value=b);a.defaultValue=b}d=a.name;""!==d&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;
""!==d&&(a.name=d)}function f(a,b,d){if("number"!==b||h(a.ownerDocument)!==a)null==d?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d)}function c(a,b,d,n){a=a.options;if(b){b={};for(var D=0;D<d.length;D++)b["$"+d[D]]=!0;for(d=0;d<a.length;d++)D=b.hasOwnProperty("$"+a[d].value),a[d].selected!==D&&(a[d].selected=D),D&&n&&(a[d].defaultSelected=!0)}else{d=""+q(d);b=null;for(D=0;D<a.length;D++){if(a[D].value===d){a[D].selected=!0;n&&(a[D].defaultSelected=!0);return}null!==
b||a[D].disabled||(b=a[D])}null!==b&&(b.selected=!0)}}function e(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(ja(91));return Kc({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function t(a,b){var d=b.value;if(null==d){d=b.children;b=b.defaultValue;if(null!=d){if(null!=b)throw Error(ja(92));if(Vg(d)){if(1<d.length)throw Error(ja(93));d=d[0]}b=d}null==b&&(b="");d=b}a._wrapperState={initialValue:q(d)}}function B(a,b){var d=q(b.value),n=q(b.defaultValue);null!=
d&&(d=""+d,d!==a.value&&(a.value=d),null==b.defaultValue&&a.defaultValue!==d&&(a.defaultValue=d));null!=n&&(a.defaultValue=""+n)}function y(a){var b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}function A(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?A(b):"http://www.w3.org/2000/svg"===
a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function J(a,b){if(b){var d=a.firstChild;if(d&&d===a.lastChild&&3===d.nodeType){d.nodeValue=b;return}}a.textContent=b}function N(a,b,d){return null==b||"boolean"===typeof b||""===b?"":d||"number"!==typeof b||0===b||Wg.hasOwnProperty(a)&&Wg[a]?(""+b).trim():b+"px"}function ea(a,b){a=a.style;for(var d in b)if(b.hasOwnProperty(d)){var n=0===d.indexOf("--"),D=N(d,b[d],n);"float"===d&&(d="cssFloat");n?a.setProperty(d,D):a[d]=D}}function ia(a,b){if(b){if(gk[a]&&
(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(ja(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(ja(60));if("object"!==typeof b.dangerouslySetInnerHTML||!("__html"in b.dangerouslySetInnerHTML))throw Error(ja(61));}if(null!=b.style&&"object"!==typeof b.style)throw Error(ja(62));}}function la(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function S(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function aa(a){if(a=ic(a)){if("function"!==typeof vi)throw Error(ja(280));var b=a.stateNode;b&&(b=mc(b),vi(a.stateNode,a.type,b))}}function da(a){tg?ug?ug.push(a):ug=[a]:tg=a}function ma(){if(tg){var a=tg,b=ug;ug=tg=null;aa(a);if(b)for(a=0;a<b.length;a++)aa(b[a])}}function na(a,b){return a(b)}function Ba(){}function Na(a,b,d){if(wi)return a(b,
d);wi=!0;try{return na(a,b,d)}finally{if(wi=!1,null!==tg||null!==ug)Ba(),ma()}}function ra(a,b){var d=a.stateNode;if(null===d)return null;var n=mc(d);if(null===n)return null;d=n[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(n=!n.disabled)||(a=a.type,n=!("button"===a||"input"===a||"select"===a||
"textarea"===a));a=!n;break a;default:a=!1}if(a)return null;if(d&&"function"!==typeof d)throw Error(ja(231,b,typeof d));return d}function Pa(a,b,d,n,D,I,W,ka,sa){var Fa=Array.prototype.slice.call(arguments,3);try{b.apply(d,Fa)}catch(Va){this.onError(Va)}}function Ja(a,b,d,n,D,I,W,ka,sa){Xg=!1;Ah=null;Pa.apply(hk,arguments)}function xb(a,b,d,n,D,I,W,ka,sa){Ja.apply(this,arguments);if(Xg){if(Xg){var Fa=Ah;Xg=!1;Ah=null}else throw Error(ja(198));Bh||(Bh=!0,xi=Fa)}}function Ab(a){var b=a,d=a;if(a.alternate)for(;b.return;)b=
b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(d=b.return),a=b.return;while(a)}return 3===b.tag?d:null}function gc(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function cc(a){if(Ab(a)!==a)throw Error(ja(188));}function qc(a){var b=a.alternate;if(!b){b=Ab(a);if(null===b)throw Error(ja(188));return b!==a?null:a}for(var d=a,n=b;;){var D=d.return;if(null===D)break;var I=D.alternate;if(null===I){n=D.return;if(null!==
n){d=n;continue}break}if(D.child===I.child){for(I=D.child;I;){if(I===d)return cc(D),a;if(I===n)return cc(D),b;I=I.sibling}throw Error(ja(188));}if(d.return!==n.return)d=D,n=I;else{for(var W=!1,ka=D.child;ka;){if(ka===d){W=!0;d=D;n=I;break}if(ka===n){W=!0;n=D;d=I;break}ka=ka.sibling}if(!W){for(ka=I.child;ka;){if(ka===d){W=!0;d=I;n=D;break}if(ka===n){W=!0;n=I;d=D;break}ka=ka.sibling}if(!W)throw Error(ja(189));}}if(d.alternate!==n)throw Error(ja(190));}if(3!==d.tag)throw Error(ja(188));return d.stateNode.current===
d?a:b}function ac(a){a=qc(a);return null!==a?Sb(a):null}function Sb(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=Sb(a);if(null!==b)return b;a=a.sibling}return null}function Dd(a){if(cf&&"function"===typeof cf.onCommitFiberRoot)try{cf.onCommitFiberRoot(Ch,a,void 0,128===(a.current.flags&128))}catch(b){}}function Xc(a){a>>>=0;return 0===a?32:31-(ik(a)/jk|0)|0}function Nc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;
case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Od(a,b){var d=a.pendingLanes;if(0===d)return 0;var n=0,D=a.suspendedLanes,
I=a.pingedLanes,W=d&268435455;if(0!==W){var ka=W&~D;0!==ka?n=Nc(ka):(I&=W,0!==I&&(n=Nc(I)))}else W=d&~D,0!==W?n=Nc(W):0!==I&&(n=Nc(I));if(0===n)return 0;if(0!==b&&b!==n&&0===(b&D)&&(D=n&-n,I=b&-b,D>=I||16===D&&0!==(I&4194240)))return b;0!==(n&4)&&(n|=d&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=n;0<b;)d=31-Ue(b),D=1<<d,n|=a[d],b&=~D;return n}function od(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(a,b){for(var d=a.suspendedLanes,n=a.pingedLanes,D=a.expirationTimes,I=a.pendingLanes;0<I;){var W=31-Ue(I),ka=1<<W,sa=D[W];if(-1===sa){if(0===(ka&d)||0!==(ka&n))D[W]=od(ka,b)}else sa<=b&&(a.expiredLanes|=ka);I&=~ka}}function hc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Pb(){var a=
Dh;Dh<<=1;0===(Dh&4194240)&&(Dh=64);return a}function Pd(a){for(var b=[],d=0;31>d;d++)b.push(a);return b}function pd(a,b,d){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-Ue(b);a[b]=d}function Ed(a,b){var d=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var n=a.eventTimes;for(a=a.expirationTimes;0<d;){var D=31-Ue(d),I=1<<D;b[D]=0;n[D]=-1;a[D]=-1;d&=~I}}function Qd(a,
b){var d=a.entangledLanes|=b;for(a=a.entanglements;d;){var n=31-Ue(d),D=1<<n;D&b|a[n]&b&&(a[n]|=b);d&=~D}}function Rd(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}function vc(a,b){switch(a){case "focusin":case "focusout":Df=null;break;case "dragenter":case "dragleave":Ef=null;break;case "mouseover":case "mouseout":Ff=null;break;case "pointerover":case "pointerout":Yg.delete(b.pointerId);break;case "gotpointercapture":case "lostpointercapture":Zg.delete(b.pointerId)}}function nc(a,b,
d,n,D,I){if(null===a||a.nativeEvent!==I)return a={blockedOn:b,domEventName:d,eventSystemFlags:n,nativeEvent:I,targetContainers:[D]},null!==b&&(b=ic(b),null!==b&&qj(b)),a;a.eventSystemFlags|=n;b=a.targetContainers;null!==D&&-1===b.indexOf(D)&&b.push(D);return a}function zb(a,b,d,n,D){switch(b){case "focusin":return Df=nc(Df,a,b,d,n,D),!0;case "dragenter":return Ef=nc(Ef,a,b,d,n,D),!0;case "mouseover":return Ff=nc(Ff,a,b,d,n,D),!0;case "pointerover":var I=D.pointerId;Yg.set(I,nc(Yg.get(I)||null,a,b,
d,n,D));return!0;case "gotpointercapture":return I=D.pointerId,Zg.set(I,nc(Zg.get(I)||null,a,b,d,n,D)),!0}return!1}function Fd(a){var b=zc(a.target);if(null!==b){var d=Ab(b);if(null!==d)if(b=d.tag,13===b){if(b=gc(d),null!==b){a.blockedOn=b;kk(a.priority,function(){lk(d)});return}}else if(3===b&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===d.tag?d.stateNode.containerInfo:null;return}}a.blockedOn=null}function xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var d=
Hd(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===d){d=a.nativeEvent;var n=new d.constructor(d.type,d);yi=n;d.target.dispatchEvent(n);yi=null}else return b=ic(d),null!==b&&qj(b),a.blockedOn=d,!1;b.shift()}return!0}function Qe(a,b,d){xc(a)&&d.delete(b)}function qd(){zi=!1;null!==Df&&xc(Df)&&(Df=null);null!==Ef&&xc(Ef)&&(Ef=null);null!==Ff&&xc(Ff)&&(Ff=null);Yg.forEach(Qe);Zg.forEach(Qe)}function Gd(a,b){a.blockedOn===b&&(a.blockedOn=null,zi||(zi=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,
qd)))}function Sc(a){function b(D){return Gd(D,a)}if(0<Eh.length){Gd(Eh[0],a);for(var d=1;d<Eh.length;d++){var n=Eh[d];n.blockedOn===a&&(n.blockedOn=null)}}null!==Df&&Gd(Df,a);null!==Ef&&Gd(Ef,a);null!==Ff&&Gd(Ff,a);Yg.forEach(b);Zg.forEach(b);for(d=0;d<Gf.length;d++)n=Gf[d],n.blockedOn===a&&(n.blockedOn=null);for(;0<Gf.length&&(d=Gf[0],null===d.blockedOn);)Fd(d),null===d.blockedOn&&Gf.shift()}function Tc(a,b,d,n){var D=oc,I=vg.transition;vg.transition=null;try{oc=1,fd(a,b,d,n)}finally{oc=D,vg.transition=
I}}function ff(a,b,d,n){var D=oc,I=vg.transition;vg.transition=null;try{oc=4,fd(a,b,d,n)}finally{oc=D,vg.transition=I}}function fd(a,b,d,n){if(Fh){var D=Hd(a,b,d,n);if(null===D)Qa(a,b,n,Gh,d),vc(a,n);else if(zb(D,a,b,d,n))n.stopPropagation();else if(vc(a,n),b&4&&-1<mk.indexOf(a)){for(;null!==D;){var I=ic(D);null!==I&&nk(I);I=Hd(a,b,d,n);null===I&&Qa(a,b,n,Gh,d);if(I===D)break;D=I}null!==D&&n.stopPropagation()}else Qa(a,b,n,null,d)}}function Hd(a,b,d,n){Gh=null;a=S(n);a=zc(a);if(null!==a)if(b=Ab(a),
null===b)a=null;else if(d=b.tag,13===d){a=gc(b);if(null!==a)return a;a=null}else if(3===d){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);Gh=a;return null}function Cc(a){switch(a){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(ok()){case Ai:return 1;case rj:return 4;case Hh:case pk:return 16;case sj:return 536870912;default:return 16}default:return 16}}function Fe(){if(Ih)return Ih;
var a,b=Bi,d=b.length,n,D="value"in Hf?Hf.value:Hf.textContent,I=D.length;for(a=0;a<d&&b[a]===D[a];a++);var W=d-a;for(n=1;n<=W&&b[d-n]===D[I-n];n++);return Ih=D.slice(a,1<n?1-n:void 0)}function Sd(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function gd(){return!0}function Zc(){return!1}function Qb(a){function b(d,n,D,I,W){this._reactName=d;this._targetInst=D;this.type=n;this.nativeEvent=I;this.target=W;this.currentTarget=null;
for(var ka in a)a.hasOwnProperty(ka)&&(d=a[ka],this[ka]=d?d(I):I[ka]);this.isDefaultPrevented=(null!=I.defaultPrevented?I.defaultPrevented:!1===I.returnValue)?gd:Zc;this.isPropagationStopped=Zc;return this}Kc(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():"unknown"!==typeof d.returnValue&&(d.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():
"unknown"!==typeof d.cancelBubble&&(d.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd});return b}function Ma(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=qk[a])?!!b[a]:!1}function rd(){return Ma}function Yc(a,b){switch(a){case "keyup":return-1!==rk.indexOf(b.keyCode);case "keydown":return 229!==b.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function yc(a){a=a.detail;return"object"===typeof a&&
"data"in a?a.data:null}function ie(a,b){switch(a){case "compositionend":return yc(b);case "keypress":if(32!==b.which)return null;tj=!0;return uj;case "textInput":return a=b.data,a===uj&&tj?null:a;default:return null}}function ue(a,b){if(wg)return"compositionend"===a||!Ci&&Yc(a,b)?(a=Fe(),Ih=Bi=Hf=null,wg=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;
case "compositionend":return vj&&"ko"!==b.locale?null:b.data;default:return null}}function Td(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!sk[a.type]:"textarea"===b?!0:!1}function Rc(a,b,d,n){da(n);b=jb(b,"onChange");0<b.length&&(d=new Di("onChange","change",null,d,n),a.push({event:d,listeners:b}))}function be(a){ua(a,0)}function wc(a){var b=Wd(a);if(l(b))return a}function sd(a,b){if("change"===a)return b}function td(){$g&&($g.detachEvent("onpropertychange",ce),ah=$g=null)}
function ce(a){if("value"===a.propertyName&&wc(ah)){var b=[];Rc(b,ah,a,S(a));Na(be,b)}}function Ge(a,b,d){"focusin"===a?(td(),$g=b,ah=d,$g.attachEvent("onpropertychange",ce)):"focusout"===a&&td()}function je(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return wc(ah)}function Id(a,b){if("click"===a)return wc(b)}function Ye(a,b){if("input"===a||"change"===a)return wc(b)}function gf(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function Dc(a,b){if(Ve(a,b))return!0;if("object"!==typeof a||
null===a||"object"!==typeof b||null===b)return!1;var d=Object.keys(a),n=Object.keys(b);if(d.length!==n.length)return!1;for(n=0;n<d.length;n++){var D=d[n];if(!mi.call(b,D)||!Ve(a[D],b[D]))return!1}return!0}function de(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ib(a,b){var d=de(a);a=0;for(var n;d;){if(3===d.nodeType){n=a+d.textContent.length;if(a<=b&&n>=b)return{node:d,offset:b-a};a=n}a:{for(;d;){if(d.nextSibling){d=d.nextSibling;break a}d=d.parentNode}d=void 0}d=de(d)}}function ke(a,
b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?ke(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function ve(){for(var a=window,b=h();b instanceof a.HTMLIFrameElement;){try{var d="string"===typeof b.contentWindow.location.href}catch(n){d=!1}if(d)a=b.contentWindow;else break;b=h(a.document)}return b}function le(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||
"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function hf(a){var b=ve(),d=a.focusedElem,n=a.selectionRange;if(b!==d&&d&&d.ownerDocument&&ke(d.ownerDocument.documentElement,d)){if(null!==n&&le(d))if(b=n.start,a=n.end,void 0===a&&(a=b),"selectionStart"in d)d.selectionStart=b,d.selectionEnd=Math.min(a,d.value.length);else if(a=(b=d.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var D=d.textContent.length,I=Math.min(n.start,
D);n=void 0===n.end?I:Math.min(n.end,D);!a.extend&&I>n&&(D=n,n=I,I=D);D=Ib(d,I);var W=Ib(d,n);D&&W&&(1!==a.rangeCount||a.anchorNode!==D.node||a.anchorOffset!==D.offset||a.focusNode!==W.node||a.focusOffset!==W.offset)&&(b=b.createRange(),b.setStart(D.node,D.offset),a.removeAllRanges(),I>n?(a.addRange(b),a.extend(W.node,W.offset)):(b.setEnd(W.node,W.offset),a.addRange(b)))}b=[];for(a=d;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});"function"===typeof d.focus&&
d.focus();for(d=0;d<b.length;d++)a=b[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}function Re(a,b,d){var n=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;Ei||null==xg||xg!==h(n)||(n=xg,"selectionStart"in n&&le(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bh&&Dc(bh,n)||(bh=n,n=jb(Fi,"onSelect"),0<
n.length&&(b=new Di("onSelect","select",null,b,d),a.push({event:b,listeners:n}),b.target=xg)))}function ud(a,b){var d={};d[a.toLowerCase()]=b.toLowerCase();d["Webkit"+a]="webkit"+b;d["Moz"+a]="moz"+b;return d}function He(a){if(Gi[a])return Gi[a];if(!yg[a])return a;var b=yg[a],d;for(d in b)if(b.hasOwnProperty(d)&&d in wj)return Gi[a]=b[d];return a}function Jd(a,b){xj.set(a,b);Ta(b,[a])}function Vd(a,b,d){var n=a.type||"unknown-event";a.currentTarget=d;xb(n,b,void 0,a);a.currentTarget=null}function ua(a,
b){b=0!==(b&4);for(var d=0;d<a.length;d++){var n=a[d],D=n.event;n=n.listeners;a:{var I=void 0;if(b)for(var W=n.length-1;0<=W;W--){var ka=n[W],sa=ka.instance,Fa=ka.currentTarget;ka=ka.listener;if(sa!==I&&D.isPropagationStopped())break a;Vd(D,ka,Fa);I=sa}else for(W=0;W<n.length;W++){ka=n[W];sa=ka.instance;Fa=ka.currentTarget;ka=ka.listener;if(sa!==I&&D.isPropagationStopped())break a;Vd(D,ka,Fa);I=sa}}}if(Bh)throw a=xi,Bh=!1,xi=null,a;}function ha(a,b){var d=b[Hi];void 0===d&&(d=b[Hi]=new Set);var n=
a+"__bubble";d.has(n)||(ya(b,a,2,!1),d.add(n))}function V(a,b,d){var n=0;b&&(n|=4);ya(d,a,n,b)}function ca(a){if(!a[Jh]){a[Jh]=!0;kj.forEach(function(d){"selectionchange"!==d&&(tk.has(d)||V(d,!1,a),V(d,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[Jh]||(b[Jh]=!0,V("selectionchange",!1,b))}}function ya(a,b,d,n){switch(Cc(b)){case 1:var D=Tc;break;case 4:D=ff;break;default:D=fd}d=D.bind(null,b,d,a);D=void 0;!Ii||"touchstart"!==b&&"touchmove"!==b&&"wheel"!==b||(D=!0);n?void 0!==D?a.addEventListener(b,
d,{capture:!0,passive:D}):a.addEventListener(b,d,!0):void 0!==D?a.addEventListener(b,d,{passive:D}):a.addEventListener(b,d,!1)}function Qa(a,b,d,n,D){var I=n;if(0===(b&1)&&0===(b&2)&&null!==n)a:for(;;){if(null===n)return;var W=n.tag;if(3===W||4===W){var ka=n.stateNode.containerInfo;if(ka===D||8===ka.nodeType&&ka.parentNode===D)break;if(4===W)for(W=n.return;null!==W;){var sa=W.tag;if(3===sa||4===sa)if(sa=W.stateNode.containerInfo,sa===D||8===sa.nodeType&&sa.parentNode===D)return;W=W.return}for(;null!==
ka;){W=zc(ka);if(null===W)return;sa=W.tag;if(5===sa||6===sa){n=I=W;continue a}ka=ka.parentNode}}n=n.return}Na(function(){var Fa=I,Va=S(d),Wa=[];a:{var Ua=xj.get(a);if(void 0!==Ua){var nb=Di,qb=a;switch(a){case "keypress":if(0===Sd(d))break a;case "keydown":case "keyup":nb=uk;break;case "focusin":qb="focus";nb=Ji;break;case "focusout":qb="blur";nb=Ji;break;case "beforeblur":case "afterblur":nb=Ji;break;case "click":if(2===d.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":nb=
yj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":nb=vk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":nb=wk;break;case zj:case Aj:case Bj:nb=xk;break;case Cj:nb=yk;break;case "scroll":nb=zk;break;case "wheel":nb=Ak;break;case "copy":case "cut":case "paste":nb=Bk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":nb=
Dj}var rb=0!==(b&4),Pc=!rb&&"scroll"===a,za=rb?null!==Ua?Ua+"Capture":null:Ua;rb=[];for(var xa=Fa,Da;null!==xa;){Da=xa;var db=Da.stateNode;5===Da.tag&&null!==db&&(Da=db,null!==za&&(db=ra(xa,za),null!=db&&rb.push(ab(xa,db,Da))));if(Pc)break;xa=xa.return}0<rb.length&&(Ua=new nb(Ua,qb,null,d,Va),Wa.push({event:Ua,listeners:rb}))}}if(0===(b&7)){Ua="mouseover"===a||"pointerover"===a;nb="mouseout"===a||"pointerout"===a;if(!Ua||d===yi||!(qb=d.relatedTarget||d.fromElement)||!zc(qb)&&!qb[nf])if(nb||Ua){Ua=
Va.window===Va?Va:(Ua=Va.ownerDocument)?Ua.defaultView||Ua.parentWindow:window;if(nb){if(qb=d.relatedTarget||d.toElement,nb=Fa,qb=qb?zc(qb):null,null!==qb&&(Pc=Ab(qb),qb!==Pc||5!==qb.tag&&6!==qb.tag))qb=null}else nb=null,qb=Fa;if(nb!==qb){rb=yj;db="onMouseLeave";za="onMouseEnter";xa="mouse";if("pointerout"===a||"pointerover"===a)rb=Dj,db="onPointerLeave",za="onPointerEnter",xa="pointer";Pc=null==nb?Ua:Wd(nb);Da=null==qb?Ua:Wd(qb);Ua=new rb(db,xa+"leave",nb,d,Va);Ua.target=Pc;Ua.relatedTarget=Da;db=
null;zc(Va)===Fa&&(rb=new rb(za,xa+"enter",qb,d,Va),rb.target=Da,rb.relatedTarget=Pc,db=rb);Pc=db;if(nb&&qb)b:{rb=nb;za=qb;xa=0;for(Da=rb;Da;Da=vb(Da))xa++;Da=0;for(db=za;db;db=vb(db))Da++;for(;0<xa-Da;)rb=vb(rb),xa--;for(;0<Da-xa;)za=vb(za),Da--;for(;xa--;){if(rb===za||null!==za&&rb===za.alternate)break b;rb=vb(rb);za=vb(za)}rb=null}else rb=null;null!==nb&&bc(Wa,Ua,nb,rb,!1);null!==qb&&null!==Pc&&bc(Wa,Pc,qb,rb,!0)}}Ua=Fa?Wd(Fa):window;nb=Ua.nodeName&&Ua.nodeName.toLowerCase();if("select"===nb||
"input"===nb&&"file"===Ua.type)var tb=sd;else if(Td(Ua))if(Ej)tb=Ye;else{tb=je;var Cb=Ge}else(nb=Ua.nodeName)&&"input"===nb.toLowerCase()&&("checkbox"===Ua.type||"radio"===Ua.type)&&(tb=Id);tb&&(tb=tb(a,Fa))?Rc(Wa,tb,d,Va):(Cb&&Cb(a,Ua,Fa),"focusout"===a&&(Cb=Ua._wrapperState)&&Cb.controlled&&"number"===Ua.type&&f(Ua,"number",Ua.value));Cb=Fa?Wd(Fa):window;switch(a){case "focusin":if(Td(Cb)||"true"===Cb.contentEditable)xg=Cb,Fi=Fa,bh=null;break;case "focusout":bh=Fi=xg=null;break;case "mousedown":Ei=
!0;break;case "contextmenu":case "mouseup":case "dragend":Ei=!1;Re(Wa,d,Va);break;case "selectionchange":if(Ck)break;case "keydown":case "keyup":Re(Wa,d,Va)}var Db;if(Ci)a:{switch(a){case "compositionstart":var Gb="onCompositionStart";break a;case "compositionend":Gb="onCompositionEnd";break a;case "compositionupdate":Gb="onCompositionUpdate";break a}Gb=void 0}else wg?Yc(a,d)&&(Gb="onCompositionEnd"):"keydown"===a&&229===d.keyCode&&(Gb="onCompositionStart");Gb&&(vj&&"ko"!==d.locale&&(wg||"onCompositionStart"!==
Gb?"onCompositionEnd"===Gb&&wg&&(Db=Fe()):(Hf=Va,Bi="value"in Hf?Hf.value:Hf.textContent,wg=!0)),Cb=jb(Fa,Gb),0<Cb.length&&(Gb=new Fj(Gb,a,null,d,Va),Wa.push({event:Gb,listeners:Cb}),Db?Gb.data=Db:(Db=yc(d),null!==Db&&(Gb.data=Db))));if(Db=Dk?ie(a,d):ue(a,d))Fa=jb(Fa,"onBeforeInput"),0<Fa.length&&(Va=new Fj("onBeforeInput","beforeinput",null,d,Va),Wa.push({event:Va,listeners:Fa}),Va.data=Db)}ua(Wa,b)})}function ab(a,b,d){return{instance:a,listener:b,currentTarget:d}}function jb(a,b){for(var d=b+"Capture",
n=[];null!==a;){var D=a,I=D.stateNode;5===D.tag&&null!==I&&(D=I,I=ra(a,d),null!=I&&n.unshift(ab(a,I,D)),I=ra(a,b),null!=I&&n.push(ab(a,I,D)));a=a.return}return n}function vb(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}function bc(a,b,d,n,D){for(var I=b._reactName,W=[];null!==d&&d!==n;){var ka=d,sa=ka.alternate,Fa=ka.stateNode;if(null!==sa&&sa===n)break;5===ka.tag&&null!==Fa&&(ka=Fa,D?(sa=ra(d,I),null!=sa&&W.unshift(ab(d,sa,ka))):D||(sa=ra(d,I),null!=sa&&W.push(ab(d,
sa,ka))));d=d.return}0!==W.length&&a.push({event:b,listeners:W})}function wb(a){return("string"===typeof a?a:""+a).replace(Ek,"\n").replace(Fk,"")}function Eb(a,b,d){b=wb(b);if(wb(a)!==b&&d)throw Error(ja(425));}function mb(){}function Fb(a,b){return"textarea"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function Ub(a){setTimeout(function(){throw a;
})}function Tb(a,b){var d=b,n=0;do{var D=d.nextSibling;a.removeChild(d);if(D&&8===D.nodeType)if(d=D.data,"/$"===d){if(0===n){a.removeChild(D);Sc(b);return}n--}else"$"!==d&&"$?"!==d&&"$!"!==d||n++;d=D}while(d);Sc(b)}function rc(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if("$"===b||"$!"===b||"$?"===b)break;if("/$"===b)return null}}return a}function Vc(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var d=a.data;if("$"===d||"$!"===d||"$?"===
d){if(0===b)return a;b--}else"/$"===d&&b++}a=a.previousSibling}return null}function zc(a){var b=a[df];if(b)return b;for(var d=a.parentNode;d;){if(b=d[nf]||d[df]){d=b.alternate;if(null!==b.child||null!==d&&null!==d.child)for(a=Vc(a);null!==a;){if(d=a[df])return d;a=Vc(a)}return b}a=d;d=a.parentNode}return null}function ic(a){a=a[df]||a[nf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Wd(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(ja(33));}function mc(a){return a[ch]||
null}function Lb(a){return{current:a}}function Zb(a){0>zg||(a.current=Ki[zg],Ki[zg]=null,zg--)}function Wb(a,b){zg++;Ki[zg]=a.current;a.current=b}function ob(a,b){var d=a.type.contextTypes;if(!d)return If;var n=a.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===b)return n.__reactInternalMemoizedMaskedChildContext;var D={},I;for(I in d)D[I]=b[I];n&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=D);return D}function Vb(a){a=
a.childContextTypes;return null!==a&&void 0!==a}function Mb(){Zb(re);Zb($d)}function vd(a,b,d){if($d.current!==If)throw Error(ja(168));Wb($d,b);Wb(re,d)}function Ec(a,b,d){var n=a.stateNode;b=b.childContextTypes;if("function"!==typeof n.getChildContext)return d;n=n.getChildContext();for(var D in n)if(!(D in b))throw Error(ja(108,w(a)||"Unknown",D));return Kc({},d,n)}function dc(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||If;Yf=$d.current;Wb($d,a);Wb(re,re.current);return!0}
function Xb(a,b,d){var n=a.stateNode;if(!n)throw Error(ja(169));d?(a=Ec(a,b,Yf),n.__reactInternalMemoizedMergedChildContext=a,Zb(re),Zb($d),Wb($d,a)):Zb(re);Wb(re,d)}function Jc(a){null===of?of=[a]:of.push(a)}function wd(a){Kh=!0;Jc(a)}function Ha(){if(!Li&&null!==of){Li=!0;var a=0,b=oc;try{var d=of;for(oc=1;a<d.length;a++){var n=d[a];do n=n(!0);while(null!==n)}of=null;Kh=!1}catch(D){throw null!==of&&(of=of.slice(a+1)),Gj(Ai,Ha),D;}finally{oc=b,Li=!1}}return null}function Ud(a,b){Ag[Bg++]=Lh;Ag[Bg++]=
Mh;Mh=a;Lh=b}function fg(a,b,d){Me[Ne++]=pf;Me[Ne++]=qf;Me[Ne++]=Zf;Zf=a;var n=pf;a=qf;var D=32-Ue(n)-1;n&=~(1<<D);d+=1;var I=32-Ue(b)+D;if(30<I){var W=D-D%5;I=(n&(1<<W)-1).toString(32);n>>=W;D-=W;pf=1<<32-Ue(b)+D|d<<D|n;qf=I+a}else pf=1<<I|d<<D|n,qf=a}function Pf(a){null!==a.return&&(Ud(a,1),fg(a,1,0))}function Ie(a){for(;a===Mh;)Mh=Ag[--Bg],Ag[Bg]=null,Lh=Ag[--Bg],Ag[Bg]=null;for(;a===Zf;)Zf=Me[--Ne],Me[Ne]=null,qf=Me[--Ne],Me[Ne]=null,pf=Me[--Ne],Me[Ne]=null}function Uc(a,b){var d=Oe(5,null,null,
0);d.elementType="DELETED";d.stateNode=b;d.return=a;b=a.deletions;null===b?(a.deletions=[d],a.flags|=16):b.push(d)}function Kb(a,b){switch(a.tag){case 5:var d=a.type;b=1!==b.nodeType||d.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,Ce=a,De=rc(b.firstChild),!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,Ce=a,De=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(d=null!==Zf?{id:pf,overflow:qf}:null,a.memoizedState=
{dehydrated:b,treeContext:d,retryLane:1073741824},d=Oe(18,null,null,0),d.stateNode=b,d.return=a,a.child=d,Ce=a,De=null,!0):!1;default:return!1}}function Gc(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function me(a){if(Hc){var b=De;if(b){var d=b;if(!Kb(a,b)){if(Gc(a))throw Error(ja(418));b=rc(d.nextSibling);var n=Ce;b&&Kb(a,b)?Uc(n,d):(a.flags=a.flags&-4097|2,Hc=!1,Ce=a)}}else{if(Gc(a))throw Error(ja(418));a.flags=a.flags&-4097|2;Hc=!1;Ce=a}}}function jc(a){for(a=a.return;null!==a&&5!==a.tag&&3!==
a.tag&&13!==a.tag;)a=a.return;Ce=a}function ad(a){if(a!==Ce)return!1;if(!Hc)return jc(a),Hc=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b="head"!==b&&"body"!==b&&!Fb(a.type,a.memoizedProps));if(b&&(b=De)){if(Gc(a))throw Bc(),Error(ja(418));for(;b;)Uc(a,b),b=rc(b.nextSibling)}jc(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(ja(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var d=a.data;if("/$"===d){if(0===b){De=rc(a.nextSibling);break a}b--}else"$"!==
d&&"$!"!==d&&"$?"!==d||b++}a=a.nextSibling}De=null}}else De=Ce?rc(a.stateNode.nextSibling):null;return!0}function Bc(){for(var a=De;a;)a=rc(a.nextSibling)}function Xd(){De=Ce=null;Hc=!1}function bd(a){null===We?We=[a]:We.push(a)}function hd(a,b){if(a&&a.defaultProps){b=Kc({},b);a=a.defaultProps;for(var d in a)void 0===b[d]&&(b[d]=a[d])}return b}function Yd(a){var b=Nh.current;Zb(Nh);a._currentValue=b}function Oc(a,b,d){for(;null!==a;){var n=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==
n&&(n.childLanes|=b)):null!==n&&(n.childLanes&b)!==b&&(n.childLanes|=b);if(a===d)break;a=a.return}}function Je(a,b){Cg=a;dh=Jf=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(se=!0),a.firstContext=null)}function cd(a){var b=a._currentValue;if(dh!==a)if(a={context:a,memoizedValue:b,next:null},null===Jf){if(null===Cg)throw Error(ja(308));Jf=a;Cg.dependencies={lanes:0,firstContext:a}}else Jf=Jf.next=a;return b}function Hb(a){null===$f?$f=[a]:$f.push(a)}function uf(a,b,d,n){var D=
b.interleaved;null===D?(d.next=d,Hb(b)):(d.next=D.next,D.next=d);b.interleaved=d;return id(a,n)}function id(a,b){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);d=a;for(a=a.return;null!==a;)a.childLanes|=b,d=a.alternate,null!==d&&(d.childLanes|=b),d=a,a=a.return;return 3===d.tag?d.stateNode:null}function we(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(a,b){a=a.updateQueue;b.updateQueue===
a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ee(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Kd(a,b,d){var n=a.updateQueue;if(null===n)return null;n=n.shared;if(0!==(fc&2)){var D=n.pending;null===D?b.next=b:(b.next=D.next,D.next=b);n.pending=b;return id(a,d)}D=n.interleaved;null===D?(b.next=b,Hb(n)):(b.next=D.next,D.next=b);n.interleaved=b;return id(a,d)}
function Ze(a,b,d){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(d&4194240))){var n=b.lanes;n&=a.pendingLanes;d|=n;b.lanes=d;Qd(a,d)}}function gg(a,b){var d=a.updateQueue,n=a.alternate;if(null!==n&&(n=n.updateQueue,d===n)){var D=null,I=null;d=d.firstBaseUpdate;if(null!==d){do{var W={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===I?D=I=W:I=I.next=W;d=d.next}while(null!==d);null===I?D=I=b:I=I.next=b}else D=I=b;d={baseState:n.baseState,firstBaseUpdate:D,
lastBaseUpdate:I,shared:n.shared,effects:n.effects};a.updateQueue=d}else a=d.lastBaseUpdate,null===a?d.firstBaseUpdate=b:a.next=b,d.lastBaseUpdate=b}function ne(a,b,d,n){var D=a.updateQueue;Kf=!1;var I=D.firstBaseUpdate,W=D.lastBaseUpdate,ka=D.shared.pending;if(null!==ka){D.shared.pending=null;var sa=ka,Fa=sa.next;sa.next=null;null===W?I=Fa:W.next=Fa;var Va=a.alternate;null!==Va&&(Va=Va.updateQueue,ka=Va.lastBaseUpdate,ka!==sa&&(null===ka?Va.firstBaseUpdate=Fa:ka.next=Fa,Va.lastBaseUpdate=sa))}if(null!==
I){var Wa=D.baseState;W=0;Va=Fa=sa=null;ka=I;do{var Ua=ka.lane,nb=ka.eventTime;if((n&Ua)===Ua){null!==Va&&(Va=Va.next={eventTime:nb,lane:0,tag:ka.tag,payload:ka.payload,callback:ka.callback,next:null});a:{var qb=a,rb=ka;Ua=b;nb=d;switch(rb.tag){case 1:qb=rb.payload;if("function"===typeof qb){Wa=qb.call(nb,Wa,Ua);break a}Wa=qb;break a;case 3:qb.flags=qb.flags&-65537|128;case 0:qb=rb.payload;Ua="function"===typeof qb?qb.call(nb,Wa,Ua):qb;if(null===Ua||void 0===Ua)break a;Wa=Kc({},Wa,Ua);break a;case 2:Kf=
!0}}null!==ka.callback&&0!==ka.lane&&(a.flags|=64,Ua=D.effects,null===Ua?D.effects=[ka]:Ua.push(ka))}else nb={eventTime:nb,lane:Ua,tag:ka.tag,payload:ka.payload,callback:ka.callback,next:null},null===Va?(Fa=Va=nb,sa=Wa):Va=Va.next=nb,W|=Ua;ka=ka.next;if(null===ka)if(ka=D.shared.pending,null===ka)break;else Ua=ka,ka=Ua.next,Ua.next=null,D.lastBaseUpdate=Ua,D.shared.pending=null}while(1);null===Va&&(sa=Wa);D.baseState=sa;D.firstBaseUpdate=Fa;D.lastBaseUpdate=Va;b=D.shared.interleaved;if(null!==b){D=
b;do W|=D.lane,D=D.next;while(D!==b)}else null===I&&(D.shared.lanes=0);ag|=W;a.lanes=W;a.memoizedState=Wa}}function Ke(a,b,d){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var n=a[b],D=n.callback;if(null!==D){n.callback=null;n=d;if("function"!==typeof D)throw Error(ja(191,D));D.call(n)}}}function xd(a,b,d,n){b=a.memoizedState;d=d(n,b);d=null===d||void 0===d?b:Kc({},b,d);a.memoizedState=d;0===a.lanes&&(a.updateQueue.baseState=d)}function vf(a,b,d,n,D,I,W){a=a.stateNode;return"function"===
typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,I,W):b.prototype&&b.prototype.isPureReactComponent?!Dc(d,n)||!Dc(D,I):!0}function hg(a,b,d){var n=!1,D=If,I=b.contextType;"object"===typeof I&&null!==I?I=cd(I):(D=Vb(b)?Yf:$d.current,n=b.contextTypes,I=(n=null!==n&&void 0!==n)?ob(a,D):If);b=new b(d,I);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Oh;a.stateNode=b;b._reactInternals=a;n&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=D,a.__reactInternalMemoizedMaskedChildContext=
I);return b}function Qf(a,b,d,n){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(d,n);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(d,n);b.state!==a&&Oh.enqueueReplaceState(b,b.state,null)}function wf(a,b,d,n){var D=a.stateNode;D.props=d;D.state=a.memoizedState;D.refs=Hj;we(a);var I=b.contextType;"object"===typeof I&&null!==I?D.context=cd(I):(I=Vb(b)?Yf:$d.current,D.context=ob(a,I));D.state=a.memoizedState;I=b.getDerivedStateFromProps;
"function"===typeof I&&(xd(a,b,I,d),D.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof D.getSnapshotBeforeUpdate||"function"!==typeof D.UNSAFE_componentWillMount&&"function"!==typeof D.componentWillMount||(b=D.state,"function"===typeof D.componentWillMount&&D.componentWillMount(),"function"===typeof D.UNSAFE_componentWillMount&&D.UNSAFE_componentWillMount(),b!==D.state&&Oh.enqueueReplaceState(D,D.state,null),ne(a,d,D,n),D.state=a.memoizedState);"function"===
typeof D.componentDidMount&&(a.flags|=4194308)}function $e(a,b,d){a=d.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(d._owner){if(d=d._owner){if(1!==d.tag)throw Error(ja(309));var n=d.stateNode}if(!n)throw Error(ja(147,a));var D=n,I=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===I)return b.ref;b=function(W){var ka=D.refs;ka===Hj&&(ka=D.refs={});null===W?delete ka[I]:ka[I]=W};b._stringRef=I;return b}if("string"!==typeof a)throw Error(ja(284));if(!d._owner)throw Error(ja(290,
a));}return a}function fe(a,b){a=Object.prototype.toString.call(b);throw Error(ja(31,"[object Object]"===a?"object with keys {"+Object.keys(b).join(", ")+"}":a));}function af(a){var b=a._init;return b(a._payload)}function Rf(a){function b(za,xa){if(a){var Da=za.deletions;null===Da?(za.deletions=[xa],za.flags|=16):Da.push(xa)}}function d(za,xa){if(!a)return null;for(;null!==xa;)b(za,xa),xa=xa.sibling;return null}function n(za,xa){for(za=new Map;null!==xa;)null!==xa.key?za.set(xa.key,xa):za.set(xa.index,
xa),xa=xa.sibling;return za}function D(za,xa){za=Lf(za,xa);za.index=0;za.sibling=null;return za}function I(za,xa,Da){za.index=Da;if(!a)return za.flags|=1048576,xa;Da=za.alternate;if(null!==Da)return Da=Da.index,Da<xa?(za.flags|=2,xa):Da;za.flags|=2;return xa}function W(za){a&&null===za.alternate&&(za.flags|=2);return za}function ka(za,xa,Da,db){if(null===xa||6!==xa.tag)return xa=Mi(Da,za.mode,db),xa.return=za,xa;xa=D(xa,Da);xa.return=za;return xa}function sa(za,xa,Da,db){var tb=Da.type;if(tb===rg)return Va(za,
xa,Da.props.children,db,Da.key);if(null!==xa&&(xa.elementType===tb||"object"===typeof tb&&null!==tb&&tb.$$typeof===Cf&&af(tb)===xa.type))return db=D(xa,Da.props),db.ref=$e(za,xa,Da),db.return=za,db;db=Ph(Da.type,Da.key,Da.props,null,za.mode,db);db.ref=$e(za,xa,Da);db.return=za;return db}function Fa(za,xa,Da,db){if(null===xa||4!==xa.tag||xa.stateNode.containerInfo!==Da.containerInfo||xa.stateNode.implementation!==Da.implementation)return xa=Ni(Da,za.mode,db),xa.return=za,xa;xa=D(xa,Da.children||[]);
xa.return=za;return xa}function Va(za,xa,Da,db,tb){if(null===xa||7!==xa.tag)return xa=bg(Da,za.mode,db,tb),xa.return=za,xa;xa=D(xa,Da);xa.return=za;return xa}function Wa(za,xa,Da){if("string"===typeof xa&&""!==xa||"number"===typeof xa)return xa=Mi(""+xa,za.mode,Da),xa.return=za,xa;if("object"===typeof xa&&null!==xa){switch(xa.$$typeof){case Qh:return Da=Ph(xa.type,xa.key,xa.props,null,za.mode,Da),Da.ref=$e(za,null,xa),Da.return=za,Da;case sg:return xa=Ni(xa,za.mode,Da),xa.return=za,xa;case Cf:var db=
xa._init;return Wa(za,db(xa._payload),Da)}if(Vg(xa)||F(xa))return xa=bg(xa,za.mode,Da,null),xa.return=za,xa;fe(za,xa)}return null}function Ua(za,xa,Da,db){var tb=null!==xa?xa.key:null;if("string"===typeof Da&&""!==Da||"number"===typeof Da)return null!==tb?null:ka(za,xa,""+Da,db);if("object"===typeof Da&&null!==Da){switch(Da.$$typeof){case Qh:return Da.key===tb?sa(za,xa,Da,db):null;case sg:return Da.key===tb?Fa(za,xa,Da,db):null;case Cf:return tb=Da._init,Ua(za,xa,tb(Da._payload),db)}if(Vg(Da)||F(Da))return null!==
tb?null:Va(za,xa,Da,db,null);fe(za,Da)}return null}function nb(za,xa,Da,db,tb){if("string"===typeof db&&""!==db||"number"===typeof db)return za=za.get(Da)||null,ka(xa,za,""+db,tb);if("object"===typeof db&&null!==db){switch(db.$$typeof){case Qh:return za=za.get(null===db.key?Da:db.key)||null,sa(xa,za,db,tb);case sg:return za=za.get(null===db.key?Da:db.key)||null,Fa(xa,za,db,tb);case Cf:var Cb=db._init;return nb(za,xa,Da,Cb(db._payload),tb)}if(Vg(db)||F(db))return za=za.get(Da)||null,Va(xa,za,db,tb,
null);fe(xa,db)}return null}function qb(za,xa,Da,db){for(var tb=null,Cb=null,Db=xa,Gb=xa=0,Ad=null;null!==Db&&Gb<Da.length;Gb++){Db.index>Gb?(Ad=Db,Db=null):Ad=Db.sibling;var lc=Ua(za,Db,Da[Gb],db);if(null===lc){null===Db&&(Db=Ad);break}a&&Db&&null===lc.alternate&&b(za,Db);xa=I(lc,xa,Gb);null===Cb?tb=lc:Cb.sibling=lc;Cb=lc;Db=Ad}if(Gb===Da.length)return d(za,Db),Hc&&Ud(za,Gb),tb;if(null===Db){for(;Gb<Da.length;Gb++)Db=Wa(za,Da[Gb],db),null!==Db&&(xa=I(Db,xa,Gb),null===Cb?tb=Db:Cb.sibling=Db,Cb=Db);
Hc&&Ud(za,Gb);return tb}for(Db=n(za,Db);Gb<Da.length;Gb++)Ad=nb(Db,za,Gb,Da[Gb],db),null!==Ad&&(a&&null!==Ad.alternate&&Db.delete(null===Ad.key?Gb:Ad.key),xa=I(Ad,xa,Gb),null===Cb?tb=Ad:Cb.sibling=Ad,Cb=Ad);a&&Db.forEach(function(Mf){return b(za,Mf)});Hc&&Ud(za,Gb);return tb}function rb(za,xa,Da,db){var tb=F(Da);if("function"!==typeof tb)throw Error(ja(150));Da=tb.call(Da);if(null==Da)throw Error(ja(151));for(var Cb=tb=null,Db=xa,Gb=xa=0,Ad=null,lc=Da.next();null!==Db&&!lc.done;Gb++,lc=Da.next()){Db.index>
Gb?(Ad=Db,Db=null):Ad=Db.sibling;var Mf=Ua(za,Db,lc.value,db);if(null===Mf){null===Db&&(Db=Ad);break}a&&Db&&null===Mf.alternate&&b(za,Db);xa=I(Mf,xa,Gb);null===Cb?tb=Mf:Cb.sibling=Mf;Cb=Mf;Db=Ad}if(lc.done)return d(za,Db),Hc&&Ud(za,Gb),tb;if(null===Db){for(;!lc.done;Gb++,lc=Da.next())lc=Wa(za,lc.value,db),null!==lc&&(xa=I(lc,xa,Gb),null===Cb?tb=lc:Cb.sibling=lc,Cb=lc);Hc&&Ud(za,Gb);return tb}for(Db=n(za,Db);!lc.done;Gb++,lc=Da.next())lc=nb(Db,za,Gb,lc.value,db),null!==lc&&(a&&null!==lc.alternate&&
Db.delete(null===lc.key?Gb:lc.key),xa=I(lc,xa,Gb),null===Cb?tb=lc:Cb.sibling=lc,Cb=lc);a&&Db.forEach(function(Gk){return b(za,Gk)});Hc&&Ud(za,Gb);return tb}function Pc(za,xa,Da,db){"object"===typeof Da&&null!==Da&&Da.type===rg&&null===Da.key&&(Da=Da.props.children);if("object"===typeof Da&&null!==Da){switch(Da.$$typeof){case Qh:a:{for(var tb=Da.key,Cb=xa;null!==Cb;){if(Cb.key===tb){tb=Da.type;if(tb===rg){if(7===Cb.tag){d(za,Cb.sibling);xa=D(Cb,Da.props.children);xa.return=za;za=xa;break a}}else if(Cb.elementType===
tb||"object"===typeof tb&&null!==tb&&tb.$$typeof===Cf&&af(tb)===Cb.type){d(za,Cb.sibling);xa=D(Cb,Da.props);xa.ref=$e(za,Cb,Da);xa.return=za;za=xa;break a}d(za,Cb);break}else b(za,Cb);Cb=Cb.sibling}Da.type===rg?(xa=bg(Da.props.children,za.mode,db,Da.key),xa.return=za,za=xa):(db=Ph(Da.type,Da.key,Da.props,null,za.mode,db),db.ref=$e(za,xa,Da),db.return=za,za=db)}return W(za);case sg:a:{for(Cb=Da.key;null!==xa;){if(xa.key===Cb)if(4===xa.tag&&xa.stateNode.containerInfo===Da.containerInfo&&xa.stateNode.implementation===
Da.implementation){d(za,xa.sibling);xa=D(xa,Da.children||[]);xa.return=za;za=xa;break a}else{d(za,xa);break}else b(za,xa);xa=xa.sibling}xa=Ni(Da,za.mode,db);xa.return=za;za=xa}return W(za);case Cf:return Cb=Da._init,Pc(za,xa,Cb(Da._payload),db)}if(Vg(Da))return qb(za,xa,Da,db);if(F(Da))return rb(za,xa,Da,db);fe(za,Da)}return"string"===typeof Da&&""!==Da||"number"===typeof Da?(Da=""+Da,null!==xa&&6===xa.tag?(d(za,xa.sibling),xa=D(xa,Da),xa.return=za,za=xa):(d(za,xa),xa=Mi(Da,za.mode,db),xa.return=
za,za=xa),W(za)):d(za,xa)}return Pc}function jd(a){if(a===eh)throw Error(ja(174));return a}function yd(a,b){Wb(fh,b);Wb(gh,a);Wb(ef,eh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:H(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=H(b,a)}Zb(ef);Wb(ef,b)}function ge(){Zb(ef);Zb(gh);Zb(fh)}function kf(a){jd(fh.current);var b=jd(ef.current),d=H(b,a.type);b!==d&&(Wb(gh,a),Wb(ef,d))}function oe(a){gh.current===a&&(Zb(ef),Zb(gh))}function lf(a){for(var b=
a;null!==b;){if(13===b.tag){var d=b.memoizedState;if(null!==d&&(d=d.dehydrated,null===d||"$?"===d.data||"$!"===d.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function ib(){for(var a=0;a<Oi.length;a++)Oi[a]._workInProgressVersionPrimary=null;
Oi.length=0}function Xa(){throw Error(ja(321));}function lb(a,b){if(null===b)return!1;for(var d=0;d<b.length&&d<a.length;d++)if(!Ve(a[d],b[d]))return!1;return!0}function yb(a,b,d,n,D,I){cg=I;tc=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Rh.current=null===a||null===a.memoizedState?Hk:Ik;a=d(n,D);if(hh){I=0;do{hh=!1;ih=0;if(25<=I)throw Error(ja(301));I+=1;Bd=md=null;b.updateQueue=null;Rh.current=Jk;a=d(n,D)}while(hh)}Rh.current=Sh;b=null!==md&&null!==md.next;cg=0;Bd=md=tc=null;Th=!1;if(b)throw Error(ja(300));
return a}function Jb(){var a=0!==ih;ih=0;return a}function Rb(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Bd?tc.memoizedState=Bd=a:Bd=Bd.next=a;return Bd}function $b(){if(null===md){var a=tc.alternate;a=null!==a?a.memoizedState:null}else a=md.next;var b=null===Bd?tc.memoizedState:Bd.next;if(null!==b)Bd=b,md=a;else{if(null===a)throw Error(ja(310));md=a;a={memoizedState:md.memoizedState,baseState:md.baseState,baseQueue:md.baseQueue,queue:md.queue,next:null};
null===Bd?tc.memoizedState=Bd=a:Bd=Bd.next=a}return Bd}function Fc(a,b){return"function"===typeof b?b(a):b}function Ob(a){var b=$b(),d=b.queue;if(null===d)throw Error(ja(311));d.lastRenderedReducer=a;var n=md,D=n.baseQueue,I=d.pending;if(null!==I){if(null!==D){var W=D.next;D.next=I.next;I.next=W}n.baseQueue=D=I;d.pending=null}if(null!==D){I=D.next;n=n.baseState;var ka=W=null,sa=null,Fa=I;do{var Va=Fa.lane;if((cg&Va)===Va)null!==sa&&(sa=sa.next={lane:0,action:Fa.action,hasEagerState:Fa.hasEagerState,
eagerState:Fa.eagerState,next:null}),n=Fa.hasEagerState?Fa.eagerState:a(n,Fa.action);else{var Wa={lane:Va,action:Fa.action,hasEagerState:Fa.hasEagerState,eagerState:Fa.eagerState,next:null};null===sa?(ka=sa=Wa,W=n):sa=sa.next=Wa;tc.lanes|=Va;ag|=Va}Fa=Fa.next}while(null!==Fa&&Fa!==I);null===sa?W=n:sa.next=ka;Ve(n,b.memoizedState)||(se=!0);b.memoizedState=n;b.baseState=W;b.baseQueue=sa;d.lastRenderedState=n}a=d.interleaved;if(null!==a){D=a;do I=D.lane,tc.lanes|=I,ag|=I,D=D.next;while(D!==a)}else null===
D&&(d.lanes=0);return[b.memoizedState,d.dispatch]}function dd(a){var b=$b(),d=b.queue;if(null===d)throw Error(ja(311));d.lastRenderedReducer=a;var n=d.dispatch,D=d.pending,I=b.memoizedState;if(null!==D){d.pending=null;var W=D=D.next;do I=a(I,W.action),W=W.next;while(W!==D);Ve(I,b.memoizedState)||(se=!0);b.memoizedState=I;null===b.baseQueue&&(b.baseState=I);d.lastRenderedState=I}return[I,n]}function pe(){}function kc(a,b){var d=tc,n=$b(),D=b(),I=!Ve(n.memoizedState,D);I&&(n.memoizedState=D,se=!0);
n=n.queue;Jg(Zd.bind(null,d,n,a),[a]);if(n.getSnapshot!==b||I||null!==Bd&&Bd.memoizedState.tag&1){d.flags|=2048;Sf(9,Se.bind(null,d,n,D,b),void 0,null);if(null===Cd)throw Error(ja(349));0!==(cg&30)||kd(d,b,D)}return D}function kd(a,b,d){a.flags|=16384;a={getSnapshot:b,value:d};b=tc.updateQueue;null===b?(b={lastEffect:null,stores:null},tc.updateQueue=b,b.stores=[a]):(d=b.stores,null===d?b.stores=[a]:d.push(a))}function Se(a,b,d,n){b.value=d;b.getSnapshot=n;bf(b)&&sh(a)}function Zd(a,b,d){return d(function(){bf(b)&&
sh(a)})}function bf(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!Ve(a,d)}catch(n){return!0}}function sh(a){var b=id(a,1);null!==b&&Bb(b,a,1,-1)}function th(a){var b=Rb();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:a};b.queue=a;a=a.dispatch=Pg.bind(null,tc,a);return[b.memoizedState,a]}function Sf(a,b,d,n){a={tag:a,create:b,destroy:d,deps:n,next:null};b=tc.updateQueue;null===b?(b=
{lastEffect:null,stores:null},tc.updateQueue=b,b.lastEffect=a.next=a):(d=b.lastEffect,null===d?b.lastEffect=a.next=a:(n=d.next,d.next=a,a.next=n,b.lastEffect=a));return a}function uh(){return $b().memoizedState}function ig(a,b,d,n){var D=Rb();tc.flags|=a;D.memoizedState=Sf(1|b,d,void 0,void 0===n?null:n)}function sc(a,b,d,n){var D=$b();n=void 0===n?null:n;var I=void 0;if(null!==md){var W=md.memoizedState;I=W.destroy;if(null!==n&&lb(n,W.deps)){D.memoizedState=Sf(b,d,I,n);return}}tc.flags|=a;D.memoizedState=
Sf(1|b,d,I,n)}function qe(a,b){return ig(8390656,8,a,b)}function Jg(a,b){return sc(2048,8,a,b)}function Kg(a,b){return sc(4,2,a,b)}function vh(a,b){return sc(4,4,a,b)}function Lg(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function Mg(a,b,d){d=null!==d&&void 0!==d?d.concat([a]):null;return sc(4,4,Lg.bind(null,b,a),d)}function Tf(){}function ye(a,b){var d=$b();b=void 0===b?null:b;var n=d.memoizedState;
if(null!==n&&null!==b&&lb(b,n[1]))return n[0];d.memoizedState=[a,b];return a}function Ng(a,b){var d=$b();b=void 0===b?null:b;var n=d.memoizedState;if(null!==n&&null!==b&&lb(b,n[1]))return n[0];a=a();d.memoizedState=[a,b];return a}function mf(a,b,d){if(0===(cg&21))return a.baseState&&(a.baseState=!1,se=!0),a.memoizedState=d;Ve(d,b)||(d=Pb(),tc.lanes|=d,ag|=d,a.baseState=!0);return b}function Og(a,b){var d=oc;oc=0!==d&&4>d?d:4;a(!0);var n=Pi.transition;Pi.transition={};try{a(!1),b()}finally{oc=d,Pi.transition=
n}}function jg(){return $b().memoizedState}function wh(a,b,d){var n=Nb(a);d={lane:n,action:d,hasEagerState:!1,eagerState:null,next:null};if(xf(a))Te(b,d);else if(d=uf(a,b,d,n),null!==d){var D=$a();Bb(d,a,n,D);Qg(d,b,n)}}function Pg(a,b,d){var n=Nb(a),D={lane:n,action:d,hasEagerState:!1,eagerState:null,next:null};if(xf(a))Te(b,D);else{var I=a.alternate;if(0===a.lanes&&(null===I||0===I.lanes)&&(I=b.lastRenderedReducer,null!==I))try{var W=b.lastRenderedState,ka=I(W,d);D.hasEagerState=!0;D.eagerState=
ka;if(Ve(ka,W)){var sa=b.interleaved;null===sa?(D.next=D,Hb(b)):(D.next=sa.next,sa.next=D);b.interleaved=D;return}}catch(Fa){}finally{}d=uf(a,b,D,n);null!==d&&(D=$a(),Bb(d,a,n,D),Qg(d,b,n))}}function xf(a){var b=a.alternate;return a===tc||null!==b&&b===tc}function Te(a,b){hh=Th=!0;var d=a.pending;null===d?b.next=b:(b.next=d.next,d.next=b);a.pending=b}function Qg(a,b,d){if(0!==(d&4194240)){var n=b.lanes;n&=a.pendingLanes;d|=n;b.lanes=d;Qd(a,d)}}function yf(a,b){try{var d="",n=b;do d+=z(n),n=n.return;
while(n)}catch(D){d="\nError generating stack: "+D.message+"\n"+D.stack}return{value:a,source:b,stack:d,digest:null}}function Le(a,b,d){return{value:a,source:null,stack:null!=d?d:null,digest:null!=b?b:null}}function xe(a,b){try{console.error(b.value)}catch(d){setTimeout(function(){throw d;})}}function Rg(a,b,d){d=ee(-1,d);d.tag=3;d.payload={element:null};var n=b.value;d.callback=function(){Uh||(Uh=!0,Qi=n);xe(a,b)};return d}function xh(a,b,d){d=ee(-1,d);d.tag=3;var n=a.type.getDerivedStateFromError;
if("function"===typeof n){var D=b.value;d.payload=function(){return n(D)};d.callback=function(){xe(a,b)}}var I=a.stateNode;null!==I&&"function"===typeof I.componentDidCatch&&(d.callback=function(){xe(a,b);"function"!==typeof n&&(null===Nf?Nf=new Set([this]):Nf.add(this));var W=b.stack;this.componentDidCatch(b.value,{componentStack:null!==W?W:""})});return d}function Vf(a,b,d){var n=a.pingCache;if(null===n){n=a.pingCache=new Kk;var D=new Set;n.set(b,D)}else D=n.get(b),void 0===D&&(D=new Set,n.set(b,
D));D.has(d)||(D.add(d),a=Lk.bind(null,a,b,d),b.then(a,a))}function Af(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}function Sg(a,b,d,n,D){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,1===d.tag&&(null===d.alternate?d.tag=17:(b=ee(-1,1),b.tag=2,Kd(d,b,1))),d.lanes|=1),a;a.flags|=65536;a.lanes=D;return a}function ld(a,b,d,n){b.child=null===a?Ij(b,null,d,n):Dg(b,
a.child,d,n)}function Tg(a,b,d,n,D){d=d.render;var I=b.ref;Je(b,D);n=yb(a,b,d,n,I,D);d=Jb();if(null!==a&&!se)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~D,ta(a,b,D);Hc&&d&&Pf(b);b.flags|=1;ld(a,b,n,D);return b.child}function kg(a,b,d,n,D){if(null===a){var I=d.type;if("function"===typeof I&&!Ri(I)&&void 0===I.defaultProps&&null===d.compare&&void 0===d.defaultProps)return b.tag=15,b.type=I,lg(a,b,I,n,D);a=Ph(d.type,null,n,b,b.mode,D);a.ref=b.ref;a.return=b;return b.child=a}I=a.child;
if(0===(a.lanes&D)){var W=I.memoizedProps;d=d.compare;d=null!==d?d:Dc;if(d(W,n)&&a.ref===b.ref)return ta(a,b,D)}b.flags|=1;a=Lf(I,n);a.ref=b.ref;a.return=b;return b.child=a}function lg(a,b,d,n,D){if(null!==a){var I=a.memoizedProps;if(Dc(I,n)&&a.ref===b.ref)if(se=!1,b.pendingProps=n=I,0!==(a.lanes&D))0!==(a.flags&131072)&&(se=!0);else return b.lanes=a.lanes,ta(a,b,D)}return Wf(a,b,d,n,D)}function zf(a,b,d){var n=b.pendingProps,D=n.children,I=null!==a?a.memoizedState:null;if("hidden"===n.mode)if(0===
(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wb(Eg,Ee),Ee|=d;else{if(0===(d&1073741824))return a=null!==I?I.baseLanes|d:d,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,Wb(Eg,Ee),Ee|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};n=null!==I?I.baseLanes:d;Wb(Eg,Ee);Ee|=n}else null!==I?(n=I.baseLanes|d,b.memoizedState=null):n=d,Wb(Eg,Ee),Ee|=n;ld(a,b,D,d);return b.child}function Uf(a,
b){var d=b.ref;if(null===a&&null!==d||null!==a&&a.ref!==d)b.flags|=512,b.flags|=2097152}function Wf(a,b,d,n,D){var I=Vb(d)?Yf:$d.current;I=ob(b,I);Je(b,D);d=yb(a,b,d,n,I,D);n=Jb();if(null!==a&&!se)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~D,ta(a,b,D);Hc&&n&&Pf(b);b.flags|=1;ld(a,b,d,D);return b.child}function zh(a,b,d,n,D){if(Vb(d)){var I=!0;dc(b)}else I=!1;Je(b,D);if(null===b.stateNode)fa(a,b),hg(b,d,n),wf(b,d,n,D),n=!0;else if(null===a){var W=b.stateNode,ka=b.memoizedProps;W.props=
ka;var sa=W.context,Fa=d.contextType;"object"===typeof Fa&&null!==Fa?Fa=cd(Fa):(Fa=Vb(d)?Yf:$d.current,Fa=ob(b,Fa));var Va=d.getDerivedStateFromProps,Wa="function"===typeof Va||"function"===typeof W.getSnapshotBeforeUpdate;Wa||"function"!==typeof W.UNSAFE_componentWillReceiveProps&&"function"!==typeof W.componentWillReceiveProps||(ka!==n||sa!==Fa)&&Qf(b,W,n,Fa);Kf=!1;var Ua=b.memoizedState;W.state=Ua;ne(b,n,W,D);sa=b.memoizedState;ka!==n||Ua!==sa||re.current||Kf?("function"===typeof Va&&(xd(b,d,Va,
n),sa=b.memoizedState),(ka=Kf||vf(b,d,ka,n,Ua,sa,Fa))?(Wa||"function"!==typeof W.UNSAFE_componentWillMount&&"function"!==typeof W.componentWillMount||("function"===typeof W.componentWillMount&&W.componentWillMount(),"function"===typeof W.UNSAFE_componentWillMount&&W.UNSAFE_componentWillMount()),"function"===typeof W.componentDidMount&&(b.flags|=4194308)):("function"===typeof W.componentDidMount&&(b.flags|=4194308),b.memoizedProps=n,b.memoizedState=sa),W.props=n,W.state=sa,W.context=Fa,n=ka):("function"===
typeof W.componentDidMount&&(b.flags|=4194308),n=!1)}else{W=b.stateNode;jf(a,b);ka=b.memoizedProps;Fa=b.type===b.elementType?ka:hd(b.type,ka);W.props=Fa;Wa=b.pendingProps;Ua=W.context;sa=d.contextType;"object"===typeof sa&&null!==sa?sa=cd(sa):(sa=Vb(d)?Yf:$d.current,sa=ob(b,sa));var nb=d.getDerivedStateFromProps;(Va="function"===typeof nb||"function"===typeof W.getSnapshotBeforeUpdate)||"function"!==typeof W.UNSAFE_componentWillReceiveProps&&"function"!==typeof W.componentWillReceiveProps||(ka!==
Wa||Ua!==sa)&&Qf(b,W,n,sa);Kf=!1;Ua=b.memoizedState;W.state=Ua;ne(b,n,W,D);var qb=b.memoizedState;ka!==Wa||Ua!==qb||re.current||Kf?("function"===typeof nb&&(xd(b,d,nb,n),qb=b.memoizedState),(Fa=Kf||vf(b,d,Fa,n,Ua,qb,sa)||!1)?(Va||"function"!==typeof W.UNSAFE_componentWillUpdate&&"function"!==typeof W.componentWillUpdate||("function"===typeof W.componentWillUpdate&&W.componentWillUpdate(n,qb,sa),"function"===typeof W.UNSAFE_componentWillUpdate&&W.UNSAFE_componentWillUpdate(n,qb,sa)),"function"===typeof W.componentDidUpdate&&
(b.flags|=4),"function"===typeof W.getSnapshotBeforeUpdate&&(b.flags|=1024)):("function"!==typeof W.componentDidUpdate||ka===a.memoizedProps&&Ua===a.memoizedState||(b.flags|=4),"function"!==typeof W.getSnapshotBeforeUpdate||ka===a.memoizedProps&&Ua===a.memoizedState||(b.flags|=1024),b.memoizedProps=n,b.memoizedState=qb),W.props=n,W.state=qb,W.context=sa,n=Fa):("function"!==typeof W.componentDidUpdate||ka===a.memoizedProps&&Ua===a.memoizedState||(b.flags|=4),"function"!==typeof W.getSnapshotBeforeUpdate||
ka===a.memoizedProps&&Ua===a.memoizedState||(b.flags|=1024),n=!1)}return mg(a,b,d,n,I,D)}function mg(a,b,d,n,D,I){Uf(a,b);var W=0!==(b.flags&128);if(!n&&!W)return D&&Xb(b,d,!1),ta(a,b,I);n=b.stateNode;Mk.current=b;var ka=W&&"function"!==typeof d.getDerivedStateFromError?null:n.render();b.flags|=1;null!==a&&W?(b.child=Dg(b,a.child,null,I),b.child=Dg(b,null,ka,I)):ld(a,b,ka,I);b.memoizedState=n.state;D&&Xb(b,d,!0);return b.child}function yh(a){var b=a.stateNode;b.pendingContext?vd(a,b.pendingContext,
b.pendingContext!==b.context):b.context&&vd(a,b.context,!1);yd(a,b.containerInfo)}function ng(a){return{baseLanes:a,cachePool:null,transitions:null}}function pg(a,b,d){var n=b.pendingProps,D=Lc.current,I=!1,W=0!==(b.flags&128),ka;(ka=W)||(ka=null!==a&&null===a.memoizedState?!1:0!==(D&2));if(ka)I=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)D|=1;Wb(Lc,D&1);if(null===a){me(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:"$!"===a.data?b.lanes=
8:b.lanes=1073741824,null;W=n.children;a=n.fallback;return I?(n=b.mode,I=b.child,W={mode:"hidden",children:W},0===(n&1)&&null!==I?(I.childLanes=0,I.pendingProps=W):I=Vh(W,n,0,null),a=bg(a,n,d,null),I.return=b,a.return=b,I.sibling=a,b.child=I,b.child.memoizedState=ng(d),b.memoizedState=Si,a):Xf(b,W)}D=a.memoizedState;if(null!==D&&(ka=D.dehydrated,null!==ka))return fb(a,b,W,n,ka,D,d);if(I){I=n.fallback;W=b.mode;D=a.child;ka=D.sibling;var sa={mode:"hidden",children:n.children};0===(W&1)&&b.child!==D?
(n=b.child,n.childLanes=0,n.pendingProps=sa,b.deletions=null):(n=Lf(D,sa),n.subtreeFlags=D.subtreeFlags&14680064);null!==ka?I=Lf(ka,I):(I=bg(I,W,d,null),I.flags|=2);I.return=b;n.return=b;n.sibling=I;b.child=n;n=I;I=b.child;W=a.child.memoizedState;W=null===W?ng(d):{baseLanes:W.baseLanes|d,cachePool:null,transitions:W.transitions};I.memoizedState=W;I.childLanes=a.childLanes&~d;b.memoizedState=Si;return n}I=a.child;a=I.sibling;n=Lf(I,{mode:"visible",children:n.children});0===(b.mode&1)&&(n.lanes=d);
n.return=b;n.sibling=null;null!==a&&(d=b.deletions,null===d?(b.deletions=[a],b.flags|=16):d.push(a));b.child=n;b.memoizedState=null;return n}function Xf(a,b){b=Vh({mode:"visible",children:b},a.mode,0,null);b.return=a;return a.child=b}function qg(a,b,d,n){null!==n&&bd(n);Dg(b,a.child,null,d);a=Xf(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}function fb(a,b,d,n,D,I,W){if(d){if(b.flags&256)return b.flags&=-257,n=Le(Error(ja(422))),qg(a,b,W,n);if(null!==b.memoizedState)return b.child=
a.child,b.flags|=128,null;I=n.fallback;D=b.mode;n=Vh({mode:"visible",children:n.children},D,0,null);I=bg(I,D,W,null);I.flags|=2;n.return=b;I.return=b;n.sibling=I;b.child=n;0!==(b.mode&1)&&Dg(b,a.child,null,W);b.child.memoizedState=ng(W);b.memoizedState=Si;return I}if(0===(b.mode&1))return qg(a,b,W,null);if("$!"===D.data){if(n=D.nextSibling&&D.nextSibling.dataset)var ka=n.dgst;n=ka;I=Error(ja(419));n=Le(I,n,void 0);return qg(a,b,W,n)}ka=0!==(W&a.childLanes);if(se||ka){n=Cd;if(null!==n){switch(W&-W){case 4:D=
2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=0!==(D&(n.suspendedLanes|W))?0:D;0!==D&&D!==I.retryLane&&(I.retryLane=D,id(a,D),Bb(n,a,D,-1))}Ti();n=Le(Error(ja(421)));return qg(a,b,W,n)}if("$?"===D.data)return b.flags|=128,b.child=
a.child,b=Nk.bind(null,a),D._reactRetry=b,null;a=I.treeContext;De=rc(D.nextSibling);Ce=b;Hc=!0;We=null;null!==a&&(Me[Ne++]=pf,Me[Ne++]=qf,Me[Ne++]=Zf,pf=a.id,qf=a.overflow,Zf=b);b=Xf(b,n.children);b.flags|=4096;return b}function Za(a,b,d){a.lanes|=b;var n=a.alternate;null!==n&&(n.lanes|=b);Oc(a.return,b,d)}function Ea(a,b,d,n,D){var I=a.memoizedState;null===I?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:n,tail:d,tailMode:D}:(I.isBackwards=b,I.rendering=null,I.renderingStartTime=
0,I.last=n,I.tail=d,I.tailMode=D)}function Ka(a,b,d){var n=b.pendingProps,D=n.revealOrder,I=n.tail;ld(a,b,n.children,d);n=Lc.current;if(0!==(n&2))n=n&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&Za(a,d,b);else if(19===a.tag)Za(a,d,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}n&=
1}Wb(Lc,n);if(0===(b.mode&1))b.memoizedState=null;else switch(D){case "forwards":d=b.child;for(D=null;null!==d;)a=d.alternate,null!==a&&null===lf(a)&&(D=d),d=d.sibling;d=D;null===d?(D=b.child,b.child=null):(D=d.sibling,d.sibling=null);Ea(b,!1,D,d,I);break;case "backwards":d=null;D=b.child;for(b.child=null;null!==D;){a=D.alternate;if(null!==a&&null===lf(a)){b.child=D;break}a=D.sibling;D.sibling=d;d=D;D=a}Ea(b,!0,d,null,I);break;case "together":Ea(b,!1,null,null,void 0);break;default:b.memoizedState=
null}return b.child}function fa(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function ta(a,b,d){null!==a&&(b.dependencies=a.dependencies);ag|=b.lanes;if(0===(d&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(ja(153));if(null!==b.child){a=b.child;d=Lf(a,a.pendingProps);b.child=d;for(d.return=b;null!==a.sibling;)a=a.sibling,d=d.sibling=Lf(a,a.pendingProps),d.return=b;d.sibling=null}return b.child}function Ga(a,b,d){switch(b.tag){case 3:yh(b);Xd();
break;case 5:kf(b);break;case 1:Vb(b.type)&&dc(b);break;case 4:yd(b,b.stateNode.containerInfo);break;case 10:var n=b.type._context,D=b.memoizedProps.value;Wb(Nh,n._currentValue);n._currentValue=D;break;case 13:n=b.memoizedState;if(null!==n){if(null!==n.dehydrated)return Wb(Lc,Lc.current&1),b.flags|=128,null;if(0!==(d&b.child.childLanes))return pg(a,b,d);Wb(Lc,Lc.current&1);a=ta(a,b,d);return null!==a?a.sibling:null}Wb(Lc,Lc.current&1);break;case 19:n=0!==(d&b.childLanes);if(0!==(a.flags&128)){if(n)return Ka(a,
b,d);b.flags|=128}D=b.memoizedState;null!==D&&(D.rendering=null,D.tail=null,D.lastEffect=null);Wb(Lc,Lc.current);if(n)break;else return null;case 22:case 23:return b.lanes=0,zf(a,b,d)}return ta(a,b,d)}function pa(a,b){if(!Hc)switch(a.tailMode){case "hidden":b=a.tail;for(var d=null;null!==b;)null!==b.alternate&&(d=b),b=b.sibling;null===d?a.tail=null:d.sibling=null;break;case "collapsed":d=a.tail;for(var n=null;null!==d;)null!==d.alternate&&(n=d),d=d.sibling;null===n?b||null===a.tail?a.tail=null:a.tail.sibling=
null:n.sibling=null}}function R(a){var b=null!==a.alternate&&a.alternate.child===a.child,d=0,n=0;if(b)for(var D=a.child;null!==D;)d|=D.lanes|D.childLanes,n|=D.subtreeFlags&14680064,n|=D.flags&14680064,D.return=a,D=D.sibling;else for(D=a.child;null!==D;)d|=D.lanes|D.childLanes,n|=D.subtreeFlags,n|=D.flags,D.return=a,D=D.sibling;a.subtreeFlags|=n;a.childLanes=d;return b}function Q(a,b,d){var n=b.pendingProps;Ie(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return R(b),
null;case 1:return Vb(b.type)&&Mb(),R(b),null;case 3:n=b.stateNode;ge();Zb(re);Zb($d);ib();n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null);if(null===a||null===a.child)ad(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==We&&(he(We),We=null));Jj(a,b);R(b);return null;case 5:oe(b);var D=jd(fh.current);d=b.type;if(null!==a&&null!=b.stateNode)Ok(a,b,d,n,D),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!n){if(null===b.stateNode)throw Error(ja(166));
R(b);return null}a=jd(ef.current);if(ad(b)){n=b.stateNode;d=b.type;var I=b.memoizedProps;n[df]=b;n[ch]=I;a=0!==(b.mode&1);switch(d){case "dialog":ha("cancel",n);ha("close",n);break;case "iframe":case "object":case "embed":ha("load",n);break;case "video":case "audio":for(D=0;D<jh.length;D++)ha(jh[D],n);break;case "source":ha("error",n);break;case "img":case "image":case "link":ha("error",n);ha("load",n);break;case "details":ha("toggle",n);break;case "input":p(n,I);ha("invalid",n);break;case "select":n._wrapperState=
{wasMultiple:!!I.multiple};ha("invalid",n);break;case "textarea":t(n,I),ha("invalid",n)}ia(d,I);D=null;for(var W in I)if(I.hasOwnProperty(W)){var ka=I[W];"children"===W?"string"===typeof ka?n.textContent!==ka&&(!0!==I.suppressHydrationWarning&&Eb(n.textContent,ka,a),D=["children",ka]):"number"===typeof ka&&n.textContent!==""+ka&&(!0!==I.suppressHydrationWarning&&Eb(n.textContent,ka,a),D=["children",""+ka]):Ug.hasOwnProperty(W)&&null!=ka&&"onScroll"===W&&ha("scroll",n)}switch(d){case "input":g(n);
m(n,I,!0);break;case "textarea":g(n);y(n);break;case "select":case "option":break;default:"function"===typeof I.onClick&&(n.onclick=mb)}n=D;b.updateQueue=n;null!==n&&(b.flags|=4)}else{W=9===D.nodeType?D:D.ownerDocument;"http://www.w3.org/1999/xhtml"===a&&(a=A(d));"http://www.w3.org/1999/xhtml"===a?"script"===d?(a=W.createElement("div"),a.innerHTML="\x3cscript\x3e\x3c/script\x3e",a=a.removeChild(a.firstChild)):"string"===typeof n.is?a=W.createElement(d,{is:n.is}):(a=W.createElement(d),"select"===d&&
(W=a,n.multiple?W.multiple=!0:n.size&&(W.size=n.size))):a=W.createElementNS(a,d);a[df]=b;a[ch]=n;Pk(a,b,!1,!1);b.stateNode=a;a:{W=la(d,n);switch(d){case "dialog":ha("cancel",a);ha("close",a);D=n;break;case "iframe":case "object":case "embed":ha("load",a);D=n;break;case "video":case "audio":for(D=0;D<jh.length;D++)ha(jh[D],a);D=n;break;case "source":ha("error",a);D=n;break;case "img":case "image":case "link":ha("error",a);ha("load",a);D=n;break;case "details":ha("toggle",a);D=n;break;case "input":p(a,
n);D=k(a,n);ha("invalid",a);break;case "option":D=n;break;case "select":a._wrapperState={wasMultiple:!!n.multiple};D=Kc({},n,{value:void 0});ha("invalid",a);break;case "textarea":t(a,n);D=e(a,n);ha("invalid",a);break;default:D=n}ia(d,D);ka=D;for(I in ka)if(ka.hasOwnProperty(I)){var sa=ka[I];"style"===I?ea(a,sa):"dangerouslySetInnerHTML"===I?(sa=sa?sa.__html:void 0,null!=sa&&Kj(a,sa)):"children"===I?"string"===typeof sa?("textarea"!==d||""!==sa)&&J(a,sa):"number"===typeof sa&&J(a,""+sa):"suppressContentEditableWarning"!==
I&&"suppressHydrationWarning"!==I&&"autoFocus"!==I&&(Ug.hasOwnProperty(I)?null!=sa&&"onScroll"===I&&ha("scroll",a):null!=sa&&T(a,I,sa,W))}switch(d){case "input":g(a);m(a,n,!1);break;case "textarea":g(a);y(a);break;case "option":null!=n.value&&a.setAttribute("value",""+q(n.value));break;case "select":a.multiple=!!n.multiple;I=n.value;null!=I?c(a,!!n.multiple,I,!1):null!=n.defaultValue&&c(a,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof D.onClick&&(a.onclick=mb)}switch(d){case "button":case "input":case "select":case "textarea":n=
!!n.autoFocus;break a;case "img":n=!0;break a;default:n=!1}}n&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}R(b);return null;case 6:if(a&&null!=b.stateNode)Qk(a,b,a.memoizedProps,n);else{if("string"!==typeof n&&null===b.stateNode)throw Error(ja(166));d=jd(fh.current);jd(ef.current);if(ad(b)){n=b.stateNode;d=b.memoizedProps;n[df]=b;if(I=n.nodeValue!==d)if(a=Ce,null!==a)switch(a.tag){case 3:Eb(n.nodeValue,d,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Eb(n.nodeValue,
d,0!==(a.mode&1))}I&&(b.flags|=4)}else n=(9===d.nodeType?d:d.ownerDocument).createTextNode(n),n[df]=b,b.stateNode=n}R(b);return null;case 13:Zb(Lc);n=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(Hc&&null!==De&&0!==(b.mode&1)&&0===(b.flags&128))Bc(),Xd(),b.flags|=98560,I=!1;else if(I=ad(b),null!==n&&null!==n.dehydrated){if(null===a){if(!I)throw Error(ja(318));I=b.memoizedState;I=null!==I?I.dehydrated:null;if(!I)throw Error(ja(317));I[df]=b}else Xd(),0===
(b.flags&128)&&(b.memoizedState=null),b.flags|=4;R(b);I=!1}else null!==We&&(he(We),We=null),I=!0;if(!I)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=d,b;n=null!==n;n!==(null!==a&&null!==a.memoizedState)&&n&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(Lc.current&1)?0===nd&&(nd=3):Ti()));null!==b.updateQueue&&(b.flags|=4);R(b);return null;case 4:return ge(),Jj(a,b),null===a&&ca(b.stateNode.containerInfo),R(b),null;case 10:return Yd(b.type._context),R(b),null;case 17:return Vb(b.type)&&
Mb(),R(b),null;case 19:Zb(Lc);I=b.memoizedState;if(null===I)return R(b),null;n=0!==(b.flags&128);W=I.rendering;if(null===W)if(n)pa(I,!1);else{if(0!==nd||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){W=lf(a);if(null!==W){b.flags|=128;pa(I,!1);n=W.updateQueue;null!==n&&(b.updateQueue=n,b.flags|=4);b.subtreeFlags=0;n=d;for(d=b.child;null!==d;)I=d,a=n,I.flags&=14680066,W=I.alternate,null===W?(I.childLanes=0,I.lanes=a,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=
null,I.dependencies=null,I.stateNode=null):(I.childLanes=W.childLanes,I.lanes=W.lanes,I.child=W.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=W.memoizedProps,I.memoizedState=W.memoizedState,I.updateQueue=W.updateQueue,I.type=W.type,a=W.dependencies,I.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;Wb(Lc,Lc.current&1|2);return b.child}a=a.sibling}null!==I.tail&&Wc()>Fg&&(b.flags|=128,n=!0,pa(I,!1),b.lanes=4194304)}else{if(!n)if(a=lf(W),null!==a){if(b.flags|=
128,n=!0,d=a.updateQueue,null!==d&&(b.updateQueue=d,b.flags|=4),pa(I,!0),null===I.tail&&"hidden"===I.tailMode&&!W.alternate&&!Hc)return R(b),null}else 2*Wc()-I.renderingStartTime>Fg&&1073741824!==d&&(b.flags|=128,n=!0,pa(I,!1),b.lanes=4194304);I.isBackwards?(W.sibling=b.child,b.child=W):(d=I.last,null!==d?d.sibling=W:b.child=W,I.last=W)}if(null!==I.tail)return b=I.tail,I.rendering=b,I.tail=b.sibling,I.renderingStartTime=Wc(),b.sibling=null,d=Lc.current,Wb(Lc,n?d&1|2:d&1),b;R(b);return null;case 22:case 23:return og(),
n=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==n&&(b.flags|=8192),n&&0!==(b.mode&1)?0!==(Ee&1073741824)&&(R(b),b.subtreeFlags&6&&(b.flags|=8192)):R(b),null;case 24:return null;case 25:return null}throw Error(ja(156,b.tag));}function M(a,b){Ie(b);switch(b.tag){case 1:return Vb(b.type)&&Mb(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return ge(),Zb(re),Zb($d),ib(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return oe(b),null;case 13:Zb(Lc);a=b.memoizedState;
if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(ja(340));Xd()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return Zb(Lc),null;case 4:return ge(),null;case 10:return Yd(b.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}function L(a,b){var d=a.ref;if(null!==d)if("function"===typeof d)try{d(null)}catch(n){Qc(a,b,n)}else d.current=null}function P(a,b,d){try{d()}catch(n){Qc(a,b,n)}}function Z(a,b){Ui=Fh;a=ve();if(le(a)){if("selectionStart"in
a)var d={start:a.selectionStart,end:a.selectionEnd};else a:{d=(d=a.ownerDocument)&&d.defaultView||window;var n=d.getSelection&&d.getSelection();if(n&&0!==n.rangeCount){d=n.anchorNode;var D=n.anchorOffset,I=n.focusNode;n=n.focusOffset;try{d.nodeType,I.nodeType}catch(db){d=null;break a}var W=0,ka=-1,sa=-1,Fa=0,Va=0,Wa=a,Ua=null;b:for(;;){for(var nb;;){Wa!==d||0!==D&&3!==Wa.nodeType||(ka=W+D);Wa!==I||0!==n&&3!==Wa.nodeType||(sa=W+n);3===Wa.nodeType&&(W+=Wa.nodeValue.length);if(null===(nb=Wa.firstChild))break;
Ua=Wa;Wa=nb}for(;;){if(Wa===a)break b;Ua===d&&++Fa===D&&(ka=W);Ua===I&&++Va===n&&(sa=W);if(null!==(nb=Wa.nextSibling))break;Wa=Ua;Ua=Wa.parentNode}Wa=nb}d=-1===ka||-1===sa?null:{start:ka,end:sa}}else d=null}d=d||{start:0,end:0}}else d=null;Vi={focusedElem:a,selectionRange:d};Fh=!1;for(pb=b;null!==pb;)if(b=pb,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,pb=a;else for(;null!==pb;){b=pb;try{var qb=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;case 1:if(null!==
qb){var rb=qb.memoizedProps,Pc=qb.memoizedState,za=b.stateNode,xa=za.getSnapshotBeforeUpdate(b.elementType===b.type?rb:hd(b.type,rb),Pc);za.__reactInternalSnapshotBeforeUpdate=xa}break;case 3:var Da=b.stateNode.containerInfo;1===Da.nodeType?Da.textContent="":9===Da.nodeType&&Da.documentElement&&Da.removeChild(Da.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ja(163));}}catch(db){Qc(b,b.return,db)}a=b.sibling;if(null!==a){a.return=b.return;pb=a;break}pb=b.return}qb=Lj;
Lj=!1;return qb}function O(a,b,d){var n=b.updateQueue;n=null!==n?n.lastEffect:null;if(null!==n){var D=n=n.next;do{if((D.tag&a)===a){var I=D.destroy;D.destroy=void 0;void 0!==I&&P(b,d,I)}D=D.next}while(D!==n)}}function U(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var d=b=b.next;do{if((d.tag&a)===a){var n=d.create;d.destroy=n()}d=d.next}while(d!==b)}}function ba(a){var b=a.ref;if(null!==b){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}"function"===typeof b?b(a):b.current=
a}}function qa(a){var b=a.alternate;null!==b&&(a.alternate=null,qa(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[df],delete b[ch],delete b[Hi],delete b[Rk],delete b[Sk]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function va(a){return 5===a.tag||3===a.tag||4===a.tag}function Ca(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||va(a.return))return null;
a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Aa(a,b,d){var n=a.tag;if(5===n||6===n)a=a.stateNode,b?8===d.nodeType?d.parentNode.insertBefore(a,b):d.insertBefore(a,b):(8===d.nodeType?(b=d.parentNode,b.insertBefore(a,d)):(b=d,b.appendChild(a)),d=d._reactRootContainer,null!==d&&void 0!==d||null!==b.onclick||(b.onclick=mb));
else if(4!==n&&(a=a.child,null!==a))for(Aa(a,b,d),a=a.sibling;null!==a;)Aa(a,b,d),a=a.sibling}function Sa(a,b,d){var n=a.tag;if(5===n||6===n)a=a.stateNode,b?d.insertBefore(a,b):d.appendChild(a);else if(4!==n&&(a=a.child,null!==a))for(Sa(a,b,d),a=a.sibling;null!==a;)Sa(a,b,d),a=a.sibling}function Ia(a,b,d){for(d=d.child;null!==d;)bb(a,b,d),d=d.sibling}function bb(a,b,d){if(cf&&"function"===typeof cf.onCommitFiberUnmount)try{cf.onCommitFiberUnmount(Ch,d)}catch(ka){}switch(d.tag){case 5:ae||L(d,b);case 6:var n=
Md,D=Xe;Md=null;Ia(a,b,d);Md=n;Xe=D;null!==Md&&(Xe?(a=Md,d=d.stateNode,8===a.nodeType?a.parentNode.removeChild(d):a.removeChild(d)):Md.removeChild(d.stateNode));break;case 18:null!==Md&&(Xe?(a=Md,d=d.stateNode,8===a.nodeType?Tb(a.parentNode,d):1===a.nodeType&&Tb(a,d),Sc(a)):Tb(Md,d.stateNode));break;case 4:n=Md;D=Xe;Md=d.stateNode.containerInfo;Xe=!0;Ia(a,b,d);Md=n;Xe=D;break;case 0:case 11:case 14:case 15:if(!ae&&(n=d.updateQueue,null!==n&&(n=n.lastEffect,null!==n))){D=n=n.next;do{var I=D,W=I.destroy;
I=I.tag;void 0!==W&&(0!==(I&2)?P(d,b,W):0!==(I&4)&&P(d,b,W));D=D.next}while(D!==n)}Ia(a,b,d);break;case 1:if(!ae&&(L(d,b),n=d.stateNode,"function"===typeof n.componentWillUnmount))try{n.props=d.memoizedProps,n.state=d.memoizedState,n.componentWillUnmount()}catch(ka){Qc(d,b,ka)}Ia(a,b,d);break;case 21:Ia(a,b,d);break;case 22:d.mode&1?(ae=(n=ae)||null!==d.memoizedState,Ia(a,b,d),ae=n):Ia(a,b,d);break;default:Ia(a,b,d)}}function gb(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var d=a.stateNode;
null===d&&(d=a.stateNode=new Tk);b.forEach(function(n){var D=Uk.bind(null,a,n);d.has(n)||(d.add(n),n.then(D,D))})}}function wa(a,b){var d=b.deletions;if(null!==d)for(var n=0;n<d.length;n++){var D=d[n];try{var I=a,W=b,ka=W;a:for(;null!==ka;){switch(ka.tag){case 5:Md=ka.stateNode;Xe=!1;break a;case 3:Md=ka.stateNode.containerInfo;Xe=!0;break a;case 4:Md=ka.stateNode.containerInfo;Xe=!0;break a}ka=ka.return}if(null===Md)throw Error(ja(160));bb(I,W,D);Md=null;Xe=!1;var sa=D.alternate;null!==sa&&(sa.return=
null);D.return=null}catch(Fa){Qc(D,b,Fa)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)cb(b,a),b=b.sibling}function cb(a,b){var d=a.alternate,n=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:wa(b,a);Oa(a);if(n&4){try{O(3,a,a.return),U(3,a)}catch(rb){Qc(a,a.return,rb)}try{O(5,a,a.return)}catch(rb){Qc(a,a.return,rb)}}break;case 1:wa(b,a);Oa(a);n&512&&null!==d&&L(d,d.return);break;case 5:wa(b,a);Oa(a);n&512&&null!==d&&L(d,d.return);if(a.flags&32){var D=a.stateNode;try{J(D,"")}catch(rb){Qc(a,
a.return,rb)}}if(n&4&&(D=a.stateNode,null!=D)){var I=a.memoizedProps,W=null!==d?d.memoizedProps:I,ka=a.type,sa=a.updateQueue;a.updateQueue=null;if(null!==sa)try{"input"===ka&&"radio"===I.type&&null!=I.name&&r(D,I);la(ka,W);var Fa=la(ka,I);for(W=0;W<sa.length;W+=2){var Va=sa[W],Wa=sa[W+1];"style"===Va?ea(D,Wa):"dangerouslySetInnerHTML"===Va?Kj(D,Wa):"children"===Va?J(D,Wa):T(D,Va,Wa,Fa)}switch(ka){case "input":u(D,I);break;case "textarea":B(D,I);break;case "select":var Ua=D._wrapperState.wasMultiple;
D._wrapperState.wasMultiple=!!I.multiple;var nb=I.value;null!=nb?c(D,!!I.multiple,nb,!1):Ua!==!!I.multiple&&(null!=I.defaultValue?c(D,!!I.multiple,I.defaultValue,!0):c(D,!!I.multiple,I.multiple?[]:"",!1))}D[ch]=I}catch(rb){Qc(a,a.return,rb)}}break;case 6:wa(b,a);Oa(a);if(n&4){if(null===a.stateNode)throw Error(ja(162));D=a.stateNode;I=a.memoizedProps;try{D.nodeValue=I}catch(rb){Qc(a,a.return,rb)}}break;case 3:wa(b,a);Oa(a);if(n&4&&null!==d&&d.memoizedState.isDehydrated)try{Sc(b.containerInfo)}catch(rb){Qc(a,
a.return,rb)}break;case 4:wa(b,a);Oa(a);break;case 13:wa(b,a);Oa(a);D=a.child;D.flags&8192&&(I=null!==D.memoizedState,D.stateNode.isHidden=I,!I||null!==D.alternate&&null!==D.alternate.memoizedState||(Wi=Wc()));n&4&&gb(a);break;case 22:Va=null!==d&&null!==d.memoizedState;a.mode&1?(ae=(Fa=ae)||Va,wa(b,a),ae=Fa):wa(b,a);Oa(a);if(n&8192){Fa=null!==a.memoizedState;if((a.stateNode.isHidden=Fa)&&!Va&&0!==(a.mode&1))for(pb=a,Va=a.child;null!==Va;){for(Wa=pb=Va;null!==pb;){Ua=pb;nb=Ua.child;switch(Ua.tag){case 0:case 11:case 14:case 15:O(4,
Ua,Ua.return);break;case 1:L(Ua,Ua.return);var qb=Ua.stateNode;if("function"===typeof qb.componentWillUnmount){n=Ua;d=Ua.return;try{b=n,qb.props=b.memoizedProps,qb.state=b.memoizedState,qb.componentWillUnmount()}catch(rb){Qc(n,d,rb)}}break;case 5:L(Ua,Ua.return);break;case 22:if(null!==Ua.memoizedState){kb(Wa);continue}}null!==nb?(nb.return=Ua,pb=nb):kb(Wa)}Va=Va.sibling}Va=null;Wa=a;a:for(;;){if(5===Wa.tag){if(null===Va){Va=Wa;try{D=Wa.stateNode,Fa?(I=D.style,"function"===typeof I.setProperty?I.setProperty("display",
"none","important"):I.display="none"):(ka=Wa.stateNode,sa=Wa.memoizedProps.style,W=void 0!==sa&&null!==sa&&sa.hasOwnProperty("display")?sa.display:null,ka.style.display=N("display",W))}catch(rb){Qc(a,a.return,rb)}}}else if(6===Wa.tag){if(null===Va)try{Wa.stateNode.nodeValue=Fa?"":Wa.memoizedProps}catch(rb){Qc(a,a.return,rb)}}else if((22!==Wa.tag&&23!==Wa.tag||null===Wa.memoizedState||Wa===a)&&null!==Wa.child){Wa.child.return=Wa;Wa=Wa.child;continue}if(Wa===a)break a;for(;null===Wa.sibling;){if(null===
Wa.return||Wa.return===a)break a;Va===Wa&&(Va=null);Wa=Wa.return}Va===Wa&&(Va=null);Wa.sibling.return=Wa.return;Wa=Wa.sibling}}break;case 19:wa(b,a);Oa(a);n&4&&gb(a);break;case 21:break;default:wa(b,a),Oa(a)}}function Oa(a){var b=a.flags;if(b&2){try{a:{for(var d=a.return;null!==d;){if(va(d))break a;d=d.return}throw Error(ja(160));}switch(d.tag){case 5:var n=d.stateNode;d.flags&32&&(J(n,""),d.flags&=-33);var D=Ca(a);Sa(a,D,n);break;case 3:case 4:var I=d.stateNode.containerInfo,W=Ca(a);Aa(a,W,I);break;
default:throw Error(ja(161));}}catch(ka){Qc(a,a.return,ka)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function Yb(a,b,d){pb=a;ub(a,b,d)}function ub(a,b,d){for(var n=0!==(a.mode&1);null!==pb;){var D=pb,I=D.child;if(22===D.tag&&n){var W=null!==D.memoizedState||Wh;if(!W){var ka=D.alternate,sa=null!==ka&&null!==ka.memoizedState||ae;ka=Wh;var Fa=ae;Wh=W;if((ae=sa)&&!Fa)for(pb=D;null!==pb;)W=pb,sa=W.child,22===W.tag&&null!==W.memoizedState?Ra(D):null!==sa?(sa.return=W,pb=sa):Ra(D);for(;null!==I;)pb=I,ub(I,b,
d),I=I.sibling;pb=D;Wh=ka;ae=Fa}Ya(a,b,d)}else 0!==(D.subtreeFlags&8772)&&null!==I?(I.return=D,pb=I):Ya(a,b,d)}}function Ya(a){for(;null!==pb;){var b=pb;if(0!==(b.flags&8772)){var d=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:ae||U(5,b);break;case 1:var n=b.stateNode;if(b.flags&4&&!ae)if(null===d)n.componentDidMount();else{var D=b.elementType===b.type?d.memoizedProps:hd(b.type,d.memoizedProps);n.componentDidUpdate(D,d.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var I=
b.updateQueue;null!==I&&Ke(b,I,n);break;case 3:var W=b.updateQueue;if(null!==W){d=null;if(null!==b.child)switch(b.child.tag){case 5:d=b.child.stateNode;break;case 1:d=b.child.stateNode}Ke(b,W,d)}break;case 5:var ka=b.stateNode;if(null===d&&b.flags&4){d=ka;var sa=b.memoizedProps;switch(b.type){case "button":case "input":case "select":case "textarea":sa.autoFocus&&d.focus();break;case "img":sa.src&&(d.src=sa.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var Fa=
b.alternate;if(null!==Fa){var Va=Fa.memoizedState;if(null!==Va){var Wa=Va.dehydrated;null!==Wa&&Sc(Wa)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ja(163));}ae||b.flags&512&&ba(b)}catch(Ua){Qc(b,b.return,Ua)}}if(b===a){pb=null;break}d=b.sibling;if(null!==d){d.return=b.return;pb=d;break}pb=b.return}}function kb(a){for(;null!==pb;){var b=pb;if(b===a){pb=null;break}var d=b.sibling;if(null!==d){d.return=b.return;pb=d;break}pb=b.return}}function Ra(a){for(;null!==
pb;){var b=pb;try{switch(b.tag){case 0:case 11:case 15:var d=b.return;try{U(4,b)}catch(sa){Qc(b,d,sa)}break;case 1:var n=b.stateNode;if("function"===typeof n.componentDidMount){var D=b.return;try{n.componentDidMount()}catch(sa){Qc(b,D,sa)}}var I=b.return;try{ba(b)}catch(sa){Qc(b,I,sa)}break;case 5:var W=b.return;try{ba(b)}catch(sa){Qc(b,W,sa)}}}catch(sa){Qc(b,b.return,sa)}if(b===a){pb=null;break}var ka=b.sibling;if(null!==ka){ka.return=b.return;pb=ka;break}pb=b.return}}function $a(){return 0!==(fc&
6)?Wc():-1!==Xh?Xh:Xh=Wc()}function Nb(a){if(0===(a.mode&1))return 1;if(0!==(fc&2)&&0!==Nd)return Nd&-Nd;if(null!==Vk.transition)return 0===Yh&&(Yh=Pb()),Yh;a=oc;if(0!==a)return a;a=window.event;return a=void 0===a?16:Cc(a.type)}function Bb(a,b,d,n){if(50<kh)throw kh=0,Xi=null,Error(ja(185));pd(a,d,n);if(0===(fc&2)||a!==Cd)a===Cd&&(0===(fc&2)&&(Zh|=d),4===nd&&ze(a,Nd)),hb(a,n),1===d&&0===fc&&0===(b.mode&1)&&(Fg=Wc()+500,Kh&&Ha())}function hb(a,b){var d=a.callbackNode;uc(a,b);var n=Od(a,a===Cd?Nd:
0);if(0===n)null!==d&&Mj(d),a.callbackNode=null,a.callbackPriority=0;else if(b=n&-n,a.callbackPriority!==b){null!=d&&Mj(d);if(1===b)0===a.tag?wd(zd.bind(null,a)):Jc(zd.bind(null,a)),Wk(function(){0===(fc&6)&&Ha()}),d=null;else{switch(Rd(n)){case 1:d=Ai;break;case 4:d=rj;break;case 16:d=Hh;break;case 536870912:d=sj;break;default:d=Hh}d=Nj(d,Ac.bind(null,a))}a.callbackPriority=b;a.callbackNode=d}}function Ac(a,b){Xh=-1;Yh=0;if(0!==(fc&6))throw Error(ja(327));var d=a.callbackNode;if(Gg()&&a.callbackNode!==
d)return null;var n=Od(a,a===Cd?Nd:0);if(0===n)return null;if(0!==(n&30)||0!==(n&a.expiredLanes)||b)b=$h(a,n);else{b=n;var D=fc;fc|=2;var I=Oj();if(Cd!==a||Nd!==b)rf=null,Fg=Wc()+500,dg(a,b);do try{for(;null!==ed&&!Xk();)Pj(ed);break}catch(ka){Qj(a,ka)}while(1);dh=Jf=Cg=null;ai.current=I;fc=D;null!==ed?b=0:(Cd=null,Nd=0,b=nd)}if(0!==b){2===b&&(D=hc(a),0!==D&&(n=D,b=$c(a,D)));if(1===b)throw d=lh,dg(a,0),ze(a,n),hb(a,Wc()),d;if(6===b)ze(a,n);else{D=a.current.alternate;if(0===(n&30)&&!ec(D)&&(b=$h(a,
n),2===b&&(I=hc(a),0!==I&&(n=I,b=$c(a,I))),1===b))throw d=lh,dg(a,0),ze(a,n),hb(a,Wc()),d;a.finishedWork=D;a.finishedLanes=n;switch(b){case 0:case 1:throw Error(ja(345));case 2:eg(a,te,rf);break;case 3:ze(a,n);if((n&130023424)===n&&(b=Wi+500-Wc(),10<b)){if(0!==Od(a,0))break;D=a.suspendedLanes;if((D&n)!==n){$a();a.pingedLanes|=a.suspendedLanes&D;break}a.timeoutHandle=Yi(eg.bind(null,a,te,rf),b);break}eg(a,te,rf);break;case 4:ze(a,n);if((n&4194240)===n)break;b=a.eventTimes;for(D=-1;0<n;){var W=31-Ue(n);
I=1<<W;W=b[W];W>D&&(D=W);n&=~I}n=D;n=Wc()-n;n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3E3>n?3E3:4320>n?4320:1960*Yk(n/1960))-n;if(10<n){a.timeoutHandle=Yi(eg.bind(null,a,te,rf),n);break}eg(a,te,rf);break;case 5:eg(a,te,rf);break;default:throw Error(ja(329));}}}hb(a,Wc());return a.callbackNode===d?Ac.bind(null,a):null}function $c(a,b){var d=mh;a.current.memoizedState.isDehydrated&&(dg(a,b).flags|=256);a=$h(a,b);2!==a&&(b=te,te=d,null!==b&&he(b));return a}function he(a){null===te?te=a:te.push.apply(te,
a)}function ec(a){for(var b=a;;){if(b.flags&16384){var d=b.updateQueue;if(null!==d&&(d=d.stores,null!==d))for(var n=0;n<d.length;n++){var D=d[n],I=D.getSnapshot;D=D.value;try{if(!Ve(I(),D))return!1}catch(W){return!1}}}d=b.child;if(b.subtreeFlags&16384&&null!==d)d.return=b,b=d;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}function ze(a,b){b&=~Zi;b&=~Zh;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<
b;){var d=31-Ue(b),n=1<<d;a[d]=-1;b&=~n}}function zd(a){if(0!==(fc&6))throw Error(ja(327));Gg();var b=Od(a,0);if(0===(b&1))return hb(a,Wc()),null;var d=$h(a,b);if(0!==a.tag&&2===d){var n=hc(a);0!==n&&(b=n,d=$c(a,n))}if(1===d)throw d=lh,dg(a,0),ze(a,b),hb(a,Wc()),d;if(6===d)throw Error(ja(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;eg(a,te,rf);hb(a,Wc());return null}function Bf(a,b){var d=fc;fc|=1;try{return a(b)}finally{fc=d,0===fc&&(Fg=Wc()+500,Kh&&Ha())}}function Ae(a){null!==Of&&
0===Of.tag&&0===(fc&6)&&Gg();var b=fc;fc|=1;var d=Pe.transition,n=oc;try{if(Pe.transition=null,oc=1,a)return a()}finally{oc=n,Pe.transition=d,fc=b,0===(fc&6)&&Ha()}}function og(){Ee=Eg.current;Zb(Eg)}function dg(a,b){a.finishedWork=null;a.finishedLanes=0;var d=a.timeoutHandle;-1!==d&&(a.timeoutHandle=-1,Zk(d));if(null!==ed)for(d=ed.return;null!==d;){var n=d;Ie(n);switch(n.tag){case 1:n=n.type.childContextTypes;null!==n&&void 0!==n&&Mb();break;case 3:ge();Zb(re);Zb($d);ib();break;case 5:oe(n);break;
case 4:ge();break;case 13:Zb(Lc);break;case 19:Zb(Lc);break;case 10:Yd(n.type._context);break;case 22:case 23:og()}d=d.return}Cd=a;ed=a=Lf(a.current,null);Nd=Ee=b;nd=0;lh=null;Zi=Zh=ag=0;te=mh=null;if(null!==$f){for(b=0;b<$f.length;b++)if(d=$f[b],n=d.interleaved,null!==n){d.interleaved=null;var D=n.next,I=d.pending;if(null!==I){var W=I.next;I.next=D;n.next=W}d.pending=n}$f=null}return a}function Qj(a,b){do{var d=ed;try{dh=Jf=Cg=null;Rh.current=Sh;if(Th){for(var n=tc.memoizedState;null!==n;){var D=
n.queue;null!==D&&(D.pending=null);n=n.next}Th=!1}cg=0;Bd=md=tc=null;hh=!1;ih=0;$i.current=null;if(null===d||null===d.return){nd=1;lh=b;ed=null;break}a:{var I=a,W=d.return,ka=d,sa=b;b=Nd;ka.flags|=32768;if(null!==sa&&"object"===typeof sa&&"function"===typeof sa.then){var Fa=sa,Va=ka,Wa=Va.tag;if(0===(Va.mode&1)&&(0===Wa||11===Wa||15===Wa)){var Ua=Va.alternate;Ua?(Va.updateQueue=Ua.updateQueue,Va.memoizedState=Ua.memoizedState,Va.lanes=Ua.lanes):(Va.updateQueue=null,Va.memoizedState=null)}var nb=Af(W);
if(null!==nb){nb.flags&=-257;Sg(nb,W,ka,I,b);nb.mode&1&&Vf(I,Fa,b);b=nb;sa=Fa;var qb=b.updateQueue;if(null===qb){var rb=new Set;rb.add(sa);b.updateQueue=rb}else qb.add(sa);break a}else{if(0===(b&1)){Vf(I,Fa,b);Ti();break a}sa=Error(ja(426))}}else if(Hc&&ka.mode&1){var Pc=Af(W);if(null!==Pc){0===(Pc.flags&65536)&&(Pc.flags|=256);Sg(Pc,W,ka,I,b);bd(yf(sa,ka));break a}}I=sa=yf(sa,ka);4!==nd&&(nd=2);null===mh?mh=[I]:mh.push(I);I=W;do{switch(I.tag){case 3:I.flags|=65536;b&=-b;I.lanes|=b;var za=Rg(I,sa,
b);gg(I,za);break a;case 1:ka=sa;var xa=I.type,Da=I.stateNode;if(0===(I.flags&128)&&("function"===typeof xa.getDerivedStateFromError||null!==Da&&"function"===typeof Da.componentDidCatch&&(null===Nf||!Nf.has(Da)))){I.flags|=65536;b&=-b;I.lanes|=b;var db=xh(I,ka,b);gg(I,db);break a}}I=I.return}while(null!==I)}Rj(d)}catch(tb){b=tb;ed===d&&null!==d&&(ed=d.return);continue}break}while(1)}function Oj(){var a=ai.current;ai.current=Sh;return null===a?Sh:a}function Ti(){if(0===nd||3===nd||2===nd)nd=4;null===
Cd||0===(ag&268435455)&&0===(Zh&268435455)||ze(Cd,Nd)}function $h(a,b){var d=fc;fc|=2;var n=Oj();if(Cd!==a||Nd!==b)rf=null,dg(a,b);do try{for(;null!==ed;)Pj(ed);break}catch(D){Qj(a,D)}while(1);dh=Jf=Cg=null;fc=d;ai.current=n;if(null!==ed)throw Error(ja(261));Cd=null;Nd=0;return nd}function Pj(a){var b=$k(a.alternate,a,Ee);a.memoizedProps=a.pendingProps;null===b?Rj(a):ed=b;$i.current=null}function Rj(a){var b=a;do{var d=b.alternate;a=b.return;if(0===(b.flags&32768)){if(d=Q(d,b,Ee),null!==d){ed=d;return}}else{d=
M(d,b);if(null!==d){d.flags&=32767;ed=d;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nd=6;ed=null;return}}b=b.sibling;if(null!==b){ed=b;return}ed=b=a}while(null!==b);0===nd&&(nd=5)}function eg(a,b,d){var n=oc,D=Pe.transition;try{Pe.transition=null,oc=1,al(a,b,d,n)}finally{Pe.transition=D,oc=n}return null}function al(a,b,d,n){do Gg();while(null!==Of);if(0!==(fc&6))throw Error(ja(327));d=a.finishedWork;var D=a.finishedLanes;if(null===d)return null;a.finishedWork=null;a.finishedLanes=
0;if(d===a.current)throw Error(ja(177));a.callbackNode=null;a.callbackPriority=0;var I=d.lanes|d.childLanes;Ed(a,I);a===Cd&&(ed=Cd=null,Nd=0);0===(d.subtreeFlags&2064)&&0===(d.flags&2064)||bi||(bi=!0,Nj(Hh,function(){Gg();return null}));I=0!==(d.flags&15990);if(0!==(d.subtreeFlags&15990)||I){I=Pe.transition;Pe.transition=null;var W=oc;oc=1;var ka=fc;fc|=4;$i.current=null;Z(a,d);cb(d,a);hf(Vi);Fh=!!Ui;Vi=Ui=null;a.current=d;Yb(d,a,D);bl();fc=ka;oc=W;Pe.transition=I}else a.current=d;bi&&(bi=!1,Of=a,
ci=D);I=a.pendingLanes;0===I&&(Nf=null);Dd(d.stateNode,n);hb(a,Wc());if(null!==b)for(n=a.onRecoverableError,d=0;d<b.length;d++)D=b[d],n(D.value,{componentStack:D.stack,digest:D.digest});if(Uh)throw Uh=!1,a=Qi,Qi=null,a;0!==(ci&1)&&0!==a.tag&&Gg();I=a.pendingLanes;0!==(I&1)?a===Xi?kh++:(kh=0,Xi=a):kh=0;Ha();return null}function Gg(){if(null!==Of){var a=Rd(ci),b=Pe.transition,d=oc;try{Pe.transition=null;oc=16>a?16:a;if(null===Of)var n=!1;else{a=Of;Of=null;ci=0;if(0!==(fc&6))throw Error(ja(331));var D=
fc;fc|=4;for(pb=a.current;null!==pb;){var I=pb,W=I.child;if(0!==(pb.flags&16)){var ka=I.deletions;if(null!==ka){for(var sa=0;sa<ka.length;sa++){var Fa=ka[sa];for(pb=Fa;null!==pb;){var Va=pb;switch(Va.tag){case 0:case 11:case 15:O(8,Va,I)}var Wa=Va.child;if(null!==Wa)Wa.return=Va,pb=Wa;else for(;null!==pb;){Va=pb;var Ua=Va.sibling,nb=Va.return;qa(Va);if(Va===Fa){pb=null;break}if(null!==Ua){Ua.return=nb;pb=Ua;break}pb=nb}}}var qb=I.alternate;if(null!==qb){var rb=qb.child;if(null!==rb){qb.child=null;
do{var Pc=rb.sibling;rb.sibling=null;rb=Pc}while(null!==rb)}}pb=I}}if(0!==(I.subtreeFlags&2064)&&null!==W)W.return=I,pb=W;else a:for(;null!==pb;){I=pb;if(0!==(I.flags&2048))switch(I.tag){case 0:case 11:case 15:O(9,I,I.return)}var za=I.sibling;if(null!==za){za.return=I.return;pb=za;break a}pb=I.return}}var xa=a.current;for(pb=xa;null!==pb;){W=pb;var Da=W.child;if(0!==(W.subtreeFlags&2064)&&null!==Da)Da.return=W,pb=Da;else a:for(W=xa;null!==pb;){ka=pb;if(0!==(ka.flags&2048))try{switch(ka.tag){case 0:case 11:case 15:U(9,
ka)}}catch(tb){Qc(ka,ka.return,tb)}if(ka===W){pb=null;break a}var db=ka.sibling;if(null!==db){db.return=ka.return;pb=db;break a}pb=ka.return}}fc=D;Ha();if(cf&&"function"===typeof cf.onPostCommitFiberRoot)try{cf.onPostCommitFiberRoot(Ch,a)}catch(tb){}n=!0}return n}finally{oc=d,Pe.transition=b}}return!1}function Sj(a,b,d){b=yf(d,b);b=Rg(a,b,1);a=Kd(a,b,1);b=$a();null!==a&&(pd(a,1,b),hb(a,b))}function Qc(a,b,d){if(3===a.tag)Sj(a,a,d);else for(;null!==b;){if(3===b.tag){Sj(b,a,d);break}else if(1===b.tag){var n=
b.stateNode;if("function"===typeof b.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Nf||!Nf.has(n))){a=yf(d,a);a=xh(b,a,1);b=Kd(b,a,1);a=$a();null!==b&&(pd(b,1,a),hb(b,a));break}}b=b.return}}function Lk(a,b,d){var n=a.pingCache;null!==n&&n.delete(b);b=$a();a.pingedLanes|=a.suspendedLanes&d;Cd===a&&(Nd&d)===d&&(4===nd||3===nd&&(Nd&130023424)===Nd&&500>Wc()-Wi?dg(a,0):Zi|=d);hb(a,b)}function Tj(a,b){0===b&&(0===(a.mode&1)?b=1:(b=di,di<<=1,0===(di&130023424)&&(di=4194304)));
var d=$a();a=id(a,b);null!==a&&(pd(a,b,d),hb(a,d))}function Nk(a){var b=a.memoizedState,d=0;null!==b&&(d=b.retryLane);Tj(a,d)}function Uk(a,b){var d=0;switch(a.tag){case 13:var n=a.stateNode,D=a.memoizedState;null!==D&&(d=D.retryLane);break;case 19:n=a.stateNode;break;default:throw Error(ja(314));}null!==n&&n.delete(b);Tj(a,d)}function Nj(a,b){return Gj(a,b)}function cl(a,b,d,n){this.tag=a;this.key=d;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=
null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=n;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Oe(a,b,d,n){return new cl(a,b,d,n)}function Ri(a){a=a.prototype;return!(!a||!a.isReactComponent)}function dl(a){if("function"===typeof a)return Ri(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===ti)return 11;if(a===ui)return 14}return 2}function Lf(a,b){var d=a.alternate;null===
d?(d=Oe(a.tag,b,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=b,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null);d.flags=a.flags&14680064;d.childLanes=a.childLanes;d.lanes=a.lanes;d.child=a.child;d.memoizedProps=a.memoizedProps;d.memoizedState=a.memoizedState;d.updateQueue=a.updateQueue;b=a.dependencies;d.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};d.sibling=a.sibling;d.index=a.index;
d.ref=a.ref;return d}function Ph(a,b,d,n,D,I){var W=2;n=a;if("function"===typeof a)Ri(a)&&(W=1);else if("string"===typeof a)W=5;else a:switch(a){case rg:return bg(d.children,D,I,b);case qi:W=8;D|=8;break;case pi:return a=Oe(12,d,b,D|2),a.elementType=pi,a.lanes=I,a;case ri:return a=Oe(13,d,b,D),a.elementType=ri,a.lanes=I,a;case si:return a=Oe(19,d,b,D),a.elementType=si,a.lanes=I,a;case Uj:return Vh(d,D,I,b);default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case pj:W=10;break a;case oj:W=
9;break a;case ti:W=11;break a;case ui:W=14;break a;case Cf:W=16;n=null;break a}throw Error(ja(130,null==a?a:typeof a,""));}b=Oe(W,d,b,D);b.elementType=a;b.type=n;b.lanes=I;return b}function bg(a,b,d,n){a=Oe(7,a,n,b);a.lanes=d;return a}function Vh(a,b,d,n){a=Oe(22,a,n,b);a.elementType=Uj;a.lanes=d;a.stateNode={isHidden:!1};return a}function Mi(a,b,d){a=Oe(6,a,null,b);a.lanes=d;return a}function Ni(a,b,d){b=Oe(4,null!==a.children?a.children:[],a.key,b);b.lanes=d;b.stateNode={containerInfo:a.containerInfo,
pendingChildren:null,implementation:a.implementation};return b}function el(a,b,d,n,D){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=Pd(0);this.expirationTimes=Pd(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Pd(0);
this.identifierPrefix=n;this.onRecoverableError=D;this.mutableSourceEagerHydrationData=null}function aj(a,b,d,n,D,I,W,ka,sa){a=new el(a,b,d,ka,sa);1===b?(b=1,!0===I&&(b|=8)):b=0;I=Oe(3,null,null,b);a.current=I;I.stateNode=a;I.memoizedState={element:n,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null};we(I);return a}function fl(a,b,d){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:sg,key:null==n?null:""+n,children:a,containerInfo:b,implementation:d}}
function Vj(a){if(!a)return If;a=a._reactInternals;a:{if(Ab(a)!==a||1!==a.tag)throw Error(ja(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Vb(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(ja(171));}if(1===a.tag){var d=a.type;if(Vb(d))return Ec(a,d,b)}return b}function Wj(a,b,d,n,D,I,W,ka,sa){a=aj(d,n,!0,a,D,I,W,ka,sa);a.context=Vj(null);d=a.current;n=$a();D=Nb(d);I=ee(n,D);I.callback=void 0!==b&&null!==
b?b:null;Kd(d,I,D);a.current.lanes=D;pd(a,D,n);hb(a,n);return a}function ei(a,b,d,n){var D=b.current,I=$a(),W=Nb(D);d=Vj(d);null===b.context?b.context=d:b.pendingContext=d;b=ee(I,W);b.payload={element:a};n=void 0===n?null:n;null!==n&&(b.callback=n);a=Kd(D,b,W);null!==a&&(Bb(a,D,W,I),Ze(a,D,W));return W}function fi(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Xj(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var d=
a.retryLane;a.retryLane=0!==d&&d<b?d:b}}function bj(a,b){Xj(a,b);(a=a.alternate)&&Xj(a,b)}function gl(){return null}function cj(a){this._internalRoot=a}function gi(a){this._internalRoot=a}function dj(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function hi(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Yj(){}function hl(a,b,d,n,D){if(D){if("function"===typeof n){var I=n;n=function(){var Fa=
fi(W);I.call(Fa)}}var W=Wj(b,n,a,0,null,!1,!1,"",Yj);a._reactRootContainer=W;a[nf]=W.current;ca(8===a.nodeType?a.parentNode:a);Ae();return W}for(;D=a.lastChild;)a.removeChild(D);if("function"===typeof n){var ka=n;n=function(){var Fa=fi(sa);ka.call(Fa)}}var sa=aj(a,0,!1,null,null,!1,!1,"",Yj);a._reactRootContainer=sa;a[nf]=sa.current;ca(8===a.nodeType?a.parentNode:a);Ae(function(){ei(b,sa,d,n)});return sa}function ii(a,b,d,n,D){var I=d._reactRootContainer;if(I){var W=I;if("function"===typeof D){var ka=
D;D=function(){var sa=fi(W);ka.call(sa)}}ei(b,W,a,D)}else W=hl(d,b,a,D,n);return fi(W)}var Zj=Ic(2),Be=Ic(10),kj=new Set,Ug={},sf=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),mi=Object.prototype.hasOwnProperty,fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
mj={},lj={},Ld={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Ld[a]=new G(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];Ld[b]=new G(b,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){Ld[a]=new G(a,2,!1,a.toLowerCase(),null,
!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Ld[a]=new G(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Ld[a]=new G(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){Ld[a]=
new G(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){Ld[a]=new G(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){Ld[a]=new G(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){Ld[a]=new G(a,5,!1,a.toLowerCase(),null,!1,!1)});var ej=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(ej,X);Ld[b]=new G(b,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(ej,X);Ld[b]=new G(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(ej,X);Ld[b]=new G(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){Ld[a]=new G(a,1,!1,a.toLowerCase(),null,!1,!1)});Ld.xlinkHref=new G("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){Ld[a]=new G(a,1,!1,a.toLowerCase(),null,!0,!0)});var tf=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),sg=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),qi=Symbol.for("react.strict_mode"),pi=Symbol.for("react.profiler"),pj=Symbol.for("react.provider"),oj=Symbol.for("react.context"),ti=Symbol.for("react.forward_ref"),ri=Symbol.for("react.suspense"),
si=Symbol.for("react.suspense_list"),ui=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Uj=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var nj=Symbol.iterator,Kc=Object.assign,ni,oi=!1,Vg=Array.isArray,ji,Kj=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,d,n,D){MSApp.execUnsafeLocalFunction(function(){return a(b,
d,n,D)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{ji=ji||document.createElement("div");ji.innerHTML="\x3csvg\x3e"+b.valueOf().toString()+"\x3c/svg\x3e";for(b=ji.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),Wg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},il=["Webkit","ms","Moz","O"];Object.keys(Wg).forEach(function(a){il.forEach(function(b){b=
b+a.charAt(0).toUpperCase()+a.substring(1);Wg[b]=Wg[a]})});var gk=Kc({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),yi=null,vi=null,tg=null,ug=null,wi=!1,Ii=!1;if(sf)try{var nh={};Object.defineProperty(nh,"passive",{get:function(){Ii=!0}});window.addEventListener("test",nh,nh);window.removeEventListener("test",nh,nh)}catch(a){Ii=!1}var Xg=!1,Ah=null,Bh=!1,xi=null,hk={onError:function(a){Xg=!0;Ah=a}},Gj=Be.unstable_scheduleCallback,
Mj=Be.unstable_cancelCallback,Xk=Be.unstable_shouldYield,bl=Be.unstable_requestPaint,Wc=Be.unstable_now,ok=Be.unstable_getCurrentPriorityLevel,Ai=Be.unstable_ImmediatePriority,rj=Be.unstable_UserBlockingPriority,Hh=Be.unstable_NormalPriority,pk=Be.unstable_LowPriority,sj=Be.unstable_IdlePriority,Ch=null,cf=null,Ue=Math.clz32?Math.clz32:Xc,ik=Math.log,jk=Math.LN2,Dh=64,di=4194304,oc=0,zi=!1,Eh=[],Df=null,Ef=null,Ff=null,Yg=new Map,Zg=new Map,Gf=[],mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
vg=tf.ReactCurrentBatchConfig,Fh=!0,Gh=null,Hf=null,Bi=null,Ih=null,Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Qb(Hg),oh=Kc({},Hg,{view:0,detail:0}),zk=Qb(oh),fj,gj,ph,ki=Kc({},oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:
a.fromElement:a.relatedTarget},movementX:function(a){if("movementX"in a)return a.movementX;a!==ph&&(ph&&"mousemove"===a.type?(fj=a.screenX-ph.screenX,gj=a.screenY-ph.screenY):gj=fj=0,ph=a);return fj},movementY:function(a){return"movementY"in a?a.movementY:gj}}),yj=Qb(ki),jl=Kc({},ki,{dataTransfer:0}),vk=Qb(jl),kl=Kc({},oh,{relatedTarget:0}),Ji=Qb(kl),ll=Kc({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=Qb(ll),ml=Kc({},Hg,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:
window.clipboardData}}),Bk=Qb(ml),nl=Kc({},Hg,{data:0}),Fj=Qb(nl),ol={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ql=Kc({},oh,{key:function(a){if(a.key){var b=ol[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=Sd(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?pl[a.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(a){return"keypress"===a.type?Sd(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?Sd(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),uk=Qb(ql),rl=Kc({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dj=Qb(rl),sl=Kc({},oh,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),wk=Qb(sl),tl=Kc({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Qb(tl),ul=Kc({},ki,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=Qb(ul),rk=[9,13,27,32],Ci=sf&&"CompositionEvent"in window,qh=null;sf&&"documentMode"in document&&(qh=document.documentMode);
var Dk=sf&&"TextEvent"in window&&!qh,vj=sf&&(!Ci||qh&&8<qh&&11>=qh),uj=String.fromCharCode(32),tj=!1,wg=!1,sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},$g=null,ah=null,Ej=!1;if(sf){if(sf){var hj="oninput"in document;if(!hj){var ak=document.createElement("div");ak.setAttribute("oninput","return;");hj="function"===typeof ak.oninput}var bk=hj}else bk=!1;Ej=bk&&(!document.documentMode||9<document.documentMode)}var Ve=
"function"===typeof Object.is?Object.is:gf,Ck=sf&&"documentMode"in document&&11>=document.documentMode,xg=null,Fi=null,bh=null,Ei=!1,yg={animationend:ud("Animation","AnimationEnd"),animationiteration:ud("Animation","AnimationIteration"),animationstart:ud("Animation","AnimationStart"),transitionend:ud("Transition","TransitionEnd")},Gi={},wj={};sf&&(wj=document.createElement("div").style,"AnimationEvent"in window||(delete yg.animationend.animation,delete yg.animationiteration.animation,delete yg.animationstart.animation),
"TransitionEvent"in window||delete yg.transitionend.transition);for(var zj=He("animationend"),Aj=He("animationiteration"),Bj=He("animationstart"),Cj=He("transitionend"),xj=new Map,ck="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
ij=0;ij<ck.length;ij++){var jj=ck[ij],vl=jj.toLowerCase(),wl=jj[0].toUpperCase()+jj.slice(1);Jd(vl,"on"+wl)}Jd(zj,"onAnimationEnd");Jd(Aj,"onAnimationIteration");Jd(Bj,"onAnimationStart");Jd("dblclick","onDoubleClick");Jd("focusin","onFocus");Jd("focusout","onBlur");Jd(Cj,"onTransitionEnd");sb("onMouseEnter",["mouseout","mouseover"]);sb("onMouseLeave",["mouseout","mouseover"]);sb("onPointerEnter",["pointerout","pointerover"]);sb("onPointerLeave",["pointerout","pointerover"]);Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(jh)),Jh="_reactListening"+Math.random().toString(36).slice(2),Ek=/\r\n?/g,Fk=/\u0000|\uFFFD/g,Ui=null,Vi=null,Yi="function"===typeof setTimeout?setTimeout:void 0,Zk="function"===typeof clearTimeout?clearTimeout:void 0,dk="function"===typeof Promise?Promise:void 0,Wk="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dk?function(a){return dk.resolve(null).then(a).catch(Ub)}:Yi,Ig=Math.random().toString(36).slice(2),
df="__reactFiber$"+Ig,ch="__reactProps$"+Ig,nf="__reactContainer$"+Ig,Hi="__reactEvents$"+Ig,Rk="__reactListeners$"+Ig,Sk="__reactHandles$"+Ig,Ki=[],zg=-1,If={},$d=Lb(If),re=Lb(!1),Yf=If,of=null,Kh=!1,Li=!1,Ag=[],Bg=0,Mh=null,Lh=0,Me=[],Ne=0,Zf=null,pf=1,qf="",Ce=null,De=null,Hc=!1,We=null,Vk=tf.ReactCurrentBatchConfig,Nh=Lb(null),Cg=null,Jf=null,dh=null,$f=null,Kf=!1,Hj=(new Zj.Component).refs,Oh={isMounted:function(a){return(a=a._reactInternals)?Ab(a)===a:!1},enqueueSetState:function(a,b,d){a=a._reactInternals;
var n=$a(),D=Nb(a),I=ee(n,D);I.payload=b;void 0!==d&&null!==d&&(I.callback=d);b=Kd(a,I,D);null!==b&&(Bb(b,a,D,n),Ze(b,a,D))},enqueueReplaceState:function(a,b,d){a=a._reactInternals;var n=$a(),D=Nb(a),I=ee(n,D);I.tag=1;I.payload=b;void 0!==d&&null!==d&&(I.callback=d);b=Kd(a,I,D);null!==b&&(Bb(b,a,D,n),Ze(b,a,D))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var d=$a(),n=Nb(a),D=ee(d,n);D.tag=2;void 0!==b&&null!==b&&(D.callback=b);b=Kd(a,D,n);null!==b&&(Bb(b,a,n,d),Ze(b,a,n))}},Dg=Rf(!0),Ij=
Rf(!1),eh={},ef=Lb(eh),gh=Lb(eh),fh=Lb(eh),Lc=Lb(0),Oi=[],Rh=tf.ReactCurrentDispatcher,Pi=tf.ReactCurrentBatchConfig,cg=0,tc=null,md=null,Bd=null,Th=!1,hh=!1,ih=0,xl=0,Sh={readContext:cd,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useInsertionEffect:Xa,useLayoutEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useDeferredValue:Xa,useTransition:Xa,useMutableSource:Xa,useSyncExternalStore:Xa,useId:Xa,unstable_isNewReconciler:!1},Hk={readContext:cd,useCallback:function(a,
b){Rb().memoizedState=[a,void 0===b?null:b];return a},useContext:cd,useEffect:qe,useImperativeHandle:function(a,b,d){d=null!==d&&void 0!==d?d.concat([a]):null;return ig(4194308,4,Lg.bind(null,b,a),d)},useLayoutEffect:function(a,b){return ig(4194308,4,a,b)},useInsertionEffect:function(a,b){return ig(4,2,a,b)},useMemo:function(a,b){var d=Rb();b=void 0===b?null:b;a=a();d.memoizedState=[a,b];return a},useReducer:function(a,b,d){var n=Rb();b=void 0!==d?d(b):b;n.memoizedState=n.baseState=b;a={pending:null,
interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};n.queue=a;a=a.dispatch=wh.bind(null,tc,a);return[n.memoizedState,a]},useRef:function(a){var b=Rb();a={current:a};return b.memoizedState=a},useState:th,useDebugValue:Tf,useDeferredValue:function(a){return Rb().memoizedState=a},useTransition:function(){var a=th(!1),b=a[0];a=Og.bind(null,a[1]);Rb().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,d){var n=tc,D=Rb();if(Hc){if(void 0===
d)throw Error(ja(407));d=d()}else{d=b();if(null===Cd)throw Error(ja(349));0!==(cg&30)||kd(n,b,d)}D.memoizedState=d;var I={value:d,getSnapshot:b};D.queue=I;qe(Zd.bind(null,n,I,a),[a]);n.flags|=2048;Sf(9,Se.bind(null,n,I,d,b),void 0,null);return d},useId:function(){var a=Rb(),b=Cd.identifierPrefix;if(Hc){var d=qf,n=pf;d=(n&~(1<<32-Ue(n)-1)).toString(32)+d;b=":"+b+"R"+d;d=ih++;0<d&&(b+="H"+d.toString(32));b+=":"}else d=xl++,b=":"+b+"r"+d.toString(32)+":";return a.memoizedState=b},unstable_isNewReconciler:!1},
Ik={readContext:cd,useCallback:ye,useContext:cd,useEffect:Jg,useImperativeHandle:Mg,useInsertionEffect:Kg,useLayoutEffect:vh,useMemo:Ng,useReducer:Ob,useRef:uh,useState:function(){return Ob(Fc)},useDebugValue:Tf,useDeferredValue:function(a){var b=$b();return mf(b,md.memoizedState,a)},useTransition:function(){var a=Ob(Fc)[0],b=$b().memoizedState;return[a,b]},useMutableSource:pe,useSyncExternalStore:kc,useId:jg,unstable_isNewReconciler:!1},Jk={readContext:cd,useCallback:ye,useContext:cd,useEffect:Jg,
useImperativeHandle:Mg,useInsertionEffect:Kg,useLayoutEffect:vh,useMemo:Ng,useReducer:dd,useRef:uh,useState:function(){return dd(Fc)},useDebugValue:Tf,useDeferredValue:function(a){var b=$b();return null===md?b.memoizedState=a:mf(b,md.memoizedState,a)},useTransition:function(){var a=dd(Fc)[0],b=$b().memoizedState;return[a,b]},useMutableSource:pe,useSyncExternalStore:kc,useId:jg,unstable_isNewReconciler:!1},Kk="function"===typeof WeakMap?WeakMap:Map,Mk=tf.ReactCurrentOwner,se=!1,Si={dehydrated:null,
treeContext:null,retryLane:0};var Pk=function(a,b){for(var d=b.child;null!==d;){if(5===d.tag||6===d.tag)a.appendChild(d.stateNode);else if(4!==d.tag&&null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return}d.sibling.return=d.return;d=d.sibling}};var Jj=function(){};var Ok=function(a,b,d,n){var D=a.memoizedProps;if(D!==n){a=b.stateNode;jd(ef.current);var I=null;switch(d){case "input":D=k(a,D);n=k(a,n);I=[];break;
case "select":D=Kc({},D,{value:void 0});n=Kc({},n,{value:void 0});I=[];break;case "textarea":D=e(a,D);n=e(a,n);I=[];break;default:"function"!==typeof D.onClick&&"function"===typeof n.onClick&&(a.onclick=mb)}ia(d,n);var W;d=null;for(Fa in D)if(!n.hasOwnProperty(Fa)&&D.hasOwnProperty(Fa)&&null!=D[Fa])if("style"===Fa){var ka=D[Fa];for(W in ka)ka.hasOwnProperty(W)&&(d||(d={}),d[W]="")}else"dangerouslySetInnerHTML"!==Fa&&"children"!==Fa&&"suppressContentEditableWarning"!==Fa&&"suppressHydrationWarning"!==
Fa&&"autoFocus"!==Fa&&(Ug.hasOwnProperty(Fa)?I||(I=[]):(I=I||[]).push(Fa,null));for(Fa in n){var sa=n[Fa];ka=null!=D?D[Fa]:void 0;if(n.hasOwnProperty(Fa)&&sa!==ka&&(null!=sa||null!=ka))if("style"===Fa)if(ka){for(W in ka)!ka.hasOwnProperty(W)||sa&&sa.hasOwnProperty(W)||(d||(d={}),d[W]="");for(W in sa)sa.hasOwnProperty(W)&&ka[W]!==sa[W]&&(d||(d={}),d[W]=sa[W])}else d||(I||(I=[]),I.push(Fa,d)),d=sa;else"dangerouslySetInnerHTML"===Fa?(sa=sa?sa.__html:void 0,ka=ka?ka.__html:void 0,null!=sa&&ka!==sa&&(I=
I||[]).push(Fa,sa)):"children"===Fa?"string"!==typeof sa&&"number"!==typeof sa||(I=I||[]).push(Fa,""+sa):"suppressContentEditableWarning"!==Fa&&"suppressHydrationWarning"!==Fa&&(Ug.hasOwnProperty(Fa)?(null!=sa&&"onScroll"===Fa&&ha("scroll",a),I||ka===sa||(I=[])):(I=I||[]).push(Fa,sa))}d&&(I=I||[]).push("style",d);var Fa;if(b.updateQueue=I)b.flags|=4}};var Qk=function(a,b,d,n){d!==n&&(b.flags|=4)};var Wh=!1,ae=!1,Tk="function"===typeof WeakSet?WeakSet:Set,pb=null,Lj=!1,Md=null,Xe=!1,Yk=Math.ceil,ai=
tf.ReactCurrentDispatcher,$i=tf.ReactCurrentOwner,Pe=tf.ReactCurrentBatchConfig,fc=0,Cd=null,ed=null,Nd=0,Ee=0,Eg=Lb(0),nd=0,lh=null,ag=0,Zh=0,Zi=0,mh=null,te=null,Wi=0,Fg=Infinity,rf=null,Uh=!1,Qi=null,Nf=null,bi=!1,Of=null,ci=0,kh=0,Xi=null,Xh=-1,Yh=0;var $k=function(a,b,d){if(null!==a)if(a.memoizedProps!==b.pendingProps||re.current)se=!0;else{if(0===(a.lanes&d)&&0===(b.flags&128))return se=!1,Ga(a,b,d);se=0!==(a.flags&131072)?!0:!1}else se=!1,Hc&&0!==(b.flags&1048576)&&fg(b,Lh,b.index);b.lanes=
0;switch(b.tag){case 2:var n=b.type;fa(a,b);a=b.pendingProps;var D=ob(b,$d.current);Je(b,d);D=yb(null,b,n,a,D,d);var I=Jb();b.flags|=1;"object"===typeof D&&null!==D&&"function"===typeof D.render&&void 0===D.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Vb(n)?(I=!0,dc(b)):I=!1,b.memoizedState=null!==D.state&&void 0!==D.state?D.state:null,we(b),D.updater=Oh,b.stateNode=D,D._reactInternals=b,wf(b,n,a,d),b=mg(null,b,n,!0,I,d)):(b.tag=0,Hc&&I&&Pf(b),ld(null,b,D,d),b=b.child);return b;case 16:n=
b.elementType;a:{fa(a,b);a=b.pendingProps;D=n._init;n=D(n._payload);b.type=n;D=b.tag=dl(n);a=hd(n,a);switch(D){case 0:b=Wf(null,b,n,a,d);break a;case 1:b=zh(null,b,n,a,d);break a;case 11:b=Tg(null,b,n,a,d);break a;case 14:b=kg(null,b,n,hd(n.type,a),d);break a}throw Error(ja(306,n,""));}return b;case 0:return n=b.type,D=b.pendingProps,D=b.elementType===n?D:hd(n,D),Wf(a,b,n,D,d);case 1:return n=b.type,D=b.pendingProps,D=b.elementType===n?D:hd(n,D),zh(a,b,n,D,d);case 3:a:{yh(b);if(null===a)throw Error(ja(387));
n=b.pendingProps;I=b.memoizedState;D=I.element;jf(a,b);ne(b,n,null,d);var W=b.memoizedState;n=W.element;if(I.isDehydrated)if(I={element:n,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},b.updateQueue.baseState=I,b.memoizedState=I,b.flags&256){D=yf(Error(ja(423)),b);Xd();bd(D);b.flags|=256;ld(a,b,n,d);b=b.child;break a}else if(n!==D){D=yf(Error(ja(424)),b);Xd();bd(D);b.flags|=256;ld(a,b,n,d);b=b.child;break a}else for(De=rc(b.stateNode.containerInfo.firstChild),
Ce=b,Hc=!0,We=null,d=Ij(b,null,n,d),b.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{Xd();if(n===D){b=ta(a,b,d);break a}ld(a,b,n,d)}b=b.child}return b;case 5:return kf(b),null===a&&me(b),n=b.type,D=b.pendingProps,I=null!==a?a.memoizedProps:null,W=D.children,Fb(n,D)?W=null:null!==I&&Fb(n,I)&&(b.flags|=32),Uf(a,b),ld(a,b,W,d),b.child;case 6:return null===a&&me(b),null;case 13:return pg(a,b,d);case 4:return yd(b,b.stateNode.containerInfo),n=b.pendingProps,null===a?b.child=Dg(b,null,n,d):ld(a,b,
n,d),b.child;case 11:return n=b.type,D=b.pendingProps,D=b.elementType===n?D:hd(n,D),Tg(a,b,n,D,d);case 7:return ld(a,b,b.pendingProps,d),b.child;case 8:return ld(a,b,b.pendingProps.children,d),b.child;case 12:return ld(a,b,b.pendingProps.children,d),b.child;case 10:a:{n=b.type._context;D=b.pendingProps;I=b.memoizedProps;W=D.value;Wb(Nh,n._currentValue);n._currentValue=W;if(null!==I)if(Ve(I.value,W)){if(I.children===D.children&&!re.current){b=ta(a,b,d);break a}}else for(I=b.child,null!==I&&(I.return=
b);null!==I;){var ka=I.dependencies;if(null!==ka){W=I.child;for(var sa=ka.firstContext;null!==sa;){if(sa.context===n){if(1===I.tag){sa=ee(-1,d&-d);sa.tag=2;var Fa=I.updateQueue;if(null!==Fa){Fa=Fa.shared;var Va=Fa.pending;null===Va?sa.next=sa:(sa.next=Va.next,Va.next=sa);Fa.pending=sa}}I.lanes|=d;sa=I.alternate;null!==sa&&(sa.lanes|=d);Oc(I.return,d,b);ka.lanes|=d;break}sa=sa.next}}else if(10===I.tag)W=I.type===b.type?null:I.child;else if(18===I.tag){W=I.return;if(null===W)throw Error(ja(341));W.lanes|=
d;ka=W.alternate;null!==ka&&(ka.lanes|=d);Oc(W,d,b);W=I.sibling}else W=I.child;if(null!==W)W.return=I;else for(W=I;null!==W;){if(W===b){W=null;break}I=W.sibling;if(null!==I){I.return=W.return;W=I;break}W=W.return}I=W}ld(a,b,D.children,d);b=b.child}return b;case 9:return D=b.type,n=b.pendingProps.children,Je(b,d),D=cd(D),n=n(D),b.flags|=1,ld(a,b,n,d),b.child;case 14:return n=b.type,D=hd(n,b.pendingProps),D=hd(n.type,D),kg(a,b,n,D,d);case 15:return lg(a,b,b.type,b.pendingProps,d);case 17:return n=b.type,
D=b.pendingProps,D=b.elementType===n?D:hd(n,D),fa(a,b),b.tag=1,Vb(n)?(a=!0,dc(b)):a=!1,Je(b,d),hg(b,n,D),wf(b,n,D,d),mg(null,b,n,!0,a,d);case 19:return Ka(a,b,d);case 22:return zf(a,b,d)}throw Error(ja(156,b.tag));};var ek="function"===typeof reportError?reportError:function(a){console.error(a)};gi.prototype.render=cj.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(ja(409));ei(a,b,null,null)};gi.prototype.unmount=cj.prototype.unmount=function(){var a=this._internalRoot;
if(null!==a){this._internalRoot=null;var b=a.containerInfo;Ae(function(){ei(null,a,null,null)});b[nf]=null}};gi.prototype.unstable_scheduleHydration=function(a){if(a){var b=yl();a={blockedOn:null,target:a,priority:b};for(var d=0;d<Gf.length&&0!==b&&b<Gf[d].priority;d++);Gf.splice(d,0,a);0===d&&Fd(a)}};var nk=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var d=Nc(b.pendingLanes);0!==d&&(Qd(b,d|1),hb(b,Wc()),0===(fc&6)&&(Fg=Wc()+500,Ha()))}break;case 13:Ae(function(){var n=
id(a,1);if(null!==n){var D=$a();Bb(n,a,1,D)}}),bj(a,1)}};var qj=function(a){if(13===a.tag){var b=id(a,134217728);if(null!==b){var d=$a();Bb(b,a,134217728,d)}bj(a,134217728)}};var lk=function(a){if(13===a.tag){var b=Nb(a),d=id(a,b);if(null!==d){var n=$a();Bb(d,a,b,n)}bj(a,b)}};var yl=function(){return oc};var kk=function(a,b){var d=oc;try{return oc=a,b()}finally{oc=d}};vi=function(a,b,d){switch(b){case "input":u(a,d);b=d.name;if("radio"===d.type&&null!=b){for(d=a;d.parentNode;)d=d.parentNode;d=d.querySelectorAll("input[name\x3d"+
JSON.stringify(""+b)+'][type\x3d"radio"]');for(b=0;b<d.length;b++){var n=d[b];if(n!==a&&n.form===a.form){var D=mc(n);if(!D)throw Error(ja(90));l(n);u(n,D)}}}break;case "textarea":B(a,d);break;case "select":b=d.value,null!=b&&c(a,!!d.multiple,b,!1)}};na=Bf;Ba=Ae;var zl={usingClientEntryPoint:!1,Events:[ic,Wd,mc,da,ma,Bf]},rh={findFiberByHostInstance:zc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Al={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,
rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tf.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=ac(a);return null===a?null:a.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||gl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,
setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!li.isDisabled&&li.supportsFiber)try{Ch=li.inject(Al),cf=li}catch(a){}}La.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zl;La.createPortal=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!dj(b))throw Error(ja(200));return fl(a,b,null,d)};La.createRoot=function(a,b){if(!dj(a))throw Error(ja(299));
var d=!1,n="",D=ek;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(d=!0),void 0!==b.identifierPrefix&&(n=b.identifierPrefix),void 0!==b.onRecoverableError&&(D=b.onRecoverableError));b=aj(a,1,!1,null,null,d,!1,n,D);a[nf]=b.current;ca(8===a.nodeType?a.parentNode:a);return new cj(b)};La.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if("function"===typeof a.render)throw Error(ja(188));a=Object.keys(a).join(",");throw Error(ja(268,
a));}a=ac(b);return a=null===a?null:a.stateNode};La.flushSync=function(a){return Ae(a)};La.hydrate=function(a,b,d){if(!hi(b))throw Error(ja(200));return ii(null,a,b,!0,d)};La.hydrateRoot=function(a,b,d){if(!dj(a))throw Error(ja(405));var n=null!=d&&d.hydratedSources||null,D=!1,I="",W=ek;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(D=!0),void 0!==d.identifierPrefix&&(I=d.identifierPrefix),void 0!==d.onRecoverableError&&(W=d.onRecoverableError));b=Wj(b,null,a,1,null!=d?d:null,D,!1,I,W);a[nf]=
b.current;ca(a);if(n)for(a=0;a<n.length;a++)d=n[a],D=d._getVersion,D=D(d._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[d,D]:b.mutableSourceEagerHydrationData.push(d,D);return new gi(b)};La.render=function(a,b,d){if(!hi(b))throw Error(ja(200));return ii(null,a,b,!1,d)};La.unmountComponentAtNode=function(a){if(!hi(a))throw Error(ja(40));return a._reactRootContainer?(Ae(function(){ii(null,null,a,!1,function(){a._reactRootContainer=null;a[nf]=null})}),!0):!1};La.unstable_batchedUpdates=
Bf;La.unstable_renderSubtreeIntoContainer=function(a,b,d,n){if(!hi(d))throw Error(ja(200));if(null==a||void 0===a._reactInternals)throw Error(ja(38));return ii(a,b,d,!1,n)};La.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[13]=function(pc,Ic,Mc,La){function ja(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ja)}catch(Ta){console.error(Ta)}}ja();Mc.exports=Ic(11)};
shadow$provide[14]=function(pc,Ic,Mc,La){pc=Ic(13);La.createRoot=pc.createRoot;La.hydrateRoot=pc.hydrateRoot};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var e,ba=this||self;function p(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ca(a){return Object.prototype.hasOwnProperty.call(a,da)&&a[da]||(a[da]=++ea)}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b,c){return a.call.apply(a.bind,arguments)}
function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function ia(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha;return ia.apply(null,arguments)}
function ja(a,b){function c(){}c.prototype=b.prototype;a.Vc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,f,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[f].apply(d,h)}};function ka(a,b){for(const c in a)b.call(void 0,a[c],c,a)}function la(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ma(a,b,c){return null!==a&&b in a?a[b]:c}function na(a){const b={};for(const c in a)b[c]=a[c];return b};function oa(a,b){a.sort(b||pa)}function ra(a,b){const c=Array(a.length);for(let f=0;f<a.length;f++)c[f]={index:f,value:a[f]};const d=b||pa;oa(c,function(f,g){return d(f.value,g.value)||f.index-g.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function pa(a,b){return a>b?1:a<b?-1:0};function sa(a,b){null!=a&&this.append.apply(this,arguments)}e=sa.prototype;e.Pa="";e.set=function(a){this.Pa=""+a};e.append=function(a,b,c){this.Pa+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Pa+=arguments[d];return this};e.clear=function(){this.Pa=""};e.toString=function(){return this.Pa};var t={},ta=null;function v(a){return null!=a&&!1!==a}function ua(a){return a instanceof Array}function va(a){return null==a?!0:!1===a?!0:!1}function w(a,b){return a[p(null==b?null:b)]?!0:a._?!0:!1}function x(a,b){var c=null==b?null:b.constructor;return Error(["No protocol method ",a," defined for type ",v(v(c)?c.oc:c)?c.Gb:p(b),": ",b].join(""))}function wa(a){var b=a.Gb;return v(b)?b:y.h(a)}var ya="undefined"!==typeof Symbol&&"function"===p(Symbol)?Symbol.iterator:"@@iterator";
function B(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function za(){}function Aa(){}function Ba(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=Ba[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Ba._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("ICounted.-count",a);}return a}function Ca(){}
function Da(a){if(null!=a&&null!=a.ea)a=a.ea(a);else{var b=Da[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Da._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IEmptyableCollection.-empty",a);}return a}function Ea(){}function Fa(a,b){if(null!=a&&null!=a.ca)a=a.ca(a,b);else{var c=Fa[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=Fa._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("ICollection.-conj",a);}return a}function Ga(){}
var Ha=function(){function a(d,f,g){var h=C[p(null==d?null:d)];if(null!=h)return h.l?h.l(d,f,g):h.call(null,d,f,g);h=C._;if(null!=h)return h.l?h.l(d,f,g):h.call(null,d,f,g);throw x("IIndexed.-nth",d);}function b(d,f){var g=C[p(null==d?null:d)];if(null!=g)return g.i?g.i(d,f):g.call(null,d,f);g=C._;if(null!=g)return g.i?g.i(d,f):g.call(null,d,f);throw x("IIndexed.-nth",d);}var c=null;c=function(d,f,g){switch(arguments.length){case 2:return b.call(this,d,f);case 3:return a.call(this,d,f,g)}throw Error("Invalid arity: "+
arguments.length);};c.i=b;c.l=a;return c}(),C=function C(a){switch(arguments.length){case 2:return C.i(arguments[0],arguments[1]);case 3:return C.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};C.i=function(a,b){return null!=a&&null!=a.Z?a.Z(a,b):Ha(a,b)};C.l=function(a,b,c){return null!=a&&null!=a.na?a.na(a,b,c):Ha(a,b,c)};C.Y=3;
function D(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=D[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=D._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("ISeq.-first",a);}return a}function Ia(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=Ia[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Ia._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("ISeq.-rest",a);}return a}function Ja(){}function Ka(){}
var Ma=function(){function a(d,f,g){var h=La[p(null==d?null:d)];if(null!=h)return h.l?h.l(d,f,g):h.call(null,d,f,g);h=La._;if(null!=h)return h.l?h.l(d,f,g):h.call(null,d,f,g);throw x("ILookup.-lookup",d);}function b(d,f){var g=La[p(null==d?null:d)];if(null!=g)return g.i?g.i(d,f):g.call(null,d,f);g=La._;if(null!=g)return g.i?g.i(d,f):g.call(null,d,f);throw x("ILookup.-lookup",d);}var c=null;c=function(d,f,g){switch(arguments.length){case 2:return b.call(this,d,f);case 3:return a.call(this,d,f,g)}throw Error("Invalid arity: "+
arguments.length);};c.i=b;c.l=a;return c}(),La=function La(a){switch(arguments.length){case 2:return La.i(arguments[0],arguments[1]);case 3:return La.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};La.i=function(a,b){return null!=a&&null!=a.ka?a.ka(a,b):Ma(a,b)};La.l=function(a,b,c){return null!=a&&null!=a.P?a.P(a,b,c):Ma(a,b,c)};La.Y=3;function Na(){}
function Oa(a,b){if(null!=a&&null!=a.Ka)a=a.Ka(a,b);else{var c=Oa[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=Oa._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IAssociative.-contains-key?",a);}return a}function Pa(a,b,c){if(null!=a&&null!=a.ya)a=a.ya(a,b,c);else{var d=Pa[p(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=Pa._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw x("IAssociative.-assoc",a);}return a}
function Qa(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qa[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IFind.-find",a);}return a}function Ra(){}function Sa(a){if(null!=a&&null!=a.ic)a=a.key;else{var b=Sa[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Sa._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IMapEntry.-key",a);}return a}
function Ta(a){if(null!=a&&null!=a.jc)a=a.da;else{var b=Ta[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Ta._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IMapEntry.-val",a);}return a}function Ua(){}function Va(){}function Wa(a,b,c){if(null!=a&&null!=a.kb)a=a.kb(a,b,c);else{var d=Wa[p(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=Wa._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw x("IVector.-assoc-n",a);}return a}
function E(a){if(null!=a&&null!=a.Ra)a=a.Ra(a);else{var b=E[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=E._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IDeref.-deref",a);}return a}function Xa(){}function Ya(a){if(null!=a&&null!=a.aa)a=a.aa(a);else{var b=Ya[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IMeta.-meta",a);}return a}
function Za(a,b){if(null!=a&&null!=a.ba)a=a.ba(a,b);else{var c=Za[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=Za._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IWithMeta.-with-meta",a);}return a}function $a(){}
var bb=function(){function a(d,f,g){var h=ab[p(null==d?null:d)];if(null!=h)return h.l?h.l(d,f,g):h.call(null,d,f,g);h=ab._;if(null!=h)return h.l?h.l(d,f,g):h.call(null,d,f,g);throw x("IReduce.-reduce",d);}function b(d,f){var g=ab[p(null==d?null:d)];if(null!=g)return g.i?g.i(d,f):g.call(null,d,f);g=ab._;if(null!=g)return g.i?g.i(d,f):g.call(null,d,f);throw x("IReduce.-reduce",d);}var c=null;c=function(d,f,g){switch(arguments.length){case 2:return b.call(this,d,f);case 3:return a.call(this,d,f,g)}throw Error("Invalid arity: "+
arguments.length);};c.i=b;c.l=a;return c}(),ab=function ab(a){switch(arguments.length){case 2:return ab.i(arguments[0],arguments[1]);case 3:return ab.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};ab.i=function(a,b){return null!=a&&null!=a.ha?a.ha(a,b):bb(a,b)};ab.l=function(a,b,c){return null!=a&&null!=a.ia?a.ia(a,b,c):bb(a,b,c)};ab.Y=3;function cb(){}
function db(a,b){if(null!=a&&null!=a.ib)a=a.ib(a,b,!0);else{var c=db[p(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b,!0):c.call(null,a,b,!0);else if(c=db._,null!=c)a=c.l?c.l(a,b,!0):c.call(null,a,b,!0);else throw x("IKVReduce.-kv-reduce",a);}return a}function eb(a,b){if(null!=a&&null!=a.I)a=a.I(a,b);else{var c=eb[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IEquiv.-equiv",a);}return a}
function fb(a){if(null!=a&&null!=a.$)a=a.$(a);else{var b=fb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=fb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IHash.-hash",a);}return a}function gb(){}function hb(a){if(null!=a&&null!=a.X)a=a.X(a);else{var b=hb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=hb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("ISeqable.-seq",a);}return a}function ib(){}function jb(){}function kb(){}function lb(){}
function mb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=mb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=mb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IReversible.-rseq",a);}return a}function G(a,b){if(null!=a&&null!=a.Sb)a=a.Sb(a,b);else{var c=G[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IWriter.-write",a);}return a}function nb(){}
function ob(a,b,c){if(null!=a&&null!=a.W)a=a.W(a,b,c);else{var d=ob[p(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=ob._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw x("IPrintWithWriter.-pr-writer",a);}return a}function pb(a){if(null!=a&&null!=a.La)a=a.La(a);else{var b=pb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=pb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IEditableCollection.-as-transient",a);}return a}
function qb(a,b){if(null!=a&&null!=a.Ia)a=a.Ia(a,b);else{var c=qb[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=qb._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("ITransientCollection.-conj!",a);}return a}function rb(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=rb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=rb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("ITransientCollection.-persistent!",a);}return a}
function sb(a,b,c){if(null!=a&&null!=a.Ga)a=a.Ga(a,b,c);else{var d=sb[p(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=sb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw x("ITransientAssociative.-assoc!",a);}return a}
function tb(a,b,c){if(null!=a&&null!=a.vb)a=a.vb(a,b,c);else{var d=tb[p(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=tb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw x("ITransientVector.-assoc-n!",a);}return a}function ub(){}function vb(a,b){if(null!=a&&null!=a.Qa)a=a.Qa(a,b);else{var c=vb[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IComparable.-compare",a);}return a}
function wb(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=wb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=wb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IChunk.-drop-first",a);}return a}function xb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=xb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=xb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IChunkedSeq.-chunked-first",a);}return a}
function yb(a){if(null!=a&&null!=a.Bb)a=a.Bb(a);else{var b=yb[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=yb._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IChunkedSeq.-chunked-rest",a);}return a}function zb(a,b){if(null!=a&&null!=a.Mb)a=a.Mb(a,b);else{var c=zb[p(null==a?null:a)];if(null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else if(c=zb._,null!=c)a=c.i?c.i(a,b):c.call(null,a,b);else throw x("IReset.-reset!",a);}return a}
var Bb=function(){function a(g,h,k,l,m){var n=Ab[p(null==g?null:g)];if(null!=n)return n.sa?n.sa(g,h,k,l,m):n.call(null,g,h,k,l,m);n=Ab._;if(null!=n)return n.sa?n.sa(g,h,k,l,m):n.call(null,g,h,k,l,m);throw x("ISwap.-swap!",g);}function b(g,h,k,l){var m=Ab[p(null==g?null:g)];if(null!=m)return m.N?m.N(g,h,k,l):m.call(null,g,h,k,l);m=Ab._;if(null!=m)return m.N?m.N(g,h,k,l):m.call(null,g,h,k,l);throw x("ISwap.-swap!",g);}function c(g,h,k){var l=Ab[p(null==g?null:g)];if(null!=l)return l.l?l.l(g,h,k):l.call(null,
g,h,k);l=Ab._;if(null!=l)return l.l?l.l(g,h,k):l.call(null,g,h,k);throw x("ISwap.-swap!",g);}function d(g,h){var k=Ab[p(null==g?null:g)];if(null!=k)return k.i?k.i(g,h):k.call(null,g,h);k=Ab._;if(null!=k)return k.i?k.i(g,h):k.call(null,g,h);throw x("ISwap.-swap!",g);}var f=null;f=function(g,h,k,l,m){switch(arguments.length){case 2:return d.call(this,g,h);case 3:return c.call(this,g,h,k);case 4:return b.call(this,g,h,k,l);case 5:return a.call(this,g,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};f.i=d;f.l=c;f.N=b;f.sa=a;return f}(),Ab=function Ab(a){switch(arguments.length){case 2:return Ab.i(arguments[0],arguments[1]);case 3:return Ab.l(arguments[0],arguments[1],arguments[2]);case 4:return Ab.N(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ab.sa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};Ab.i=function(a,b){return null!=a&&null!=a.Ob?a.Ob(a,b):Bb(a,b)};
Ab.l=function(a,b,c){return null!=a&&null!=a.Pb?a.Pb(a,b,c):Bb(a,b,c)};Ab.N=function(a,b,c,d){return null!=a&&null!=a.Qb?a.Qb(a,b,c,d):Bb(a,b,c,d)};Ab.sa=function(a,b,c,d,f){return null!=a&&null!=a.Rb?a.Rb(a,b,c,d,f):Bb(a,b,c,d,f)};Ab.Y=5;function Cb(){}function Db(a){if(null!=a&&null!=a.ta)a=a.ta(a);else{var b=Db[p(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=Db._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw x("IIterable.-iterator",a);}return a}
function Eb(a){this.xc=a;this.B=1073741824;this.K=0}Eb.prototype.Sb=function(a,b){return this.xc.append(b)};function Fb(a){var b=new sa;a.W(null,new Eb(b),new Gb(null,5,[Hb,!0,Ib,!0,Jb,!1,Kb,!1,Lb,null],null));return y.h(b)}var Mb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Nb(a){a=Mb(a|0,-862048943);return Mb(a<<15|a>>>-15,461845907)}
function Ob(a,b){a=(a|0)^(b|0);return Mb(a<<13|a>>>-13,5)+-430675100|0}function Pb(a,b){a=(a|0)^b;a=Mb(a^a>>>16,-2048144789);a=Mb(a^a>>>13,-1028477387);return a^a>>>16}function Qb(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Ob(c,Nb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Pb(1===(a.length&1)?b^Nb(a.charCodeAt(a.length-1)):b,Mb(2,a.length))}var Rb={},Sb=0;
function Tb(a){255<Sb&&(Rb={},Sb=0);if(null==a)return 0;var b=Rb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Mb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Rb[a]=b;Sb+=1;a=b}return a}
function Ub(a){if(null!=a&&(a.B&4194304||t===a.Gc))return a.$(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Tb(a),a=0===a?a:Pb(Ob(0,Nb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:fb(a)^0,a}function Vb(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Wb(a,b){if(a.Ha===b.Ha)return 0;var c=va(a.ra);if(v(c?b.ra:c))return-1;if(v(a.ra)){if(va(b.ra))return 1;c=pa(a.ra,b.ra);return 0===c?pa(a.name,b.name):c}return pa(a.name,b.name)}function H(a,b,c,d,f){this.ra=a;this.name=b;this.Ha=c;this.ob=d;this.Ea=f;this.B=2154168321;this.K=4096}e=H.prototype;e.toString=function(){return this.Ha};e.equiv=function(a){return this.I(null,a)};e.I=function(a,b){return b instanceof H?this.Ha===b.Ha:!1};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return I.i?I.i(a,this):I.call(null,a,this)};e.i=function(a,b){return I.l?I.l(a,this,b):I.call(null,a,this,b)};e.aa=function(){return this.Ea};
e.ba=function(a,b){return new H(this.ra,this.name,this.Ha,this.ob,b)};e.$=function(){var a=this.ob;return null!=a?a:this.ob=a=Vb(Qb(this.name),Tb(this.ra))};e.W=function(a,b){return G(b,this.Ha)};var Xb=function Xb(a){switch(arguments.length){case 1:return Xb.h(arguments[0]);case 2:return Xb.i(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};
Xb.h=function(a){for(;;){if(a instanceof H)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Xb.i(null,a):Xb.i(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof J)a=a.va;else throw Error("no conversion to symbol");}};Xb.i=function(a,b){var c=null!=a?[y.h(a),"/",y.h(b)].join(""):b;return new H(a,b,c,null,null)};Xb.Y=2;function Yb(a){return null!=a?a.K&131072||t===a.Hc?!0:a.K?!1:w(Cb,a):w(Cb,a)}
function K(a){if(null==a)return null;if(null!=a&&(a.B&8388608||t===a.nc))return a.X(null);if(ua(a)||"string"===typeof a)return 0===a.length?null:new N(a,0,null);if(null!=a&&null!=a[ya])return a=ma(a,ya).call(a),Zb.h?Zb.h(a):Zb.call(null,a);if(w(gb,a))return hb(a);throw Error([y.h(a)," is not ISeqable"].join(""));}function O(a){if(null==a)return null;if(null!=a&&(a.B&64||t===a.ub))return a.ma(null);a=K(a);return null==a?null:D(a)}
function $b(a){return null!=a?null!=a&&(a.B&64||t===a.ub)?a.oa(null):(a=K(a))?a.oa(null):P:P}function R(a){return null==a?null:null!=a&&(a.B&128||t===a.rb)?a.la():K($b(a))}var S=function S(a){switch(arguments.length){case 1:return S.h(arguments[0]);case 2:return S.i(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return S.M(arguments[0],arguments[1],new N(c.slice(2),0,null))}};S.h=function(){return!0};
S.i=function(a,b){return null==a?null==b:a===b||eb(a,b)};S.M=function(a,b,c){for(;;)if(S.i(a,b))if(R(c))a=b,b=O(c),c=R(c);else return S.i(b,O(c));else return!1};S.U=function(a){var b=O(a),c=R(a);a=O(c);c=R(c);return this.M(b,a,c)};S.Y=2;function ac(a){this.s=a}ac.prototype.next=function(){if(null!=this.s){var a=O(this.s);this.s=R(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function T(a){return new ac(K(a))}
function bc(a,b){this.value=a;this.pb=b;this.Db=null;this.B=8388672;this.K=0}bc.prototype.X=function(){return this};bc.prototype.ma=function(){return this.value};bc.prototype.oa=function(){null==this.Db&&(this.Db=Zb.h?Zb.h(this.pb):Zb.call(null,this.pb));return this.Db};function Zb(a){var b=a.next();return v(b.done)?null:new bc(b.value,a)}function cc(a){var b=0,c=1;for(a=K(a);;)if(null!=a)b+=1,c=Mb(31,c)+Ub(O(a))|0,a=R(a);else return Pb(Ob(0,Nb(c)),b)}var dc=Pb(Ob(0,Nb(1)),0);
function ec(a){var b=0,c=0;for(a=K(a);;)if(null!=a)b+=1,c=c+Ub(O(a))|0,a=R(a);else return Pb(Ob(0,Nb(c)),b)}var fc=Pb(Ob(0,Nb(0)),0);Aa["null"]=!0;Ba["null"]=function(){return 0};Date.prototype.I=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.qb=t;Date.prototype.Qa=function(a,b){if(b instanceof Date)return pa(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",y.h(this)," to ",y.h(b)].join(""));};eb.number=function(a,b){return a===b};za["function"]=!0;
Xa["function"]=!0;Ya["function"]=function(){return null};fb._=function(a){return ca(a)};function gc(){this.da=!1;this.B=32768;this.K=0}gc.prototype.Ra=function(){return this.da};function hc(a){return a instanceof gc}function ic(a){return E(a)}function jc(a,b){var c=a.length;if(0===a.length)return b.J?b.J():b.call(null);for(var d=a[0],f=1;;)if(f<c){var g=a[f];d=b.i?b.i(d,g):b.call(null,d,g);if(hc(d))return E(d);f+=1}else return d}
function kc(a,b,c){var d=a.length,f=c;for(c=0;;)if(c<d){var g=a[c];f=b.i?b.i(f,g):b.call(null,f,g);if(hc(f))return E(f);c+=1}else return f}function lc(a,b,c,d){for(var f=a.length;;)if(d<f){var g=a[d];c=b.i?b.i(c,g):b.call(null,c,g);if(hc(c))return E(c);d+=1}else return c}function mc(a){return null!=a?a.B&2||t===a.bc?!0:a.B?!1:w(Aa,a):w(Aa,a)}function nc(a){return null!=a?a.B&16||t===a.Lb?!0:a.B?!1:w(Ga,a):w(Ga,a)}
function U(a,b,c){var d=V.h?V.h(a):V.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(S.i(oc?oc(a,c):pc.call(null,a,c),b))return c;c+=1}else return-1}function W(a,b,c){var d=V.h?V.h(a):V.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(S.i(oc?oc(a,c):pc.call(null,a,c),b))return c;--c}else return-1}function qc(a,b){this.j=a;this.A=b}qc.prototype.hasNext=function(){return this.A<this.j.length};
qc.prototype.next=function(){var a=this.j[this.A];this.A+=1;return a};function N(a,b,c){this.j=a;this.A=b;this.meta=c;this.B=166592766;this.K=139264}e=N.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V.h?V.h(this):V.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.Z=function(a,b){a=b+this.A;if(0<=a&&a<this.j.length)return this.j[a];throw Error("Index out of bounds");};e.na=function(a,b,c){a=b+this.A;return 0<=a&&a<this.j.length?this.j[a]:c};
e.ta=function(){return new qc(this.j,this.A)};e.aa=function(){return this.meta};e.la=function(){return this.A+1<this.j.length?new N(this.j,this.A+1,null):null};e.T=function(){var a=this.j.length-this.A;return 0>a?0:a};e.sb=function(){var a=this.T(null);return 0<a?new rc(this,a-1,null):null};e.$=function(){return cc(this)};e.I=function(a,b){return sc.i?sc.i(this,b):sc.call(null,this,b)};e.ea=function(){return P};e.ha=function(a,b){return lc(this.j,b,this.j[this.A],this.A+1)};
e.ia=function(a,b,c){return lc(this.j,b,c,this.A)};e.ma=function(){return this.j[this.A]};e.oa=function(){return this.A+1<this.j.length?new N(this.j,this.A+1,null):P};e.X=function(){return this.A<this.j.length?this:null};e.ba=function(a,b){return b===this.meta?this:new N(this.j,this.A,b)};e.ca=function(a,b){return X.i?X.i(b,this):X.call(null,b,this)};N.prototype[ya]=function(){return T(this)};function tc(a){return 0<a.length?new N(a,0,null):null}
function rc(a,b,c){this.Ab=a;this.A=b;this.meta=c;this.B=32374990;this.K=8192}e=rc.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V.h?V.h(this):V.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){return 0<this.A?new rc(this.Ab,this.A-1,null):null};e.T=function(){return this.A+1};e.$=function(){return cc(this)};
e.I=function(a,b){return sc.i?sc.i(this,b):sc.call(null,this,b)};e.ea=function(){return P};e.ha=function(a,b){return uc?uc(b,this):vc.call(null,b,this)};e.ia=function(a,b,c){return wc?wc(b,c,this):vc.call(null,b,c,this)};e.ma=function(){return C(this.Ab,this.A)};e.oa=function(){return 0<this.A?new rc(this.Ab,this.A-1,null):P};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new rc(this.Ab,this.A,b)};e.ca=function(a,b){return X.i?X.i(b,this):X.call(null,b,this)};
rc.prototype[ya]=function(){return T(this)};eb._=function(a,b){return a===b};var xc=function xc(a){switch(arguments.length){case 0:return xc.J();case 1:return xc.h(arguments[0]);case 2:return xc.i(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return xc.M(arguments[0],arguments[1],new N(c.slice(2),0,null))}};xc.J=function(){return yc};xc.h=function(a){return a};xc.i=function(a,b){return null!=a?Fa(a,b):new zc(null,b,null,1,null)};
xc.M=function(a,b,c){for(;;)if(v(c))a=xc.i(a,b),b=O(c),c=R(c);else return xc.i(a,b)};xc.U=function(a){var b=O(a),c=R(a);a=O(c);c=R(c);return this.M(b,a,c)};xc.Y=2;function V(a){if(null!=a)if(null!=a&&(a.B&2||t===a.bc))a=a.T(null);else if(ua(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.B&8388608||t===a.nc))a:{a=K(a);for(var b=0;;){if(mc(a)){a=b+Ba(a);break a}a=R(a);b+=1}}else a=Ba(a);else a=0;return a}
function Ac(a,b,c){for(;;){if(null==a)return c;if(0===b)return K(a)?O(a):c;if(nc(a))return C(a,b,c);if(K(a))a=R(a),--b;else return c}}function pc(a){switch(arguments.length){case 2:return oc(arguments[0],arguments[1]);case 3:return Y(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}
function oc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.B&16||t===a.Lb))return a.Z(null,b);if(ua(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.B&64||t===a.ub)||null!=a&&(a.B&16777216||t===a.Nb)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(K(a)){a=O(a);break a}throw Error("Index out of bounds");}if(nc(a)){a=C(a,b);break a}if(K(a))a=R(a),--b;else throw Error("Index out of bounds");}return a}if(w(Ga,a))return C(a,b);throw Error(["nth not supported on this type ",y.h(wa(null==a?null:a.constructor))].join(""));}
function Y(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.B&16||t===a.Lb))return a.na(null,b,c);if(ua(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.B&64||t===a.ub)||null!=a&&(a.B&16777216||t===a.Nb))return 0>b?c:Ac(a,b,c);if(w(Ga,a))return C(a,b,c);throw Error(["nth not supported on this type ",y.h(wa(null==a?null:a.constructor))].join(""));}
var I=function I(a){switch(arguments.length){case 2:return I.i(arguments[0],arguments[1]);case 3:return I.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};I.i=function(a,b){return null==a?null:null!=a&&(a.B&256||t===a.hc)?a.ka(null,b):ua(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:w(Ka,a)?La(a,b):null};
I.l=function(a,b,c){return null!=a?null!=a&&(a.B&256||t===a.hc)?a.P(null,b,c):ua(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:w(Ka,a)?La(a,b,c):c:c};I.Y=3;var Bc=function Bc(a){switch(arguments.length){case 3:return Bc.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return Bc.M(arguments[0],arguments[1],arguments[2],new N(c.slice(3),0,null))}};
Bc.l=function(a,b,c){return null!=a&&(a.B&512||t===a.ac)?a.ya(null,b,c):null!=a?Pa(a,b,c):Cc([b,c])};Bc.M=function(a,b,c,d){for(;;)if(a=Bc.l(a,b,c),v(d))b=O(d),c=O(R(d)),d=R(R(d));else return a};Bc.U=function(a){var b=O(a),c=R(a);a=O(c);var d=R(c);c=O(d);d=R(d);return this.M(b,a,c,d)};Bc.Y=3;function Dc(a,b){this.F=a;this.meta=b;this.B=393217;this.K=0}e=Dc.prototype;e.aa=function(){return this.meta};e.ba=function(a,b){return new Dc(this.F,b)};e.$b=t;
e.call=function(a){switch(arguments.length-1){case 0:return this.J();case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);case 3:return this.l(arguments[1],arguments[2],arguments[3]);case 4:return this.N(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.$a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.ab(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.cb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],f=arguments[4],g=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],q=arguments[11],r=arguments[12],u=arguments[13],z=arguments[14],A=arguments[15],
F=arguments[16],M=arguments[17],Q=arguments[18],aa=arguments[19],qa=arguments[20],xa=arguments[21];return Ec.fc?Ec.fc(this.F,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa,xa):Ec.call(null,this.F,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa,xa);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.J=function(){return this.F.J?this.F.J():this.F.call(null)};
e.h=function(a){return this.F.h?this.F.h(a):this.F.call(null,a)};e.i=function(a,b){return this.F.i?this.F.i(a,b):this.F.call(null,a,b)};e.l=function(a,b,c){return this.F.l?this.F.l(a,b,c):this.F.call(null,a,b,c)};e.N=function(a,b,c,d){return this.F.N?this.F.N(a,b,c,d):this.F.call(null,a,b,c,d)};e.sa=function(a,b,c,d,f){return this.F.sa?this.F.sa(a,b,c,d,f):this.F.call(null,a,b,c,d,f)};e.eb=function(a,b,c,d,f,g){return this.F.eb?this.F.eb(a,b,c,d,f,g):this.F.call(null,a,b,c,d,f,g)};
e.fb=function(a,b,c,d,f,g,h){return this.F.fb?this.F.fb(a,b,c,d,f,g,h):this.F.call(null,a,b,c,d,f,g,h)};e.gb=function(a,b,c,d,f,g,h,k){return this.F.gb?this.F.gb(a,b,c,d,f,g,h,k):this.F.call(null,a,b,c,d,f,g,h,k)};e.hb=function(a,b,c,d,f,g,h,k,l){return this.F.hb?this.F.hb(a,b,c,d,f,g,h,k,l):this.F.call(null,a,b,c,d,f,g,h,k,l)};e.Ta=function(a,b,c,d,f,g,h,k,l,m){return this.F.Ta?this.F.Ta(a,b,c,d,f,g,h,k,l,m):this.F.call(null,a,b,c,d,f,g,h,k,l,m)};
e.Ua=function(a,b,c,d,f,g,h,k,l,m,n){return this.F.Ua?this.F.Ua(a,b,c,d,f,g,h,k,l,m,n):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n)};e.Va=function(a,b,c,d,f,g,h,k,l,m,n,q){return this.F.Va?this.F.Va(a,b,c,d,f,g,h,k,l,m,n,q):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q)};e.Wa=function(a,b,c,d,f,g,h,k,l,m,n,q,r){return this.F.Wa?this.F.Wa(a,b,c,d,f,g,h,k,l,m,n,q,r):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r)};
e.Xa=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u){return this.F.Xa?this.F.Xa(a,b,c,d,f,g,h,k,l,m,n,q,r,u):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u)};e.Ya=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z){return this.F.Ya?this.F.Ya(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u,z)};e.Za=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A){return this.F.Za?this.F.Za(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A)};
e.$a=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F){return this.F.$a?this.F.$a(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F)};e.ab=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M){return this.F.ab?this.F.ab(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M)};
e.bb=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q){return this.F.bb?this.F.bb(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q)};e.cb=function(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa){return this.F.cb?this.F.cb(a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa):this.F.call(null,a,b,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa)};function Fc(a,b){return"function"===typeof a?new Dc(a,b):null==a?null:Za(a,b)}
function Gc(a){var b=null!=a;return(b?null!=a?a.B&131072||t===a.kc||(a.B?0:w(Xa,a)):w(Xa,a):b)?Ya(a):null}function Hc(a){return null!=a?a.B&16777216||t===a.Nb?!0:a.B?!1:w(ib,a):w(ib,a)}function Ic(a){return null==a?!1:null!=a?a.B&1024||t===a.Kc?!0:a.B?!1:w(Ra,a):w(Ra,a)}function Jc(a){return null!=a?a.B&67108864||t===a.Mc?!0:a.B?!1:w(kb,a):w(kb,a)}function Kc(a){return null!=a?a.B&16384||t===a.Rc?!0:a.B?!1:w(Va,a):w(Va,a)}function Lc(a){return null!=a?a.K&512||t===a.Dc?!0:!1:!1}
function Mc(a,b,c,d,f){for(;;){if(0===f)return c;c[d]=a[b];d+=1;--f;b+=1}}var Nc={};function Oc(a){return null==a?!1:!1===a?!1:!0}function Pc(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Qc(a,b){return null!=a&&(a.B&512||t===a.ac)?a.Ka(null,b):w(Na,a)?Oa(a,b):I.l(a,b,Nc)===Nc?!1:!0}
function Rc(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return pa(a,b);throw Error(["Cannot compare ",y.h(a)," to ",y.h(b)].join(""));}if(null!=a?a.K&2048||t===a.qb||(a.K?0:w(ub,a)):w(ub,a))return vb(a,b);if("string"!==typeof a&&!ua(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",y.h(a)," to ",y.h(b)].join(""));return pa(a,b)}
function Sc(a,b){var c=V(a),d=V(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var f=Rc(oc(a,d),oc(b,d));if(0===f&&d+1<c)d+=1;else{a=f;break a}}return a}function Tc(a){return S.i(a,Rc)?Rc:function(b,c){var d=a.i?a.i(b,c):a.call(null,b,c);return"number"===typeof d?d:v(d)?-1:v(a.i?a.i(c,b):a.call(null,c,b))?1:0}}function Uc(a,b){if(K(b)){var c=Vc.h?Vc.h(b):Vc.call(null,b);ra(c,Tc(a));return Fc(K(c),Gc(b))}return P}
function Wc(a,b){var c=Xc;return Uc(function(d,f){d=a.h?a.h(d):a.call(null,d);f=a.h?a.h(f):a.call(null,f);var g=Tc(c);return g.i?g.i(d,f):g.call(null,d,f)},b)}function vc(a){switch(arguments.length){case 2:return uc(arguments[0],arguments[1]);case 3:return wc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}function uc(a,b){var c=K(b);return c?(b=O(c),c=R(c),Yc?Yc(a,b,c):Zc.call(null,a,b,c)):a.J?a.J():a.call(null)}
function wc(a,b,c){for(c=K(c);;)if(c){var d=O(c);b=a.i?a.i(b,d):a.call(null,b,d);if(hc(b))return E(b);c=R(c)}else return b}function $c(a,b){a=Db(a);if(v(a.hasNext()))for(var c=a.next();;)if(a.hasNext()){var d=a.next();c=b.i?b.i(c,d):b.call(null,c,d);if(hc(c))return E(c)}else return c;else return b.J?b.J():b.call(null)}function ad(a,b,c){for(a=Db(a);;)if(a.hasNext()){var d=a.next();c=b.i?b.i(c,d):b.call(null,c,d);if(hc(c))return E(c)}else return c}
function Zc(a){switch(arguments.length){case 2:var b=arguments[0],c=arguments[1];return null!=c&&(c.B&524288||t===c.mc)?c.ha(null,b):ua(c)?jc(c,b):"string"===typeof c?jc(c,b):w($a,c)?ab(c,b):Yb(c)?$c(c,b):uc(b,c);case 3:return Yc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}
function Yc(a,b,c){return null!=c&&(c.B&524288||t===c.mc)?c.ia(null,a,b):ua(c)?kc(c,a,b):"string"===typeof c?kc(c,a,b):w($a,c)?ab(c,a,b):Yb(c)?ad(c,a,b):wc(a,b,c)}function bd(a,b){return null!=b?db(b,a):!0}function cd(a){return a}function dd(a,b,c,d){a=a.h?a.h(b):a.call(null,b);c=Yc(a,c,d);return a.h?a.h(c):a.call(null,c)}
var Xc=function Xc(a){switch(arguments.length){case 1:return Xc.h(arguments[0]);case 2:return Xc.i(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return Xc.M(arguments[0],arguments[1],new N(c.slice(2),0,null))}};Xc.h=function(){return!0};Xc.i=function(a,b){return a<b};Xc.M=function(a,b,c){for(;;)if(a<b)if(R(c))a=b,b=O(c),c=R(c);else return b<O(c);else return!1};
Xc.U=function(a){var b=O(a),c=R(a);a=O(c);c=R(c);return this.M(b,a,c)};Xc.Y=2;function ed(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function fd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var y=function y(a){switch(arguments.length){case 0:return y.J();case 1:return y.h(arguments[0]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return y.M(arguments[0],new N(c.slice(1),0,null))}};y.J=function(){return""};
y.h=function(a){return null==a?"":[a].join("")};y.M=function(a,b){for(a=new sa(y.h(a));;)if(v(b))a=a.append(y.h(O(b))),b=R(b);else return a.toString()};y.U=function(a){var b=O(a);a=R(a);return this.M(b,a)};y.Y=1;function sc(a,b){if(Hc(b))if(mc(a)&&mc(b)&&V(a)!==V(b))a=!1;else a:for(a=K(a),b=K(b);;){if(null==a){a=null==b;break a}if(null!=b&&S.i(O(a),O(b)))a=R(a),b=R(b);else{a=!1;break a}}else a=null;return Oc(a)}
function zc(a,b,c,d,f){this.meta=a;this.first=b;this.Ja=c;this.count=d;this.H=f;this.B=65937646;this.K=8192}e=zc.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){return 1===this.count?null:this.Ja};e.T=function(){return this.count};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};
e.ea=function(){return Za(P,this.meta)};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return this.first};e.oa=function(){return 1===this.count?P:this.Ja};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new zc(b,this.first,this.Ja,this.count,this.H)};e.ca=function(a,b){return new zc(this.meta,b,this,this.count+1,null)};zc.prototype[ya]=function(){return T(this)};function gd(a){this.meta=a;this.B=65937614;this.K=8192}e=gd.prototype;
e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){return null};e.T=function(){return 0};e.$=function(){return dc};e.I=function(a,b){return(null!=b?b.B&33554432||t===b.Jc||(b.B?0:w(jb,b)):w(jb,b))||Hc(b)?null==K(b):!1};e.ea=function(){return this};
e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return null};e.oa=function(){return P};e.X=function(){return null};e.ba=function(a,b){return b===this.meta?this:new gd(b)};e.ca=function(a,b){return new zc(this.meta,b,null,1,null)};var P=new gd(null);gd.prototype[ya]=function(){return T(this)};function hd(a){return(null!=a?a.B&134217728||t===a.Oc||(a.B?0:w(lb,a)):w(lb,a))?(a=mb(a))?a:P:Yc(xc,P,a)}
function id(a,b,c,d){this.meta=a;this.first=b;this.Ja=c;this.H=d;this.B=65929452;this.K=8192}e=id.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){return null==this.Ja?null:K(this.Ja)};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};
e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return this.first};e.oa=function(){return null==this.Ja?P:this.Ja};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new id(b,this.first,this.Ja,this.H)};e.ca=function(a,b){return new id(null,b,this,null)};id.prototype[ya]=function(){return T(this)};
function X(a,b){return null==b?new zc(null,a,null,1,null):null!=b&&(b.B&64||t===b.ub)?new id(null,a,b,null):new id(null,a,K(b),null)}function jd(a,b){if(a.va===b.va)return 0;var c=va(a.ra);if(v(c?b.ra:c))return-1;if(v(a.ra)){if(va(b.ra))return 1;c=pa(a.ra,b.ra);return 0===c?pa(a.name,b.name):c}return pa(a.name,b.name)}function J(a,b,c,d){this.ra=a;this.name=b;this.va=c;this.ob=d;this.B=2153775105;this.K=4096}e=J.prototype;e.toString=function(){return[":",y.h(this.va)].join("")};
e.equiv=function(a){return this.I(null,a)};e.I=function(a,b){return b instanceof J?this.va===b.va:!1};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return I.i(a,this)};e.i=function(a,b){return I.l(a,this,b)};
e.$=function(){var a=this.ob;return null!=a?a:this.ob=a=Vb(Qb(this.name),Tb(this.ra))+2654435769|0};e.W=function(a,b){return G(b,[":",y.h(this.va)].join(""))};function kd(a){if(null!=a&&(a.K&4096||t===a.lc))return a.ra;throw Error(["Doesn't support namespace: ",y.h(a)].join(""));}var ld=function ld(a){switch(arguments.length){case 1:return ld.h(arguments[0]);case 2:return ld.i(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};
ld.h=function(a){if(a instanceof J)return a;if(a instanceof H)return new J(kd(a),md.h?md.h(a):md.call(null,a),a.Ha,null);if(S.i("/",a))return new J(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new J(b[0],b[1],a,null):new J(null,b[0],a,null)}return null};
ld.i=function(a,b){a=a instanceof J?md.h?md.h(a):md.call(null,a):a instanceof H?md.h?md.h(a):md.call(null,a):a;b=b instanceof J?md.h?md.h(b):md.call(null,b):b instanceof H?md.h?md.h(b):md.call(null,b):b;return new J(a,b,[v(a)?[y.h(a),"/"].join(""):null,y.h(b)].join(""),null)};ld.Y=2;function nd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.H=c;this.B=32374988;this.K=1}e=nd.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
function od(a){null!=a.fn&&(a.s=a.fn.J?a.fn.J():a.fn.call(null),a.fn=null);return a.s}e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){this.X(null);return null==this.s?null:R(this.s)};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};
e.ea=function(){return Za(P,this.meta)};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){this.X(null);return null==this.s?null:O(this.s)};e.oa=function(){this.X(null);return null!=this.s?$b(this.s):P};e.X=function(){od(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof nd)a=od(a);else return this.s=a,K(this.s)};e.ba=function(a,b){var c=this;return b===this.meta?c:new nd(b,function(){return c.X(null)},this.H)};
e.ca=function(a,b){return X(b,this)};nd.prototype[ya]=function(){return T(this)};function pd(a){this.Eb=a;this.end=0;this.B=2;this.K=0}pd.prototype.add=function(a){this.Eb[this.end]=a;return this.end+=1};pd.prototype.Fa=function(){var a=new qd(this.Eb,0,this.end);this.Eb=null;return a};pd.prototype.T=function(){return this.end};function qd(a,b,c){this.j=a;this.off=b;this.end=c;this.B=524306;this.K=0}e=qd.prototype;e.T=function(){return this.end-this.off};e.Z=function(a,b){return this.j[this.off+b]};
e.na=function(a,b,c){return 0<=b&&b<this.end-this.off?this.j[this.off+b]:c};e.Jb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new qd(this.j,this.off+1,this.end)};e.ha=function(a,b){return lc(this.j,b,this.j[this.off],this.off+1)};e.ia=function(a,b,c){return lc(this.j,b,c,this.off)};function rd(a,b,c,d){this.Fa=a;this.Ba=b;this.meta=c;this.H=d;this.B=31850732;this.K=1536}e=rd.prototype;e.toString=function(){return Fb(this)};
e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){return 1<Ba(this.Fa)?new rd(wb(this.Fa),this.Ba,null,null):null==this.Ba?null:hb(this.Ba)};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};
e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};e.ma=function(){return C(this.Fa,0)};e.oa=function(){return 1<Ba(this.Fa)?new rd(wb(this.Fa),this.Ba,null,null):null==this.Ba?P:this.Ba};e.X=function(){return this};e.Fb=function(){return this.Fa};e.Bb=function(){return null==this.Ba?P:this.Ba};e.ba=function(a,b){return b===this.meta?this:new rd(this.Fa,this.Ba,b,this.H)};e.ca=function(a,b){return X(b,this)};e.Kb=function(){return null==this.Ba?null:this.Ba};rd.prototype[ya]=function(){return T(this)};
function sd(a,b){return 0===Ba(a)?b:new rd(a,b,null,null)}function td(a,b){a.add(b)}function Vc(a){var b=[];for(a=K(a);;)if(null!=a)b.push(O(a)),a=R(a);else return b}function ud(a,b){if(mc(b))return V(b);var c=0;for(b=K(b);;)if(null!=b&&c<a)c+=1,b=R(b);else return c}var vd=function vd(a){if(null==a)return null;var c=R(a);return null==c?K(O(a)):X(O(a),vd.h?vd.h(c):vd.call(null,c))};
function wd(a,b,c){var d=K(c);if(0===b)return a.J?a.J():a.call(null);c=D(d);var f=Ia(d);if(1===b)return a.h?a.h(c):a.call(null,c);d=D(f);var g=Ia(f);if(2===b)return a.i?a.i(c,d):a.call(null,c,d);f=D(g);var h=Ia(g);if(3===b)return a.l?a.l(c,d,f):a.call(null,c,d,f);g=D(h);var k=Ia(h);if(4===b)return a.N?a.N(c,d,f,g):a.call(null,c,d,f,g);h=D(k);var l=Ia(k);if(5===b)return a.sa?a.sa(c,d,f,g,h):a.call(null,c,d,f,g,h);k=D(l);var m=Ia(l);if(6===b)return a.eb?a.eb(c,d,f,g,h,k):a.call(null,c,d,f,g,h,k);l=
D(m);var n=Ia(m);if(7===b)return a.fb?a.fb(c,d,f,g,h,k,l):a.call(null,c,d,f,g,h,k,l);m=D(n);var q=Ia(n);if(8===b)return a.gb?a.gb(c,d,f,g,h,k,l,m):a.call(null,c,d,f,g,h,k,l,m);n=D(q);var r=Ia(q);if(9===b)return a.hb?a.hb(c,d,f,g,h,k,l,m,n):a.call(null,c,d,f,g,h,k,l,m,n);q=D(r);var u=Ia(r);if(10===b)return a.Ta?a.Ta(c,d,f,g,h,k,l,m,n,q):a.call(null,c,d,f,g,h,k,l,m,n,q);r=D(u);var z=Ia(u);if(11===b)return a.Ua?a.Ua(c,d,f,g,h,k,l,m,n,q,r):a.call(null,c,d,f,g,h,k,l,m,n,q,r);u=D(z);var A=Ia(z);if(12===
b)return a.Va?a.Va(c,d,f,g,h,k,l,m,n,q,r,u):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u);z=D(A);var F=Ia(A);if(13===b)return a.Wa?a.Wa(c,d,f,g,h,k,l,m,n,q,r,u,z):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z);A=D(F);var M=Ia(F);if(14===b)return a.Xa?a.Xa(c,d,f,g,h,k,l,m,n,q,r,u,z,A):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A);F=D(M);var Q=Ia(M);if(15===b)return a.Ya?a.Ya(c,d,f,g,h,k,l,m,n,q,r,u,z,A,F):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F);M=D(Q);var aa=Ia(Q);if(16===b)return a.Za?a.Za(c,d,f,g,h,k,l,m,n,q,r,u,z,
A,F,M):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M);Q=D(aa);var qa=Ia(aa);if(17===b)return a.$a?a.$a(c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q);aa=D(qa);var xa=Ia(qa);if(18===b)return a.ab?a.ab(c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa);qa=D(xa);xa=Ia(xa);if(19===b)return a.bb?a.bb(c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa);var tf=D(xa);Ia(xa);if(20===b)return a.cb?
a.cb(c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa,tf):a.call(null,c,d,f,g,h,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa,tf);throw Error("Only up to 20 arguments supported on functions");}function xd(a){return null!=a&&(a.B&128||t===a.rb)?a.la():K($b(a))}function yd(a,b,c){return null==c?a.h?a.h(b):a.call(a,b):zd(a,b,D(c),xd(c))}function zd(a,b,c,d){return null==d?a.i?a.i(b,c):a.call(a,b,c):Ad(a,b,c,D(d),xd(d))}function Ad(a,b,c,d,f){return null==f?a.l?a.l(b,c,d):a.call(a,b,c,d):Bd(a,b,c,d,D(f),xd(f))}
function Bd(a,b,c,d,f,g){if(null==g)return a.N?a.N(b,c,d,f):a.call(a,b,c,d,f);var h=D(g),k=R(g);if(null==k)return a.sa?a.sa(b,c,d,f,h):a.call(a,b,c,d,f,h);g=D(k);var l=R(k);if(null==l)return a.eb?a.eb(b,c,d,f,h,g):a.call(a,b,c,d,f,h,g);k=D(l);var m=R(l);if(null==m)return a.fb?a.fb(b,c,d,f,h,g,k):a.call(a,b,c,d,f,h,g,k);l=D(m);var n=R(m);if(null==n)return a.gb?a.gb(b,c,d,f,h,g,k,l):a.call(a,b,c,d,f,h,g,k,l);m=D(n);var q=R(n);if(null==q)return a.hb?a.hb(b,c,d,f,h,g,k,l,m):a.call(a,b,c,d,f,h,g,k,l,m);
n=D(q);var r=R(q);if(null==r)return a.Ta?a.Ta(b,c,d,f,h,g,k,l,m,n):a.call(a,b,c,d,f,h,g,k,l,m,n);q=D(r);var u=R(r);if(null==u)return a.Ua?a.Ua(b,c,d,f,h,g,k,l,m,n,q):a.call(a,b,c,d,f,h,g,k,l,m,n,q);r=D(u);var z=R(u);if(null==z)return a.Va?a.Va(b,c,d,f,h,g,k,l,m,n,q,r):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r);u=D(z);var A=R(z);if(null==A)return a.Wa?a.Wa(b,c,d,f,h,g,k,l,m,n,q,r,u):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r,u);z=D(A);var F=R(A);if(null==F)return a.Xa?a.Xa(b,c,d,f,h,g,k,l,m,n,q,r,u,z):a.call(a,b,c,d,
f,h,g,k,l,m,n,q,r,u,z);A=D(F);var M=R(F);if(null==M)return a.Ya?a.Ya(b,c,d,f,h,g,k,l,m,n,q,r,u,z,A):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r,u,z,A);F=D(M);var Q=R(M);if(null==Q)return a.Za?a.Za(b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F);M=D(Q);var aa=R(Q);if(null==aa)return a.$a?a.$a(b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M);Q=D(aa);var qa=R(aa);if(null==qa)return a.ab?a.ab(b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M,Q):a.call(a,b,c,d,f,h,g,k,l,m,
n,q,r,u,z,A,F,M,Q);aa=D(qa);var xa=R(qa);if(null==xa)return a.bb?a.bb(b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M,Q,aa):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M,Q,aa);qa=D(xa);xa=R(xa);if(null==xa)return a.cb?a.cb(b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa):a.call(a,b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa);b=[b,c,d,f,h,g,k,l,m,n,q,r,u,z,A,F,M,Q,aa,qa];for(c=xa;;)if(c)b.push(D(c)),c=R(c);else break;return a.apply(a,b)}
function Ec(a){switch(arguments.length){case 2:return Cd(arguments[0],arguments[1]);case 3:return Dd(arguments[0],arguments[1],arguments[2]);case 4:return Ed(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];var f=arguments[2],g=arguments[3],h=arguments[4];b=new N(b.slice(5),0,null);c.U?(b=vd(b),
d=X(d,X(f,X(g,X(h,b)))),f=c.Y,b=4+ud(f-3,b),c=b<=f?wd(c,b,d):c.U(d)):c=Bd(c,d,f,g,h,vd(b));return c}}function Cd(a,b){if(a.U){var c=a.Y,d=ud(c+1,b);return d<=c?wd(a,d,b):a.U(b)}b=K(b);return null==b?a.J?a.J():a.call(a):yd(a,D(b),xd(b))}function Dd(a,b,c){if(a.U){b=X(b,c);var d=a.Y;c=ud(d,c)+1;return c<=d?wd(a,c,b):a.U(b)}return yd(a,b,K(c))}function Ed(a,b,c,d){return a.U?(b=X(b,X(c,d)),c=a.Y,d=2+ud(c-1,d),d<=c?wd(a,d,b):a.U(b)):zd(a,b,c,K(d))}
function Fd(a,b,c,d,f){return a.U?(b=X(b,X(c,X(d,f))),c=a.Y,f=3+ud(c-2,f),f<=c?wd(a,f,b):a.U(b)):Ad(a,b,c,d,K(f))}function Gd(a){return null!=a&&(a.B&64||t===a.ub)?R(a)?Cc(Vc(a)):K(a)?O(a):Hd:a}function Id(a){this.vc=a;this.B=393216;this.K=0}e=Id.prototype;e.ba=function(a,b){return new Id(b)};e.aa=function(){return this.vc};e.hasNext=function(){return!1};e.next=function(){return Error("No such element")};e.remove=function(){return Error("Unsupported operation")};
function Jd(a,b){for(;;){if(null==K(b))return!0;var c=O(b);c=a.h?a.h(c):a.call(null,c);if(v(c))b=R(b);else return!1}}
function Kd(a){return function(){function b(h,k){return va(a.i?a.i(h,k):a.call(null,h,k))}function c(h){return va(a.h?a.h(h):a.call(null,h))}function d(){return va(a.J?a.J():a.call(null))}var f=null,g=function(){function h(l,m,n){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new N(r,0,null)}return k.call(this,l,m,q)}function k(l,m,n){return va(Ed(a,l,m,n))}h.Y=2;h.U=function(l){var m=O(l);l=R(l);var n=O(l);l=$b(l);return k(m,n,l)};
h.M=k;return h}();f=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new N(n,0,null)}return g.M(h,k,m)}throw Error("Invalid arity: "+arguments.length);};f.Y=2;f.U=g.U;f.J=d;f.h=c;f.i=b;f.M=g.M;return f}()}
var Ld=function Ld(a){switch(arguments.length){case 0:return Ld.J();case 1:return Ld.h(arguments[0]);case 2:return Ld.i(arguments[0],arguments[1]);case 3:return Ld.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return Ld.M(arguments[0],arguments[1],arguments[2],new N(c.slice(3),0,null))}};Ld.J=function(){return cd};Ld.h=function(a){return a};
Ld.i=function(a,b){return function(){function c(l,m,n){l=b.l?b.l(l,m,n):b.call(null,l,m,n);return a.h?a.h(l):a.call(null,l)}function d(l,m){l=b.i?b.i(l,m):b.call(null,l,m);return a.h?a.h(l):a.call(null,l)}function f(l){l=b.h?b.h(l):b.call(null,l);return a.h?a.h(l):a.call(null,l)}function g(){var l=b.J?b.J():b.call(null);return a.h?a.h(l):a.call(null,l)}var h=null,k=function(){function l(n,q,r,u){var z=null;if(3<arguments.length){z=0;for(var A=Array(arguments.length-3);z<A.length;)A[z]=arguments[z+
3],++z;z=new N(A,0,null)}return m.call(this,n,q,r,z)}function m(n,q,r,u){n=Fd(b,n,q,r,u);return a.h?a.h(n):a.call(null,n)}l.Y=3;l.U=function(n){var q=O(n);n=R(n);var r=O(n);n=R(n);var u=O(n);n=$b(n);return m(q,r,u,n)};l.M=m;return l}();h=function(l,m,n,q){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+
3],++r;r=new N(u,0,null)}return k.M(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.U=k.U;h.J=g;h.h=f;h.i=d;h.l=c;h.M=k.M;return h}()};
Ld.l=function(a,b,c){return function(){function d(m,n,q){m=c.l?c.l(m,n,q):c.call(null,m,n,q);m=b.h?b.h(m):b.call(null,m);return a.h?a.h(m):a.call(null,m)}function f(m,n){m=c.i?c.i(m,n):c.call(null,m,n);m=b.h?b.h(m):b.call(null,m);return a.h?a.h(m):a.call(null,m)}function g(m){m=c.h?c.h(m):c.call(null,m);m=b.h?b.h(m):b.call(null,m);return a.h?a.h(m):a.call(null,m)}function h(){var m=c.J?c.J():c.call(null);m=b.h?b.h(m):b.call(null,m);return a.h?a.h(m):a.call(null,m)}var k=null,l=function(){function m(q,
r,u,z){var A=null;if(3<arguments.length){A=0;for(var F=Array(arguments.length-3);A<F.length;)F[A]=arguments[A+3],++A;A=new N(F,0,null)}return n.call(this,q,r,u,A)}function n(q,r,u,z){q=Fd(c,q,r,u,z);q=b.h?b.h(q):b.call(null,q);return a.h?a.h(q):a.call(null,q)}m.Y=3;m.U=function(q){var r=O(q);q=R(q);var u=O(q);q=R(q);var z=O(q);q=$b(q);return n(r,u,z,q)};m.M=n;return m}();k=function(m,n,q,r){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,m);case 2:return f.call(this,
m,n);case 3:return d.call(this,m,n,q);default:var u=null;if(3<arguments.length){u=0;for(var z=Array(arguments.length-3);u<z.length;)z[u]=arguments[u+3],++u;u=new N(z,0,null)}return l.M(m,n,q,u)}throw Error("Invalid arity: "+arguments.length);};k.Y=3;k.U=l.U;k.J=h;k.h=g;k.i=f;k.l=d;k.M=l.M;return k}()};
Ld.M=function(a,b,c,d){var f=hd(X(a,X(b,X(c,d))));return function(){function g(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new N(m,0,null)}return h.call(this,l)}function h(k){k=Cd(O(f),k);for(var l=R(f);;)if(l){var m=O(l);k=m.h?m.h(k):m.call(null,k);l=R(l)}else return k}g.Y=0;g.U=function(k){k=K(k);return h(k)};g.M=h;return g}()};Ld.U=function(a){var b=O(a),c=R(a);a=O(c);var d=R(c);c=O(d);d=R(d);return this.M(b,a,c,d)};Ld.Y=3;
function Md(a){this.state=a;this.Yb=this.Cc=this.meta=null;this.K=16386;this.B=6455296}e=Md.prototype;e.equiv=function(a){return this.I(null,a)};e.I=function(a,b){return this===b};e.Ra=function(){return this.state};e.aa=function(){return this.meta};e.$=function(){return ca(this)};
function Nd(a,b){if(a instanceof Md){var c=a.Cc;if(null!=c&&!v(c.h?c.h(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Yb)a:for(var d=K(a.Yb),f=null,g=0,h=0;;)if(h<g){var k=f.Z(null,h),l=Y(k,0,null);k=Y(k,1,null);k.N?k.N(l,a,c,b):k.call(null,l,a,c,b);h+=1}else if(d=K(d))Lc(d)?(f=xb(d),d=yb(d),l=f,g=V(f),f=l):(f=O(d),l=Y(f,0,null),k=Y(f,1,null),k.N?k.N(l,a,c,b):k.call(null,l,a,c,b),d=R(d),f=null,g=0),h=0;else break a;return b}return zb(a,b)}
var Od=function Od(a){switch(arguments.length){case 2:return Od.i(arguments[0],arguments[1]);case 3:return Od.l(arguments[0],arguments[1],arguments[2]);case 4:return Od.N(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return Od.M(arguments[0],arguments[1],arguments[2],arguments[3],new N(c.slice(4),0,null))}};
Od.i=function(a,b){if(a instanceof Md){var c=a.state;b=b.h?b.h(c):b.call(null,c);a=Nd(a,b)}else a=Ab(a,b);return a};Od.l=function(a,b,c){if(a instanceof Md){var d=a.state;b=b.i?b.i(d,c):b.call(null,d,c);a=Nd(a,b)}else a=Ab(a,b,c);return a};Od.N=function(a,b,c,d){if(a instanceof Md){var f=a.state;b=b.l?b.l(f,c,d):b.call(null,f,c,d);a=Nd(a,b)}else a=Ab(a,b,c,d);return a};Od.M=function(a,b,c,d,f){return a instanceof Md?Nd(a,Fd(b,a.state,c,d,f)):Ab(a,b,c,d,f)};
Od.U=function(a){var b=O(a),c=R(a);a=O(c);var d=R(c);c=O(d);var f=R(d);d=O(f);f=R(f);return this.M(b,a,c,d,f)};Od.Y=4;function Pd(a){this.state=a;this.B=32768;this.K=0}Pd.prototype.Ra=function(){return this.state};
var Qd=function Qd(a){switch(arguments.length){case 1:return Qd.h(arguments[0]);case 2:return Qd.i(arguments[0],arguments[1]);case 3:return Qd.l(arguments[0],arguments[1],arguments[2]);case 4:return Qd.N(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return Qd.M(arguments[0],arguments[1],arguments[2],arguments[3],new N(c.slice(4),0,null))}};
Qd.h=function(a){return function(b){return function(){function c(k,l){l=a.h?a.h(l):a.call(null,l);return b.i?b.i(k,l):b.call(null,k,l)}function d(k){return b.h?b.h(k):b.call(null,k)}function f(){return b.J?b.J():b.call(null)}var g=null,h=function(){function k(m,n,q){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new N(u,0,null)}return l.call(this,m,n,r)}function l(m,n,q){n=Dd(a,n,q);return b.i?b.i(m,n):b.call(null,m,n)}k.Y=2;k.U=function(m){var n=
O(m);m=R(m);var q=O(m);m=$b(m);return l(n,q,m)};k.M=l;return k}();g=function(k,l,m){switch(arguments.length){case 0:return f.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new N(q,0,null)}return h.M(k,l,n)}throw Error("Invalid arity: "+arguments.length);};g.Y=2;g.U=h.U;g.J=f;g.h=d;g.i=c;g.M=h.M;return g}()}};
Qd.i=function(a,b){return new nd(null,function(){var c=K(b);if(c){if(Lc(c)){for(var d=xb(c),f=V(d),g=new pd(Array(f)),h=0;;)if(h<f)td(g,function(){var k=C(d,h);return a.h?a.h(k):a.call(null,k)}()),h+=1;else break;return sd(g.Fa(),Qd.i(a,yb(c)))}return X(function(){var k=O(c);return a.h?a.h(k):a.call(null,k)}(),Qd.i(a,$b(c)))}return null},null)};
Qd.l=function(a,b,c){return new nd(null,function(){var d=K(b),f=K(c);if(d&&f){var g=O(d);var h=O(f);g=a.i?a.i(g,h):a.call(null,g,h);d=X(g,Qd.l(a,$b(d),$b(f)))}else d=null;return d},null)};Qd.N=function(a,b,c,d){return new nd(null,function(){var f=K(b),g=K(c),h=K(d);if(f&&g&&h){var k=O(f);var l=O(g),m=O(h);k=a.l?a.l(k,l,m):a.call(null,k,l,m);f=X(k,Qd.N(a,$b(f),$b(g),$b(h)))}else f=null;return f},null)};
Qd.M=function(a,b,c,d,f){return Qd.i(function(g){return Cd(a,g)},function k(h){return new nd(null,function(){var l=Qd.i(K,h);return Jd(cd,l)?X(Qd.i(O,l),k(Qd.i($b,l))):null},null)}(xc.M(f,d,tc([c,b]))))};Qd.U=function(a){var b=O(a),c=R(a);a=O(c);var d=R(c);c=O(d);var f=R(d);d=O(f);f=R(f);return this.M(b,a,c,d,f)};Qd.Y=4;
function Rd(a,b){return new nd(null,function(){var c=K(b);if(c){if(Lc(c)){for(var d=xb(c),f=V(d),g=new pd(Array(f)),h=0;;)if(h<f){var k=C(d,h);k=a.h?a.h(k):a.call(null,k);v(k)&&(k=C(d,h),g.add(k));h+=1}else break;return sd(g.Fa(),Rd(a,yb(c)))}d=O(c);c=$b(c);return v(a.h?a.h(d):a.call(null,d))?X(d,Rd(a,c)):Rd(a,c)}return null},null)}
var Sd=function Sd(a){switch(arguments.length){case 0:return Sd.J();case 1:return Sd.h(arguments[0]);case 2:return Sd.i(arguments[0],arguments[1]);case 3:return Sd.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}};Sd.J=function(){return yc};Sd.h=function(a){return a};Sd.i=function(a,b){return null!=a?null!=a&&(a.K&4||t===a.dc)?Za(rb(Yc(qb,pb(a),b)),Gc(a)):Yc(Fa,a,b):Yc(xc,a,b)};
Sd.l=function(a,b,c){if(null!=a&&(a.K&4||t===a.dc)){var d=Gc(a);return dd(b,function(){function f(h){return Za(rb(h),d)}var g=null;g=function(h,k){switch(arguments.length){case 1:return f.call(this,h);case 2:return qb(h,k)}throw Error("Invalid arity: "+arguments.length);};g.h=f;g.i=function(h,k){return qb(h,k)};return g}(),pb(a),c)}return dd(b,xc,a,c)};Sd.Y=3;
var Td=function Td(a,b,c){var f=K(b);b=O(f);var g=R(f);if(g){f=Bc.l;var h=I.i(a,b);c=Td.l?Td.l(h,g,c):Td.call(null,h,g,c);a=f.call(Bc,a,b,c)}else a=Bc.l(a,b,c);return a};function Ud(a,b){this.V=a;this.j=b}function Vd(a){return new Ud(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Wd(a){a=a.C;return 32>a?0:a-1>>>5<<5}
function Xd(a,b,c){for(;;){if(0===b)return c;var d=Vd(a);d.j[0]=c;c=d;b-=5}}var Yd=function Yd(a,b,c,d){var g=new Ud(c.V,B(c.j)),h=a.C-1>>>b&31;5===b?g.j[h]=d:(c=c.j[h],null!=c?(b-=5,a=Yd.N?Yd.N(a,b,c,d):Yd.call(null,a,b,c,d)):a=Xd(null,b-5,d),g.j[h]=a);return g};function Zd(a,b){if(b>=Wd(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.j[b>>>a&31];a=d}else return c.j}
function $d(a,b){if(0<=b&&b<a.C)b=Zd(a,b);else throw a=a.C,Error(["No item ",y.h(b)," in vector of length ",y.h(a)].join(""));return b}var ae=function ae(a,b,c,d,f){var h=new Ud(c.V,B(c.j));if(0===b)h.j[d&31]=f;else{var k=d>>>b&31;b-=5;c=c.j[k];a=ae.sa?ae.sa(a,b,c,d,f):ae.call(null,a,b,c,d,f);h.j[k]=a}return h};function be(a,b,c){this.base=this.A=0;this.j=a;this.v=b;this.start=0;this.end=c}be.prototype.hasNext=function(){return this.A<this.end};
be.prototype.next=function(){32===this.A-this.base&&(this.j=Zd(this.v,this.A),this.base+=32);var a=this.j[this.A&31];this.A+=1;return a};function ce(a,b,c,d){return c<d?de(a,b,oc(a,c),c+1,d):b.J?b.J():b.call(null)}function de(a,b,c,d,f){var g=c;c=d;for(d=Zd(a,d);;)if(c<f){var h=c&31;d=0===h?Zd(a,c):d;h=d[h];g=b.i?b.i(g,h):b.call(null,g,h);if(hc(g))return E(g);c+=1}else return g}
function ee(a,b,c,d,f,g){this.meta=a;this.C=b;this.shift=c;this.root=d;this.tail=f;this.H=g;this.B=167666463;this.K=139268}e=ee.prototype;e.Sa=function(a,b){return 0<=b&&b<this.C?new fe(b,Zd(this,b)[b&31]):null};e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){return"number"===typeof b?this.na(null,b,c):c};
e.ib=function(a,b,c){a=0;for(var d=c;;)if(a<this.C){var f=Zd(this,a);c=f.length;a:for(var g=0;;)if(g<c){var h=g+a,k=f[g];d=b.l?b.l(d,h,k):b.call(null,d,h,k);if(hc(d)){f=d;break a}g+=1}else{f=d;break a}if(hc(f))return E(f);a+=c;d=f}else return d};e.Z=function(a,b){return $d(this,b)[b&31]};e.na=function(a,b,c){return 0<=b&&b<this.C?Zd(this,b)[b&31]:c};
e.kb=function(a,b,c){if(0<=b&&b<this.C)return Wd(this)<=b?(a=B(this.tail),a[b&31]=c,new ee(this.meta,this.C,this.shift,this.root,a,null)):new ee(this.meta,this.C,this.shift,ae(this,this.shift,this.root,b,c),this.tail,null);if(b===this.C)return this.ca(null,c);throw Error(["Index ",y.h(b)," out of bounds  [0,",y.h(this.C),"]"].join(""));};e.ta=function(){var a=this.C;return new be(0<V(this)?Zd(this,0):null,this,a)};e.aa=function(){return this.meta};e.T=function(){return this.C};
e.sb=function(){return 0<this.C?new rc(this,this.C-1,null):null};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){if(b instanceof ee)if(this.C===V(b))for(a=this.ta(null),b=b.ta(null);;)if(a.hasNext()){var c=a.next(),d=b.next();if(!S.i(c,d))return!1}else return!0;else return!1;else return sc(this,b)};e.La=function(){return new ge(this.C,this.shift,he.h?he.h(this.root):he.call(null,this.root),ie.h?ie.h(this.tail):ie.call(null,this.tail))};
e.ea=function(){return Za(yc,this.meta)};e.ha=function(a,b){return ce(this,b,0,this.C)};e.ia=function(a,b,c){a=0;for(var d=c;;)if(a<this.C){var f=Zd(this,a);c=f.length;a:for(var g=0;;)if(g<c){var h=f[g];d=b.i?b.i(d,h):b.call(null,d,h);if(hc(d)){f=d;break a}g+=1}else{f=d;break a}if(hc(f))return E(f);a+=c;d=f}else return d};e.ya=function(a,b,c){if("number"===typeof b)return this.kb(null,b,c);throw Error("Vector's key for assoc must be a number.");};e.Ka=function(a,b){return Pc(b)?0<=b&&b<this.C:!1};
e.X=function(){if(0===this.C)return null;if(32>=this.C)return new N(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.j[0];else{a=a.j;break a}}return je?je(this,a,0,0):ke.call(null,this,a,0,0)};e.ba=function(a,b){return b===this.meta?this:new ee(b,this.C,this.shift,this.root,this.tail,this.H)};
e.ca=function(a,b){if(32>this.C-Wd(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new ee(this.meta,this.C+1,this.shift,this.root,c,null)}a=(c=this.C>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Vd(null),c.j[0]=this.root,d=Xd(null,this.shift,new Ud(null,this.tail)),c.j[1]=d):c=Yd(this,this.shift,this.root,new Ud(null,this.tail));return new ee(this.meta,this.C+1,a,c,[b],null)};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){if("number"===typeof a)return this.Z(null,a);throw Error("Key must be integer");};
var le=new Ud(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),yc=new ee(null,0,5,le,[],dc);function me(a){var b=a.length;if(32>b)return new ee(null,b,5,le,a,null);for(var c=32,d=(new ee(null,32,5,le,a.slice(0,32),null)).La(null);;)if(c<b){var f=c+1;d=qb(d,a[c]);c=f}else return rb(d)}ee.prototype[ya]=function(){return T(this)};
function ne(a){return v(oe.h?oe.h(a):oe.call(null,a))?new ee(null,2,5,le,[pe.h?pe.h(a):pe.call(null,a),qe.h?qe.h(a):qe.call(null,a)],null):Kc(a)?Fc(a,null):ua(a)?me(a):rb(Yc(qb,pb(yc),a))}function re(a,b,c,d,f){this.ua=a;this.node=b;this.A=c;this.off=d;this.meta=f;this.H=null;this.B=32375020;this.K=1536}e=re.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){if(this.off+1<this.node.length){var a=this.ua;var b=this.node,c=this.A,d=this.off+1;a=je?je(a,b,c,d):ke.call(null,a,b,c,d);return null==a?null:a}return this.Kb()};
e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};e.ha=function(a,b){return ce(this.ua,b,this.A+this.off,V(this.ua))};e.ia=function(a,b,c){return de(this.ua,b,c,this.A+this.off,V(this.ua))};e.ma=function(){return this.node[this.off]};e.oa=function(){if(this.off+1<this.node.length){var a=this.ua;var b=this.node,c=this.A,d=this.off+1;a=je?je(a,b,c,d):ke.call(null,a,b,c,d);return null==a?P:a}return this.Bb(null)};e.X=function(){return this};
e.Fb=function(){var a=this.node;return new qd(a,this.off,a.length)};e.Bb=function(){var a=this.A+this.node.length;if(a<Ba(this.ua)){var b=this.ua,c=Zd(this.ua,a);return je?je(b,c,a,0):ke.call(null,b,c,a,0)}return P};e.ba=function(a,b){return b===this.meta?this:se?se(this.ua,this.node,this.A,this.off,b):ke.call(null,this.ua,this.node,this.A,this.off,b)};e.ca=function(a,b){return X(b,this)};
e.Kb=function(){var a=this.A+this.node.length;if(a<Ba(this.ua)){var b=this.ua,c=Zd(this.ua,a);return je?je(b,c,a,0):ke.call(null,b,c,a,0)}return null};re.prototype[ya]=function(){return T(this)};
function ke(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new re(b,$d(b,c),c,d,null);case 4:return je(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return se(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}function je(a,b,c,d){return new re(a,b,c,d,null)}function se(a,b,c,d,f){return new re(a,b,c,d,f)}
function te(a,b){return a===b.V?b:new Ud(a,B(b.j))}function he(a){return new Ud({},B(a.j))}function ie(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Mc(a,0,b,0,a.length);return b}var ue=function ue(a,b,c,d){c=te(a.root.V,c);var g=a.C-1>>>b&31;if(5===b)a=d;else{var h=c.j[g];null!=h?(b-=5,a=ue.N?ue.N(a,b,h,d):ue.call(null,a,b,h,d)):a=Xd(a.root.V,b-5,d)}c.j[g]=a;return c};
function ge(a,b,c,d){this.C=a;this.shift=b;this.root=c;this.tail=d;this.K=88;this.B=275}e=ge.prototype;
e.Ia=function(a,b){if(this.root.V){if(32>this.C-Wd(this))this.tail[this.C&31]=b;else{a=new Ud(this.root.V,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.C>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Xd(this.root.V,this.shift,a),this.root=new Ud(this.root.V,b),this.shift=c):this.root=ue(this,this.shift,this.root,a)}this.C+=1;return this}throw Error("conj! after persistent!");};e.jb=function(){if(this.root.V){this.root.V=null;var a=this.C-Wd(this),b=Array(a);Mc(this.tail,0,b,0,a);return new ee(null,this.C,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
e.Ga=function(a,b,c){if("number"===typeof b)return this.vb(null,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
e.vb=function(a,b,c){var d=this;if(d.root.V){if(0<=b&&b<d.C)return Wd(this)<=b?d.tail[b&31]=c:(a=function k(g,h){h=te(d.root.V,h);if(0===g)h.j[b&31]=c;else{var l=b>>>g&31;g=k(g-5,h.j[l]);h.j[l]=g}return h}(d.shift,d.root),d.root=a),this;if(b===d.C)return this.Ia(null,c);throw Error(["Index ",y.h(b)," out of bounds for TransientVector of length",y.h(d.C)].join(""));}throw Error("assoc! after persistent!");};e.T=function(){if(this.root.V)return this.C;throw Error("count after persistent!");};
e.Z=function(a,b){if(this.root.V)return $d(this,b)[b&31];throw Error("nth after persistent!");};e.na=function(a,b,c){return 0<=b&&b<this.C?this.Z(null,b):c};e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){if(this.root.V)return"number"===typeof b?this.na(null,b,c):c;throw Error("lookup after persistent!");};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.ka(null,a)};e.i=function(a,b){return this.P(null,a,b)};function ve(){this.B=2097152;this.K=0}ve.prototype.equiv=function(a){return this.I(null,a)};ve.prototype.I=function(){return!1};var we=new ve;
function xe(a,b){return Oc(Ic(b)&&!Jc(b)?V(a)===V(b)?(null!=a?a.B&1048576||t===a.Ic||(a.B?0:w(cb,a)):w(cb,a))?bd(function(c,d,f){return S.i(I.l(b,d,we),f)?!0:new gc},a):Jd(function(c){return S.i(I.l(b,O(c),we),O(R(c)))},a):null:null)}function ye(a){this.s=a}ye.prototype.next=function(){if(null!=this.s){var a=O(this.s),b=Y(a,0,null);a=Y(a,1,null);this.s=R(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function ze(a){this.s=a}
ze.prototype.next=function(){if(null!=this.s){var a=O(this.s);this.s=R(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ae(a,b){if(b instanceof J)a:{var c=a.length;b=b.va;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof J&&b===a[d].va){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof H)a:for(c=a.length,b=b.Ha,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof H&&b===a[d].Ha){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(S.i(b,a[d])){a=d;break a}d+=2}return a}function fe(a,b){this.key=a;this.da=b;this.H=null;this.B=166619935;this.K=0}e=fe.prototype;e.Sa=function(a,b){switch(b){case 0:return new fe(0,this.key);case 1:return new fe(1,this.da);default:return null}};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.ka=function(a,b){return this.na(null,b,null)};e.P=function(a,b,c){return this.na(null,b,c)};e.Z=function(a,b){if(0===b)return this.key;if(1===b)return this.da;throw Error("Index out of bounds");};
e.na=function(a,b,c){return 0===b?this.key:1===b?this.da:c};e.kb=function(a,b,c){return(new ee(null,2,5,le,[this.key,this.da],null)).kb(null,b,c)};e.aa=function(){return null};e.T=function(){return 2};e.ic=function(){return this.key};e.jc=function(){return this.da};e.sb=function(){return new N([this.da,this.key],0,null)};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};e.ea=function(){return null};
e.ha=function(a,b){a:if(a=this.T(null),0===a)b=b.J?b.J():b.call(null);else for(var c=this.Z(null,0),d=1;;)if(d<a){var f=this.Z(null,d);c=b.i?b.i(c,f):b.call(null,c,f);if(hc(c)){b=E(c);break a}d+=1}else{b=c;break a}return b};e.ia=function(a,b,c){a:{a=this.T(null);var d=c;for(c=0;;)if(c<a){var f=this.Z(null,c);d=b.i?b.i(d,f):b.call(null,d,f);if(hc(d)){b=E(d);break a}c+=1}else{b=d;break a}}return b};e.ya=function(a,b,c){return Bc.l(new ee(null,2,5,le,[this.key,this.da],null),b,c)};
e.Ka=function(a,b){return 0===b||1===b};e.X=function(){return new N([this.key,this.da],0,null)};e.ba=function(a,b){return Fc(new ee(null,2,5,le,[this.key,this.da],null),b)};e.ca=function(a,b){return new ee(null,3,5,le,[this.key,this.da,b],null)};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};
e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.Z(null,a)};e.i=function(a,b){return this.na(null,a,b)};function oe(a){return null!=a?a.B&2048||t===a.Lc?!0:!1:!1}function Be(a,b,c){this.j=a;this.A=b;this.Ea=c;this.B=32374990;this.K=0}e=Be.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.Ea};e.la=function(){return this.A<this.j.length-2?new Be(this.j,this.A+2,null):null};e.T=function(){return(this.j.length-this.A)/2};e.$=function(){return cc(this)};
e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return new fe(this.j[this.A],this.j[this.A+1])};e.oa=function(){return this.A<this.j.length-2?new Be(this.j,this.A+2,null):P};e.X=function(){return this};e.ba=function(a,b){return b===this.Ea?this:new Be(this.j,this.A,b)};e.ca=function(a,b){return X(b,this)};Be.prototype[ya]=function(){return T(this)};
function Ce(a,b){this.j=a;this.A=0;this.C=b}Ce.prototype.hasNext=function(){return this.A<this.C};Ce.prototype.next=function(){var a=new fe(this.j[this.A],this.j[this.A+1]);this.A+=2;return a};function Gb(a,b,c,d){this.meta=a;this.C=b;this.j=c;this.H=d;this.B=16647951;this.K=139268}e=Gb.prototype;e.Sa=function(a,b){a=Ae(this.j,b);return-1===a?null:new fe(this.j[a],this.j[a+1])};e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.keys=function(){return T(De.h?De.h(this):De.call(null,this))};e.entries=function(){return new ye(K(K(this)))};e.values=function(){return T(Ee.h?Ee.h(this):Ee.call(null,this))};e.has=function(a){return Qc(this,a)};e.get=function(a,b){return this.P(null,a,b)};
e.forEach=function(a){for(var b=K(this),c=null,d=0,f=0;;)if(f<d){var g=c.Z(null,f),h=Y(g,0,null);g=Y(g,1,null);a.i?a.i(g,h):a.call(null,g,h);f+=1}else if(b=K(b))Lc(b)?(c=xb(b),b=yb(b),h=c,d=V(c),c=h):(c=O(b),h=Y(c,0,null),g=Y(c,1,null),a.i?a.i(g,h):a.call(null,g,h),b=R(b),c=null,d=0),f=0;else return null};e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){a=Ae(this.j,b);return-1===a?c:this.j[a+1]};
e.ib=function(a,b,c){a=this.j.length;for(var d=0;;)if(d<a){var f=this.j[d],g=this.j[d+1];c=b.l?b.l(c,f,g):b.call(null,c,f,g);if(hc(c))return E(c);d+=2}else return c};e.ta=function(){return new Ce(this.j,2*this.C)};e.aa=function(){return this.meta};e.T=function(){return this.C};e.$=function(){var a=this.H;return null!=a?a:this.H=a=ec(this)};
e.I=function(a,b){if(Ic(b)&&!Jc(b))if(a=this.j.length,this.C===b.T(null))for(var c=0;;)if(c<a){var d=b.P(null,this.j[c],Nc);if(d!==Nc)if(S.i(this.j[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};e.La=function(){return new Fe(this.j.length,B(this.j))};e.ea=function(){return Za(Hd,this.meta)};e.ha=function(a,b){return $c(this,b)};e.ia=function(a,b,c){return ad(this,b,c)};
e.ya=function(a,b,c){a=Ae(this.j,b);if(-1===a){if(this.C<Ge){a=this.j;for(var d=a.length,f=Array(d+2),g=0;;)if(g<d)f[g]=a[g],g+=1;else break;f[d]=b;f[d+1]=c;return new Gb(this.meta,this.C+1,f,null)}return Za(Pa(Sd.i(He,this),b,c),this.meta)}if(c===this.j[a+1])return this;b=B(this.j);b[a+1]=c;return new Gb(this.meta,this.C,b,null)};e.Ka=function(a,b){return-1!==Ae(this.j,b)};e.X=function(){var a=this.j;return 0<=a.length-2?new Be(a,0,null):null};
e.ba=function(a,b){return b===this.meta?this:new Gb(b,this.C,this.j,this.H)};e.ca=function(a,b){if(Kc(b))return this.ya(null,C(b,0),C(b,1));a=this;for(b=K(b);;){if(null==b)return a;var c=O(b);if(Kc(c))a=Pa(a,C(c,0),C(c,1)),b=R(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.ka(null,a)};e.i=function(a,b){return this.P(null,a,b)};var Hd=new Gb(null,0,[],fc),Ge=8;function Ie(a,b){return a===b?!0:a===b||a instanceof J&&b instanceof J&&a.va===b.va?!0:S.i(a,b)}
function Je(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var f=Ie(a[b],a[d]);if(f){d=f;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function Ke(a,b){var c=a.length-1,d=K(b);b=Array(c+2*V(d));a=Mc(a,0,b,0,c);for(b=c;;)if(d){var f=O(d);a[b]=Sa(f);a[b+1]=Ta(f);b=2+c;d=R(d)}else return a}
function Cc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var f;b:for(f=0;;)if(f<d){var g=Ie(a[d],a[f]);if(g){f=g;break b}f=2+f}else{f=!1;break b}if(f){d=f;break a}d=2+d}else{d=!1;break a}return d?Le(a,c):new Gb(null,b/2,a,null)}
function Le(a,b){var c=b?Ke(a,Sd.i(Hd,a[a.length-1])):a;a=Je(c);var d=c.length;if(a<d){a=Array(a);for(var f=0,g=0;;)if(f<d)(function(){for(var h=0;;)if(h<g){var k=Ie(c[f],c[h]);if(k)return k;h=2+h}else return!1})()?(b=g,f=2+f,g=b):(b=function(){for(var h=d-2;;)if(h>=f){if(Ie(c[f],c[h]))return h;h-=2}else return h}(),a[g]=c[f],a[g+1]=c[b+1],b=2+g,f=2+f,g=b);else break;return new Gb(null,a.length/2,a,null)}return new Gb(null,c.length/2,c,null)}Gb.prototype[ya]=function(){return T(this)};
function Fe(a,b){this.ja={};this.len=a;this.j=b;this.B=259;this.K=56}e=Fe.prototype;e.T=function(){if(this.ja)return ed(this.len);throw Error("count after persistent!");};e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){if(this.ja)return a=Ae(this.j,b),-1===a?c:this.j[a+1];throw Error("lookup after persistent!");};
e.Ia=function(a,b){if(this.ja){if(oe(b))return this.Ga(null,pe.h?pe.h(b):pe.call(null,b),qe.h?qe.h(b):qe.call(null,b));if(Kc(b))return this.Ga(null,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));a=K(b);for(b=this;;){var c=O(a);if(v(c))a=R(a),b=sb(b,pe.h?pe.h(c):pe.call(null,c),qe.h?qe.h(c):qe.call(null,c));else return b}}else throw Error("conj! after persistent!");};e.jb=function(){if(this.ja)return this.ja=!1,new Gb(null,ed(this.len),this.j,null);throw Error("persistent! called twice");};
e.Ga=function(a,b,c){if(this.ja){a=Ae(this.j,b);if(-1===a){if(this.len+2<=2*Ge)return this.len+=2,this.j.push(b),this.j.push(c),this;a=Me.i?Me.i(this.len,this.j):Me.call(null,this.len,this.j);return sb(a,b,c)}c!==this.j[a+1]&&(this.j[a+1]=c);return this}throw Error("assoc! after persistent!");};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};
e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.P(null,a,null)};e.i=function(a,b){return this.P(null,a,b)};function Me(a,b){for(var c=pb(He),d=0;;)if(d<a)c=sb(c,b[d],b[d+1]),d+=2;else return c}function Ne(){this.da=!1}function Oe(a,b,c){a=B(a);a[b]=c;return a}function Pe(a,b,c,d){a=a.lb(b);a.j[c]=d;return a}
function Qe(a,b,c){for(var d=a.length,f=0,g=c;;)if(f<d){c=a[f];if(null!=c){var h=a[f+1];c=b.l?b.l(g,c,h):b.call(null,g,c,h)}else c=a[f+1],c=null!=c?c.yb(b,g):g;if(hc(c))return c;f+=2;g=c}else return g}function Re(a){this.j=a;this.A=0;this.Ca=this.zb=null}Re.prototype.advance=function(){for(var a=this.j.length;;)if(this.A<a){var b=this.j[this.A],c=this.j[this.A+1];null!=b?b=this.zb=new fe(b,c):null!=c?(b=Db(c),b=b.hasNext()?this.Ca=b:!1):b=!1;this.A+=2;if(b)return!0}else return!1};
Re.prototype.hasNext=function(){var a=null!=this.zb;return a?a:(a=null!=this.Ca)?a:this.advance()};Re.prototype.next=function(){if(null!=this.zb){var a=this.zb;this.zb=null;return a}if(null!=this.Ca)return a=this.Ca.next(),this.Ca.hasNext()||(this.Ca=null),a;if(this.advance())return this.next();throw Error("No such element");};Re.prototype.remove=function(){return Error("Unsupported operation")};function Se(a,b,c){this.V=a;this.fa=b;this.j=c;this.K=131072;this.B=0}e=Se.prototype;
e.lb=function(a){if(a===this.V)return this;var b=fd(this.fa),c=Array(0>b?4:2*(b+1));Mc(this.j,0,c,0,2*b);return new Se(a,this.fa,c)};e.xb=function(){return Te?Te(this.j):Ue.call(null,this.j)};e.yb=function(a,b){return Qe(this.j,a,b)};e.Oa=function(a,b,c,d){var f=1<<(b>>>a&31);if(0===(this.fa&f))return d;var g=fd(this.fa&f-1);f=this.j[2*g];g=this.j[2*g+1];return null==f?g.Oa(a+5,b,c,d):Ie(c,f)?g:d};
e.Aa=function(a,b,c,d,f,g){var h=1<<(c>>>b&31),k=fd(this.fa&h-1);if(0===(this.fa&h)){var l=fd(this.fa);if(2*l<this.j.length){a=this.lb(a);b=a.j;g.da=!0;c=2*(l-k);g=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[g],--l,--c,--g;b[2*k]=d;b[2*k+1]=f;a.fa|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Ve.Aa(a,b+5,c,d,f,g);for(f=d=0;;)if(32>d)0===(this.fa>>>
d&1)?d+=1:(k[d]=null!=this.j[f]?Ve.Aa(a,b+5,Ub(this.j[f]),this.j[f],this.j[f+1],g):this.j[f+1],f+=2,d+=1);else break;return new We(a,l+1,k)}b=Array(2*(l+4));Mc(this.j,0,b,0,2*k);b[2*k]=d;b[2*k+1]=f;Mc(this.j,2*k,b,2*(k+1),2*(l-k));g.da=!0;a=this.lb(a);a.j=b;a.fa|=h;return a}l=this.j[2*k];h=this.j[2*k+1];if(null==l)return l=h.Aa(a,b+5,c,d,f,g),l===h?this:Pe(this,a,2*k+1,l);if(Ie(d,l))return f===h?this:Pe(this,a,2*k+1,f);g.da=!0;g=b+5;d=Xe?Xe(a,g,l,h,c,d,f):Ye.call(null,a,g,l,h,c,d,f);f=2*k;k=2*k+1;
a=this.lb(a);a.j[f]=null;a.j[k]=d;return a};
e.za=function(a,b,c,d,f){var g=1<<(b>>>a&31),h=fd(this.fa&g-1);if(0===(this.fa&g)){var k=fd(this.fa);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Ve.za(a+5,b,c,d,f);for(d=c=0;;)if(32>c)0===(this.fa>>>c&1)?c+=1:(h[c]=null!=this.j[d]?Ve.za(a+5,Ub(this.j[d]),this.j[d],this.j[d+1],f):this.j[d+1],d+=2,c+=1);else break;return new We(null,k+1,h)}a=Array(2*(k+1));Mc(this.j,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Mc(this.j,2*h,a,2*(h+1),2*(k-h));f.da=!0;return new Se(null,this.fa|g,a)}var l=this.j[2*h];g=this.j[2*h+1];if(null==l)return k=g.za(a+5,b,c,d,f),k===g?this:new Se(null,this.fa,Oe(this.j,2*h+1,k));if(Ie(c,l))return d===g?this:new Se(null,this.fa,Oe(this.j,2*h+1,d));f.da=!0;f=this.fa;k=this.j;a+=5;a=Ze?Ze(a,l,g,b,c,d):Ye.call(null,a,l,g,b,c,d);c=2*h;h=2*h+1;d=B(k);d[c]=null;d[h]=a;return new Se(null,f,d)};
e.wb=function(a,b,c,d){var f=1<<(b>>>a&31);if(0===(this.fa&f))return d;var g=fd(this.fa&f-1);f=this.j[2*g];g=this.j[2*g+1];return null==f?g.wb(a+5,b,c,d):Ie(c,f)?new fe(f,g):d};e.ta=function(){return new Re(this.j)};var Ve=new Se(null,0,[]);function $e(a){this.j=a;this.A=0;this.Ca=null}$e.prototype.hasNext=function(){for(var a=this.j.length;;){if(null!=this.Ca&&this.Ca.hasNext())return!0;if(this.A<a){var b=this.j[this.A];this.A+=1;null!=b&&(this.Ca=Db(b))}else return!1}};
$e.prototype.next=function(){if(this.hasNext())return this.Ca.next();throw Error("No such element");};$e.prototype.remove=function(){return Error("Unsupported operation")};function We(a,b,c){this.V=a;this.C=b;this.j=c;this.K=131072;this.B=0}e=We.prototype;e.lb=function(a){return a===this.V?this:new We(a,this.C,B(this.j))};e.xb=function(){return af?af(this.j):bf.call(null,this.j)};
e.yb=function(a,b){for(var c=this.j.length,d=0;;)if(d<c){var f=this.j[d];if(null!=f){b=f.yb(a,b);if(hc(b))return b;d+=1}else d+=1}else return b};e.Oa=function(a,b,c,d){var f=this.j[b>>>a&31];return null!=f?f.Oa(a+5,b,c,d):d};e.Aa=function(a,b,c,d,f,g){var h=c>>>b&31,k=this.j[h];if(null==k)return a=Pe(this,a,h,Ve.Aa(a,b+5,c,d,f,g)),a.C+=1,a;b=k.Aa(a,b+5,c,d,f,g);return b===k?this:Pe(this,a,h,b)};
e.za=function(a,b,c,d,f){var g=b>>>a&31,h=this.j[g];if(null==h)return new We(null,this.C+1,Oe(this.j,g,Ve.za(a+5,b,c,d,f)));a=h.za(a+5,b,c,d,f);return a===h?this:new We(null,this.C,Oe(this.j,g,a))};e.wb=function(a,b,c,d){var f=this.j[b>>>a&31];return null!=f?f.wb(a+5,b,c,d):d};e.ta=function(){return new $e(this.j)};function cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Ie(c,a[d]))return d;d+=2}else return-1}function df(a,b,c,d){this.V=a;this.Ma=b;this.C=c;this.j=d;this.K=131072;this.B=0}e=df.prototype;
e.lb=function(a){if(a===this.V)return this;var b=Array(2*(this.C+1));Mc(this.j,0,b,0,2*this.C);return new df(a,this.Ma,this.C,b)};e.xb=function(){return Te?Te(this.j):Ue.call(null,this.j)};e.yb=function(a,b){return Qe(this.j,a,b)};e.Oa=function(a,b,c,d){a=cf(this.j,this.C,c);return 0>a?d:Ie(c,this.j[a])?this.j[a+1]:d};
e.Aa=function(a,b,c,d,f,g){if(c===this.Ma){b=cf(this.j,this.C,d);if(-1===b){if(this.j.length>2*this.C)return b=2*this.C,c=2*this.C+1,a=this.lb(a),a.j[b]=d,a.j[c]=f,g.da=!0,a.C+=1,a;c=this.j.length;b=Array(c+2);Mc(this.j,0,b,0,c);b[c]=d;b[c+1]=f;g.da=!0;d=this.C+1;a===this.V?(this.j=b,this.C=d,a=this):a=new df(this.V,this.Ma,d,b);return a}return this.j[b+1]===f?this:Pe(this,a,b+1,f)}return(new Se(a,1<<(this.Ma>>>b&31),[null,this,null,null])).Aa(a,b,c,d,f,g)};
e.za=function(a,b,c,d,f){return b===this.Ma?(a=cf(this.j,this.C,c),-1===a?(a=2*this.C,b=Array(a+2),Mc(this.j,0,b,0,a),b[a]=c,b[a+1]=d,f.da=!0,new df(null,this.Ma,this.C+1,b)):S.i(this.j[a+1],d)?this:new df(null,this.Ma,this.C,Oe(this.j,a+1,d))):(new Se(null,1<<(this.Ma>>>a&31),[null,this])).za(a,b,c,d,f)};e.wb=function(a,b,c,d){a=cf(this.j,this.C,c);return 0>a?d:Ie(c,this.j[a])?new fe(this.j[a],this.j[a+1]):d};e.ta=function(){return new Re(this.j)};
function Ye(a){switch(arguments.length){case 6:return Ze(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Xe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}function Ze(a,b,c,d,f,g){var h=Ub(b);if(h===d)return new df(null,h,2,[b,c,f,g]);var k=new Ne;return Ve.za(a,h,b,c,k).za(a,d,f,g,k)}
function Xe(a,b,c,d,f,g,h){var k=Ub(c);if(k===f)return new df(null,k,2,[c,d,g,h]);var l=new Ne;return Ve.Aa(a,b,k,c,d,l).Aa(a,b,f,g,h,l)}function ef(a,b,c,d,f){this.meta=a;this.Da=b;this.A=c;this.s=d;this.H=f;this.B=32374988;this.K=0}e=ef.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){if(null==this.s){var a=this.Da,b=this.A+2;return ff?ff(a,b,null):Ue.call(null,a,b,null)}a=this.Da;b=this.A;var c=R(this.s);return ff?ff(a,b,c):Ue.call(null,a,b,c)};
e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return null==this.s?new fe(this.Da[this.A],this.Da[this.A+1]):O(this.s)};
e.oa=function(){var a=this,b=null==a.s?function(){var c=a.Da,d=a.A+2;return ff?ff(c,d,null):Ue.call(null,c,d,null)}():function(){var c=a.Da,d=a.A,f=R(a.s);return ff?ff(c,d,f):Ue.call(null,c,d,f)}();return null!=b?b:P};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new ef(b,this.Da,this.A,this.s,this.H)};e.ca=function(a,b){return X(b,this)};ef.prototype[ya]=function(){return T(this)};
function Ue(a){switch(arguments.length){case 1:return Te(arguments[0]);case 3:return ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}function Te(a){return ff(a,0,null)}function ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new ef(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.xb(),v(d)))return new ef(null,a,b+2,d,null);b+=2}else return null;else return new ef(null,a,b,c,null)}
function gf(a,b,c,d,f){this.meta=a;this.Da=b;this.A=c;this.s=d;this.H=f;this.B=32374988;this.K=0}e=gf.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.meta};e.la=function(){var a=this.Da,b=this.A,c=R(this.s);return hf?hf(a,b,c):bf.call(null,a,b,c)};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){return sc(this,b)};
e.ea=function(){return P};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return O(this.s)};e.oa=function(){var a=this.Da;var b=this.A,c=R(this.s);a=hf?hf(a,b,c):bf.call(null,a,b,c);return null!=a?a:P};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new gf(b,this.Da,this.A,this.s,this.H)};e.ca=function(a,b){return X(b,this)};gf.prototype[ya]=function(){return T(this)};
function bf(a){switch(arguments.length){case 1:return af(arguments[0]);case 3:return hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length)].join(""));}}function af(a){return hf(a,0,null)}function hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(v(d)&&(d=d.xb(),v(d)))return new gf(null,a,b+1,d,null);b+=1}else return null;else return new gf(null,a,b,c,null)}function jf(a,b){this.pa=a;this.Vb=b;this.Hb=!1}
jf.prototype.hasNext=function(){return!this.Hb||this.Vb.hasNext()};jf.prototype.next=function(){if(this.Hb)return this.Vb.next();this.Hb=!0;return new fe(null,this.pa)};jf.prototype.remove=function(){return Error("Unsupported operation")};function kf(a,b,c,d,f,g){this.meta=a;this.C=b;this.root=c;this.qa=d;this.pa=f;this.H=g;this.B=16123663;this.K=139268}e=kf.prototype;e.Sa=function(a,b){return null==b?this.qa?new fe(null,this.pa):null:null==this.root?null:this.root.wb(0,Ub(b),b,null)};
e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.keys=function(){return T(De.h?De.h(this):De.call(null,this))};e.entries=function(){return new ye(K(K(this)))};e.values=function(){return T(Ee.h?Ee.h(this):Ee.call(null,this))};e.has=function(a){return Qc(this,a)};e.get=function(a,b){return this.P(null,a,b)};
e.forEach=function(a){for(var b=K(this),c=null,d=0,f=0;;)if(f<d){var g=c.Z(null,f),h=Y(g,0,null);g=Y(g,1,null);a.i?a.i(g,h):a.call(null,g,h);f+=1}else if(b=K(b))Lc(b)?(c=xb(b),b=yb(b),h=c,d=V(c),c=h):(c=O(b),h=Y(c,0,null),g=Y(c,1,null),a.i?a.i(g,h):a.call(null,g,h),b=R(b),c=null,d=0),f=0;else return null};e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){return null==b?this.qa?this.pa:c:null==this.root?c:this.root.Oa(0,Ub(b),b,c)};
e.ib=function(a,b,c){a=this.qa?b.l?b.l(c,null,this.pa):b.call(null,c,null,this.pa):c;hc(a)?b=E(a):null!=this.root?(b=this.root.yb(b,a),b=hc(b)?ic.h?ic.h(b):ic.call(null,b):b):b=a;return b};e.ta=function(){var a=this.root?Db(this.root):new Id(Hd);return this.qa?new jf(this.pa,a):a};e.aa=function(){return this.meta};e.T=function(){return this.C};e.$=function(){var a=this.H;return null!=a?a:this.H=a=ec(this)};e.I=function(a,b){return xe(this,b)};
e.La=function(){return new lf(this.root,this.C,this.qa,this.pa)};e.ea=function(){return Za(He,this.meta)};e.ya=function(a,b,c){if(null==b)return this.qa&&c===this.pa?this:new kf(this.meta,this.qa?this.C:this.C+1,this.root,!0,c,null);a=new Ne;b=(null==this.root?Ve:this.root).za(0,Ub(b),b,c,a);return b===this.root?this:new kf(this.meta,a.da?this.C+1:this.C,b,this.qa,this.pa,null)};e.Ka=function(a,b){return null==b?this.qa:null==this.root?!1:this.root.Oa(0,Ub(b),b,Nc)!==Nc};
e.X=function(){if(0<this.C){var a=null!=this.root?this.root.xb():null;return this.qa?X(new fe(null,this.pa),a):a}return null};e.ba=function(a,b){return b===this.meta?this:new kf(b,this.C,this.root,this.qa,this.pa,this.H)};e.ca=function(a,b){if(Kc(b))return this.ya(null,C(b,0),C(b,1));a=this;for(b=K(b);;){if(null==b)return a;var c=O(b);if(Kc(c))a=Pa(a,C(c,0),C(c,1)),b=R(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.ka(null,a)};e.i=function(a,b){return this.P(null,a,b)};var He=new kf(null,0,null,!1,null,fc);kf.prototype[ya]=function(){return T(this)};
function lf(a,b,c,d){this.V={};this.root=a;this.count=b;this.qa=c;this.pa=d;this.B=259;this.K=56}function mf(a,b,c){if(a.V){if(null==b)a.pa!==c&&(a.pa=c),a.qa||(a.count+=1,a.qa=!0);else{var d=new Ne;b=(null==a.root?Ve:a.root).Aa(a.V,0,Ub(b),b,c,d);b!==a.root&&(a.root=b);d.da&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}e=lf.prototype;e.T=function(){if(this.V)return this.count;throw Error("count after persistent!");};
e.ka=function(a,b){return null==b?this.qa?this.pa:null:null==this.root?null:this.root.Oa(0,Ub(b),b)};e.P=function(a,b,c){return null==b?this.qa?this.pa:c:null==this.root?c:this.root.Oa(0,Ub(b),b,c)};
e.Ia=function(a,b){a:if(this.V)if(oe(b))a=mf(this,pe.h?pe.h(b):pe.call(null,b),qe.h?qe.h(b):qe.call(null,b));else if(Kc(b))a=mf(this,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));else for(a=K(b),b=this;;){var c=O(a);if(v(c))a=R(a),b=mf(b,pe.h?pe.h(c):pe.call(null,c),qe.h?qe.h(c):qe.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
e.jb=function(){if(this.V){this.V=null;var a=new kf(null,this.count,this.root,this.qa,this.pa,null)}else throw Error("persistent! called twice");return a};e.Ga=function(a,b,c){return mf(this,b,c)};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};
e.h=function(a){return this.ka(null,a)};e.i=function(a,b){return this.P(null,a,b)};function nf(a,b){this.O=a;this.Ea=b;this.B=32374988;this.K=0}e=nf.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.Ea};e.la=function(){var a=(null!=this.O?this.O.B&128||t===this.O.rb||(this.O.B?0:w(Ja,this.O)):w(Ja,this.O))?this.O.la():R(this.O);return null==a?null:new nf(a,null)};e.$=function(){return cc(this)};
e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return this.O.ma(null).key};e.oa=function(){var a=(null!=this.O?this.O.B&128||t===this.O.rb||(this.O.B?0:w(Ja,this.O)):w(Ja,this.O))?this.O.la():R(this.O);return null!=a?new nf(a,null):P};e.X=function(){return this};e.ba=function(a,b){return b===this.Ea?this:new nf(this.O,b)};e.ca=function(a,b){return X(b,this)};nf.prototype[ya]=function(){return T(this)};
function De(a){return(a=K(a))?new nf(a,null):null}function pe(a){return Sa(a)}function of(a,b){this.O=a;this.Ea=b;this.B=32374988;this.K=0}e=of.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return U(this,b,0)};a.i=function(b,c){return U(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return W(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return W(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return W(this,c,d)};return b}();e.aa=function(){return this.Ea};e.la=function(){var a=(null!=this.O?this.O.B&128||t===this.O.rb||(this.O.B?0:w(Ja,this.O)):w(Ja,this.O))?this.O.la():R(this.O);return null==a?null:new of(a,null)};e.$=function(){return cc(this)};
e.I=function(a,b){return sc(this,b)};e.ea=function(){return P};e.ha=function(a,b){return uc(b,this)};e.ia=function(a,b,c){return wc(b,c,this)};e.ma=function(){return this.O.ma(null).da};e.oa=function(){var a=(null!=this.O?this.O.B&128||t===this.O.rb||(this.O.B?0:w(Ja,this.O)):w(Ja,this.O))?this.O.la():R(this.O);return null!=a?new of(a,null):P};e.X=function(){return this};e.ba=function(a,b){return b===this.Ea?this:new of(this.O,b)};e.ca=function(a,b){return X(b,this)};of.prototype[ya]=function(){return T(this)};
function Ee(a){return(a=K(a))?new of(a,null):null}function qe(a){return Ta(a)}function pf(a){this.pb=a}pf.prototype.hasNext=function(){return this.pb.hasNext()};pf.prototype.next=function(){if(this.pb.hasNext())return this.pb.next().key;throw Error("No such element");};pf.prototype.remove=function(){return Error("Unsupported operation")};function qf(a,b,c){this.meta=a;this.Na=b;this.H=c;this.B=15077647;this.K=139268}e=qf.prototype;e.toString=function(){return Fb(this)};
e.equiv=function(a){return this.I(null,a)};e.keys=function(){return T(K(this))};e.entries=function(){return new ze(K(K(this)))};e.values=function(){return T(K(this))};e.has=function(a){return Qc(this,a)};e.forEach=function(a){for(var b=K(this),c=null,d=0,f=0;;)if(f<d){var g=c.Z(null,f),h=Y(g,0,null);g=Y(g,1,null);a.i?a.i(g,h):a.call(null,g,h);f+=1}else if(b=K(b))Lc(b)?(c=xb(b),b=yb(b),h=c,d=V(c),c=h):(c=O(b),h=Y(c,0,null),g=Y(c,1,null),a.i?a.i(g,h):a.call(null,g,h),b=R(b),c=null,d=0),f=0;else return null};
e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){a=Qa(this.Na,b);return v(a)?Sa(a):c};e.ta=function(){return new pf(Db(this.Na))};e.aa=function(){return this.meta};e.T=function(){return Ba(this.Na)};e.$=function(){var a=this.H;return null!=a?a:this.H=a=ec(this)};
e.I=function(a,b){if(a=null==b?!1:null!=b?b.B&4096||t===b.Pc?!0:b.B?!1:w(Ua,b):w(Ua,b))if(a=V(this)===V(b))try{return bd(function(c,d){return(c=Qc(b,d))?c:new gc},this.Na)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};e.La=function(){return new rf(pb(this.Na))};e.ea=function(){return Za(sf,this.meta)};e.X=function(){return De(this.Na)};e.ba=function(a,b){return b===this.meta?this:new qf(b,this.Na,this.H)};
e.ca=function(a,b){return new qf(this.meta,Bc.l(this.Na,b,null),null)};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.ka(null,a)};e.i=function(a,b){return this.P(null,a,b)};var sf=new qf(null,Hd,fc);qf.prototype[ya]=function(){return T(this)};
function rf(a){this.mb=a;this.K=136;this.B=259}e=rf.prototype;e.Ia=function(a,b){this.mb=sb(this.mb,b,null);return this};e.jb=function(){return new qf(null,rb(this.mb),null)};e.T=function(){return V(this.mb)};e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){return La(this.mb,b,Nc)===Nc?c:b};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return La(this.mb,a,Nc)===Nc?null:a};e.i=function(a,b){return La(this.mb,a,Nc)===Nc?b:a};
function md(a){if(null!=a&&(a.K&4096||t===a.lc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",y.h(a)].join(""));}
function uf(a,b,c,d,f,g,h){var k=ta;ta=null==ta?null:ta-1;try{if(null!=ta&&0>ta)return G(a,"#");G(a,c);if(0===Lb.h(g))K(h)&&G(a,function(){var u=vf.h(g);return v(u)?u:"..."}());else{if(K(h)){var l=O(h);b.l?b.l(l,a,g):b.call(null,l,a,g)}for(var m=R(h),n=Lb.h(g)-1;;)if(!m||null!=n&&0===n){K(m)&&0===n&&(G(a,d),G(a,function(){var u=vf.h(g);return v(u)?u:"..."}()));break}else{G(a,d);var q=O(m);c=a;h=g;b.l?b.l(q,c,h):b.call(null,q,c,h);var r=R(m);c=n-1;m=r;n=c}}return G(a,f)}finally{ta=k}}
function wf(a,b){b=K(b);for(var c=null,d=0,f=0;;)if(f<d){var g=c.Z(null,f);G(a,g);f+=1}else if(b=K(b))c=b,Lc(c)?(b=xb(c),d=yb(c),c=b,g=V(b),b=d,d=g):(g=O(c),G(a,g),b=R(c),c=null,d=0),f=0;else return null}var xf={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function yf(a){return['"',y.h(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return xf[b]})),'"'].join("")}
function zf(a,b){return(a=Oc(I.i(a,Jb)))?(a=null!=b?b.B&131072||t===b.kc?!0:!1:!1)?null!=Gc(b):a:a}
function Af(a,b,c){if(null==a)return G(b,"nil");if(zf(c,a)){G(b,"^");var d=Gc(a);Z.l?Z.l(d,b,c):Z.call(null,d,b,c);G(b," ")}if(a.oc)return a.Sc(a,b,c);if(null!=a?a.B&2147483648||t===a.ga||(a.B?0:w(nb,a)):w(nb,a))return ob(a,b,c);if(!0===a||!1===a)return G(b,y.h(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":y.h(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=Qd.i(function(g){var h=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof g)h=h.exec(g),h=null!=h&&S.i(h[0],g)?1===h.length?h[0]:ne(h):null;else throw new TypeError("re-matches must match against a string.");return new fe(null!=h?ld.h(g):g,a[g])},la(a)),Bf.N?Bf.N(d,Z,b,c):Bf.call(null,d,Z,b,c);if(ua(a))return uf(b,Z,"#js ["," ","]",c,a);if("string"===typeof a)return v(Ib.h(c))?G(b,yf(a)):G(b,a);if("function"===typeof a){var f=a.name;c=v(function(){var g=null==f;return g?g:/^[\s\xa0]*$/.test(f)}())?"Function":f;return wf(b,tc(["#object[",c,v(!1)?[' "',
y.h(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(g,h){for(g=y.h(g);;)if(g.length<h)g=["0",g].join("");else return g},wf(b,tc(['#inst "',c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return wf(b,tc(['#"',a.source,'"']));if("symbol"===p(a)||"undefined"!==typeof Symbol&&a instanceof Symbol)return wf(b,tc(["#object[",
a.toString(),"]"]));if(v(function(){var g=null==a?null:a.constructor;return null==g?null:g.Gb}()))return wf(b,tc(["#object[",a.constructor.Gb.replace(RegExp("/","g"),"."),"]"]));f=function(){var g=null==a?null:a.constructor;return null==g?null:g.name}();c=v(function(){var g=null==f;return g?g:/^[\s\xa0]*$/.test(f)}())?"Object":f;return null==a.constructor?wf(b,tc(["#object[",c,"]"])):wf(b,tc(["#object[",c," ",y.h(a),"]"]))}
function Z(a,b,c){var d=Cf.h(c);return v(d)?(c=Bc.l(c,Df,Af),d.l?d.l(a,b,c):d.call(null,a,b,c)):Af(a,b,c)}function Ef(a){return a instanceof H?Xb.i(null,md(a)):ld.i(null,md(a))}
function Ff(a){if(v(!1)){var b=K(a),c=K(b),d=O(c);R(c);Y(d,0,null);Y(d,1,null);c=null==a?null:null!=a&&(a.B&4||t===a.ec)?a.ea(null):(null!=a?a.B&4||t===a.ec||(a.B?0:w(Ca,a)):w(Ca,a))?Da(a):null;for(a=null;;){d=a;b=K(b);a=O(b);var f=R(b),g=a;a=Y(g,0,null);b=Y(g,1,null);if(v(g))if(a instanceof J||a instanceof H)if(v(d))if(S.i(d,kd(a)))c=Bc.l(c,Ef(a),b),a=d,b=f;else return null;else if(d=kd(a),v(d))c=Bc.l(c,Ef(a),b),a=d,b=f;else return null;else return null;else return new ee(null,2,5,le,[d,c],null)}}else return null}
function Gf(a,b,c,d,f){return uf(d,function(g,h,k){var l=Sa(g);c.l?c.l(l,h,k):c.call(null,l,h,k);G(h," ");g=Ta(g);return c.l?c.l(g,h,k):c.call(null,g,h,k)},[y.h(a),"{"].join(""),", ","}",f,K(b))}function Bf(a,b,c,d){var f=Ic(a)?Ff(a):null,g=Y(f,0,null);f=Y(f,1,null);return v(g)?Gf(["#:",y.h(g)].join(""),f,b,c,d):Gf(null,a,b,c,d)}Pd.prototype.ga=t;Pd.prototype.W=function(a,b,c){G(b,"#object[cljs.core.Volatile ");Z(new Gb(null,1,[Hf,this.state],null),b,c);return G(b,"]")};N.prototype.ga=t;
N.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};nd.prototype.ga=t;nd.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};fe.prototype.ga=t;fe.prototype.W=function(a,b,c){return uf(b,Z,"["," ","]",c,this)};ef.prototype.ga=t;ef.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};Be.prototype.ga=t;Be.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};bc.prototype.ga=t;bc.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};
re.prototype.ga=t;re.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};id.prototype.ga=t;id.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};rc.prototype.ga=t;rc.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};kf.prototype.ga=t;kf.prototype.W=function(a,b,c){return Bf(this,Z,b,c)};gf.prototype.ga=t;gf.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};qf.prototype.ga=t;qf.prototype.W=function(a,b,c){return uf(b,Z,"#{"," ","}",c,this)};
rd.prototype.ga=t;rd.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};Md.prototype.ga=t;Md.prototype.W=function(a,b,c){G(b,"#object[cljs.core.Atom ");Z(new Gb(null,1,[Hf,this.state],null),b,c);return G(b,"]")};of.prototype.ga=t;of.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};ee.prototype.ga=t;ee.prototype.W=function(a,b,c){return uf(b,Z,"["," ","]",c,this)};gd.prototype.ga=t;gd.prototype.W=function(a,b){return G(b,"()")};Gb.prototype.ga=t;
Gb.prototype.W=function(a,b,c){return Bf(this,Z,b,c)};nf.prototype.ga=t;nf.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};zc.prototype.ga=t;zc.prototype.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};H.prototype.qb=t;H.prototype.Qa=function(a,b){if(b instanceof H)return Wb(this,b);throw Error(["Cannot compare ",y.h(this)," to ",y.h(b)].join(""));};J.prototype.qb=t;
J.prototype.Qa=function(a,b){if(b instanceof J)return jd(this,b);throw Error(["Cannot compare ",y.h(this)," to ",y.h(b)].join(""));};ee.prototype.qb=t;ee.prototype.Qa=function(a,b){if(Kc(b))return Sc(this,b);throw Error(["Cannot compare ",y.h(this)," to ",y.h(b)].join(""));};fe.prototype.qb=t;fe.prototype.Qa=function(a,b){if(Kc(b))return Sc(this,b);throw Error(["Cannot compare ",y.h(this)," to ",y.h(b)].join(""));};var If=new H(null,"tbody","tbody",1559853227,null),Jf=new H(null,"button","button",-1197855826,null),Kf=new H(null,"header","header",1759972661,null),Jb=new J(null,"meta","meta",1499536964),Lf=new H(null,"head","head",869147608,null),Mf=new H(null,"rect","rect",1531628899,null),Nf=new H(null,"ruby","ruby",-653698108,null),Of=new J(null,"stop","stop",-2140911342),Pf=new H(null,"sub","sub",-453228498,null),Qf=new J(null,"sub?","sub?",768712042),Lb=new J(null,"print-length","print-length",1931866356),
Rf=new H(null,"sup","sup",-398960819,null),Sf=new H(null,"svg","svg",-1797646627,null),Tf=new H(null,"aside","aside",-1240038232,null),Uf=new H(null,"main","main",-477271134,null),Vf=new H(null,"bdi","bdi",317505641,null),Wf=new H(null,"polygon","polygon",-1817382010,null),Xf=new H(null,"meter","meter",1452889916,null),Yf=new H(null,"data","data",1407862150,null),Kb=new J(null,"dup","dup",556298533),Zf=new H(null,"bdo","bdo",-490616675,null),$f=new H(null,"html","html",641734630,null),ag=new J(null,
"status","status",-1997798413),bg=new H(null,"b","b",-1172211299,null),cg=new H(null,"source","source",1206599988,null),dg=new H(null,"a","a",-482876059,null),eg=new H(null,"body","body",-408674142,null),fg=new H(null,"g","g",-916345864,null),gg=new H(null,"i","i",253690212,null),hg=new H(null,"li","li",-1930876848,null),ig=new H(null,"iframe","iframe",-1770013743,null),jg=new H(null,"p","p",1791580836,null),kg=new H(null,"input","input",-2097503808,null),lg=new H(null,"q","q",-1965434072,null),mg=
new H(null,"linearGradient","linearGradient",-942471042,null),ng=new H(null,"s","s",-948495851,null),Ib=new J(null,"readably","readably",1129599760),og=new H(null,"u","u",483896742,null),pg=new H(null,"div","div",-1597244137,null),qg=new H(null,"caption","caption",785147625,null),rg=new H(null,"pre","pre",-535978900,null),sg=new H(null,"strong","strong",1910060527,null),tg=new H(null,"thead","thead",1348656231,null),ug=new H(null,"title","title",-2017930186,null),Df=new J(null,"fallback-impl","fallback-impl",
-1501286995),vg=new H(null,"textarea","textarea",990155703,null),wg=new H(null,"img","img",-1211748411,null),xg=new J(null,"tag","tag",-1290361223),yg=new H(null,"figure","figure",1079137448,null),zg=new H(null,"style","style",1143888791,null),Ag=new H(null,"menuitem","menuitem",-1650388416,null),Bg=new J(null,"children","children",-940561982),Cg=new H(null,"colgroup","colgroup",-2003317124,null),Dg=new H(null,"picture","picture",718588123,null),Eg=new H(null,"embed","embed",285618178,null),Fg=new H(null,
"ins","ins",618547957,null),Gg=new H(null,"ol","ol",-1721911718,null),Hg=new H(null,"kbd","kbd",1956688402,null),Ig=new H(null,"script","script",336087726,null),Jg=new H(null,"abbr","abbr",-565843885,null),Kg=new H(null,"polyline","polyline",-91019517,null),Lg=new H(null,"path","path",1452340359,null),Mg=new H(null,"table","table",1075588491,null),Ng=new J(null,"inst","inst",645962501),Og=new H(null,"del","del",-2079460185,null),Pg=new H("clojure.core","boolean","clojure.core/boolean",-1187218872,
null),Qg=new H(null,"keygen","keygen",1068838274,null),Rg=new J(null,"title","title",636505583),Sg=new H(null,"pattern","pattern",1882666950,null),Tg=new H(null,"stop","stop",-500379815,null),Ug=new H(null,"tspan","tspan",82678330,null),Vg=new H(null,"link","link",-128631941,null),Wg=new H(null,"output","output",534662484,null),Xg=new H(null,"section","section",1340390001,null),Yg=new H(null,"meta","meta",-1154898805,null),Zg=new H(null,"dfn","dfn",1882439694,null),$g=new J(null,"start","start",-355208981),
ah=new H(null,"code","code",-1068142627,null),bh=new H(null,"line","line",1852876762,null),ch=new J("cljs.core","not-found","cljs.core/not-found",-1572889185),dh=new J(null,"on-click-handler","on-click-handler",746440723),eh=new H("goog","DEBUG","goog/DEBUG",1589374035,null),fh=new H(null,"select","select",-1506602266,null),gh=new H(null,"optgroup","optgroup",-916153551,null),Hf=new J(null,"val","val",128701612),hh=new H(null,"mark","mark",1266715182,null),ih=new H(null,"rp","rp",-647737686,null),
jh=new H(null,"base","base",1825810849,null),kh=new H(null,"small","small",-520957065,null),lh=new H(null,"time","time",-1268547887,null),mh=new H(null,"rt","rt",-2030955077,null),nh=new H(null,"map","map",-1282745308,null),oh=new H(null,"datalist","datalist",405488053,null),ph=new H(null,"br","br",-1720330977,null),qh=new H(null,"form","form",16469056,null),Hb=new J(null,"flush-on-newline","flush-on-newline",-151457939),rh=new H(null,"object","object",-1179821820,null),sh=new H(null,"col","col",
-318831557,null),th=new H(null,"th","th",1094922961,null),uh=new H(null,"td","td",-1174502416,null),vh=new H(null,"summary","summary",2021379479,null),wh=new H(null,"tr","tr",215756881,null),xh=new H(null,"area","area",2112538783,null),yh=new H(null,"label","label",-936024965,null),zh=new H(null,"dd","dd",300093898,null),Ah=new H(null,"dl","dl",-499620186,null),Bh=new H(null,"dt","dt",1272086768,null),Ch=new H(null,"param","param",-640803946,null),Dh=new H(null,"samp","samp",-1148294633,null),Eh=
new H(null,"figcaption","figcaption",-149590520,null),Fh=new H(null,"ul","ul",291010124,null),Gh=new H(null,"track","track",1836319014,null),Hh=new H(null,"fieldset","fieldset",-309239289,null),Ih=new H(null,"radialGradient","radialGradient",-1252188576,null),Jh=new H(null,"cite","cite",-744995773,null),Kh=new H(null,"em","em",-1946622734,null),Lh=new H(null,"article","article",1618846482,null),Mh=new H(null,"menu","menu",1992786725,null),Nh=new J(null,"section-id","section-id",-1780104220),Oh=new H(null,
"canvas","canvas",-158285962,null),Ph=new H(null,"span","span",-1259562778,null),Qh=new H(null,"h3","h3",-586824606,null),Rh=new H(null,"h4","h4",-649572776,null),Sh=new H(null,"h5","h5",-188625098,null),Th=new H(null,"h6","h6",-2097141989,null),Uh=new H(null,"h1","h1",-256355935,null),Vh=new H(null,"h2","h2",1267868799,null),Wh=new J(null,"order","order",-1254677256),Xh=new H(null,"marker","marker",-1789317456,null),Yh=new H(null,"circle","circle",-751223407,null),Zh=new H(null,"progress","progress",
1884855074,null),$h=new H(null,"option","option",1705663799,null),ai=new H(null,"ellipse","ellipse",-1518544067,null),vf=new J(null,"more-marker","more-marker",-14717935),bi=new H(null,"details","details",-697640358,null),ci=new H(null,"text","text",-150030170,null),di=new H(null,"video","video",1797419657,null),ei=new H(null,"big","big",-1750885618,null),fi=new H(null,"audio","audio",-835308448,null),gi=new H(null,"wbr","wbr",1869193327,null),hi=new H(null,"address","address",-2094936343,null),ii=
new H(null,"tfoot","tfoot",938931637,null),ji=new H(null,"legend","legend",613339282,null),ki=new H(null,"defs","defs",-1255986052,null),Cf=new J(null,"alt-impl","alt-impl",670969595),li=new J(null,"started","started",585705024),mi=new H(null,"clipPath","clipPath",705911730,null),ni=new H(null,"var","var",870848730,null),oi=new H(null,"dialog","dialog",-1239285634,null),pi=new H(null,"hr","hr",-1276695702,null),qi=new H(null,"nav","nav",-1934895292,null),ri=new H(null,"mask","mask",1054783080,null),
si=new H(null,"blockquote","blockquote",2012795717,null),ti=new H(null,"noscript","noscript",935754238,null),ui=new H(null,"footer","footer",-1047990379,null);function vi(a,b,c){var d=V(a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(S.i(oc(a,c),b))return c;c+=1}else return-1}function wi(a,b,c){var d=V(a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(S.i(oc(a,c),b))return c;--c}else return-1}function xi(a,b){if(Hc(b))if(mc(a)&&mc(b)&&V(a)!==V(b))a=!1;else a:for(a=K(a),b=K(b);;){if(null==a){a=null==b;break a}if(null!=b&&S.i(O(a),O(b)))a=R(a),b=R(b);else{a=!1;break a}}else a=null;return Oc(a)}
function yi(a,b){var c=a.T(null);if(0===c)return b.J?b.J():b.call(null);for(var d=a.Z(null,0),f=1;;)if(f<c){var g=a.Z(null,f);d=b.i?b.i(d,g):b.call(null,d,g);if(hc(d))return E(d);f+=1}else return d}function zi(a,b,c){var d=a.T(null),f=c;for(c=0;;)if(c<d){var g=a.Z(null,c);f=b.i?b.i(f,g):b.call(null,f,g);if(hc(f))return E(f);c+=1}else return f};var Ai={};function Bi(a){return"number"===typeof a||"string"===typeof a||!0===a||!1===a||null==a}function Ci(a,b,c){return Bi(a)?a:null!=a&&a.constructor===Object?new Di(null,a,b,c,!0,null,null,null):ua(a)?new Ei(null,b,c,a,null):a}function Fi(a){return Bi(a)?a:a instanceof Di?a.R:a instanceof Ei?a.j:a}var Gi=Hd;function Hi(a,b,c,d){var f=new Pd(pb(Gi));ka(a,function(g,h){h=b.h?b.h(h):b.call(null,h);g=sb(f.Ra(null),h,v(d)?Ci(g,b,c):g);return f.state=g});return rb(E(f))}
function Ii(a,b,c,d,f,g){g=f[g];f=b.h?b.h(g):b.call(null,g);a=a[g];return new fe(f,d?Ci(a,b,c):a)}function Ji(a,b){return a instanceof J&&b===ld||"string"===typeof a&&b===cd}function Ki(a,b){return Bi(a)||!(Ic(a)&&!(a instanceof Di)||Kc(a)&&!(a instanceof Ei))&&va(v(b)?(null!=a?a.constructor===Object:!1)||ua(a):b)}function Li(a,b,c,d,f){this.ja=!0;this.R=a;this.G=b;this.D=c;this.S=d;this.xa=f;this.B=259;this.K=56}e=Li.prototype;
e.ka=function(a,b){if(this.ja)return a=this.R[this.D.h?this.D.h(b):this.D.call(null,b)],this.S?Ci(a,this.G,this.D):a;throw Error("lookup after persistent!");};e.P=function(a,b,c){if(this.ja)return a=ma(this.R,this.D.h?this.D.h(b):this.D.call(null,b),c),this.S&&a!==c?Ci(a,this.G,this.D):a;throw Error("lookup after persistent!");};e.T=function(){return null==this.xa?this.xa=V(la(this.R)):this.xa};
e.Ia=function(a,b){a:if(v(this.ja))if(oe(b))a=this.Ga(null,Sa(b),Ta(b));else if(Kc(b))a=this.Ga(null,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));else for(a=K(b),b=this;;){var c=O(a);if(v(c))a=R(a),b=sb(b,Sa(c),Ta(c));else{a=b;break a}}else throw Error("conj! after persistent!");return a};e.jb=function(){if(this.ja)return this.ja=!1,new Di(null,this.R,this.G,this.D,this.S,null,this.xa,null);throw Error("persistent! called twice");};
e.Ga=function(a,b,c){if(this.ja){if(!Ji(b,this.G)||!Ki(c,this.S))return sb(pb(Hi(this.R,this.G,this.D,this.S)),b,c);this.R[this.D.h?this.D.h(b):this.D.call(null,b)]=this.S?Fi(c):c;this.xa=null;return this}throw Error("assoc! after persistent!");};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};
e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){if(this.ja)return a=this.R[this.D.h?this.D.h(a):this.D.call(null,a)],this.S?Ci(a,this.G,this.D):a;throw Error("lookup after persistent!");};e.i=function(a,b){if(this.ja)return a=ma(this.R,this.D.h?this.D.h(a):this.D.call(null,a),b),this.S&&a!==b?Ci(a,this.G,this.D):a;throw Error("lookup after persistent!");};function Mi(a,b,c,d,f,g){this.R=a;this.G=b;this.D=c;this.S=d;this.j=f;this.A=0;this.C=g}
Mi.prototype.hasNext=function(){return this.A<this.C};Mi.prototype.next=function(){var a=Ii(this.R,this.G,this.D,this.S,this.j,this.A);this.A+=1;return a};function Ni(a,b,c,d,f,g,h){this.R=a;this.G=b;this.D=c;this.S=d;this.j=f;this.A=g;this.meta=h;this.B=2179858686;this.K=8192}e=Ni.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return vi(this,b,0);case 2:return vi(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return vi(this,b,0)};a.i=function(b,c){return vi(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return wi(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return wi(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return wi(this,c,d)};return b}();e.Z=function(a,b){a=b+this.A;if(0<=a&&a<this.j.length)return Ii(this.R,this.G,this.D,this.S,this.j,a);throw Error("Index out of bounds");};
e.na=function(a,b,c){a=b+this.A;return 0<=a&&a<this.j.length?Ii(this.R,this.G,this.D,this.S,this.j,a):c};e.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};e.aa=function(){return this.meta};e.la=function(){return this.A+1<this.j.length?new Ni(this.R,this.G,this.D,this.S,this.j,this.A+1,null):null};e.T=function(){var a=this.j.length-this.A;return 0>a?0:a};e.$=function(){return cc(this)};e.I=function(a,b){return xi(this,b)};e.ea=function(){return P};e.ha=function(a,b){return yi(this,b)};
e.ia=function(a,b,c){return zi(this,b,c)};e.ma=function(){return Ii(this.R,this.G,this.D,this.S,this.j,this.A)};e.oa=function(){return this.A+1<this.j.length?new Ni(this.R,this.G,this.D,this.S,this.j,this.A+1,null):P};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new Ni(this.R,this.G,this.D,this.S,this.j,this.A,b)};e.ca=function(a,b){return X(b,this)};
function Di(a,b,c,d,f,g,h,k){this.meta=a;this.R=b;this.G=c;this.D=d;this.S=f;this.wa=g;this.xa=h;this.H=k;this.B=2164131599;this.K=139268}e=Di.prototype;e.Sa=function(a,b){a=ma(this.R,this.D.h?this.D.h(b):this.D.call(null,b),Ai);return a===Ai?null:new fe(b,this.S?Ci(a,this.G,this.D):a)};e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};e.keys=function(){return T(De(this))};e.entries=function(){return new ye(K(K(this)))};e.values=function(){return T(Ee(this))};
e.has=function(a){return Qc(this,a)};e.get=function(a,b){return this.P(null,a,b)};e.forEach=function(a){for(var b=K(this),c=null,d=0,f=0;;)if(f<d){var g=c.Z(null,f),h=Y(g,0,null);g=Y(g,1,null);a.i?a.i(g,h):a.call(null,g,h);f+=1}else if(b=K(b))Lc(b)?(c=xb(b),b=yb(b),h=c,d=V(c),c=h):(c=O(b),h=Y(c,0,null),g=Y(c,1,null),a.i?a.i(g,h):a.call(null,g,h),b=R(b),c=null,d=0),f=0;else return null};e.ka=function(a,b){a=this.R[this.D.h?this.D.h(b):this.D.call(null,b)];return this.S?Ci(a,this.G,this.D):a};
e.P=function(a,b,c){a=ma(this.R,this.D.h?this.D.h(b):this.D.call(null,b),c);return this.S&&a!==c?Ci(a,this.G,this.D):a};e.ib=function(a,b,c){var d=this;try{var f=new Pd(c);ka(d.R,function(g,h){var k=f.Ra(null);h=d.G.h?d.G.h(h):d.G.call(null,h);g=d.S?Ci(g,d.G,d.D):g;k=b.l?b.l(k,h,g):b.call(null,k,h,g);k=f.state=k;if(hc(k))throw k;return null});return E(f)}catch(g){a=g;if(hc(a))return E(a);throw a;}};e.W=function(a,b,c){return Bf(this,Z,b,c)};
e.ta=function(){null==this.wa&&(this.wa=la(this.R));return new Mi(this.R,this.G,this.D,this.S,this.wa,this.T(null))};e.aa=function(){return this.meta};e.T=function(){return null==this.xa?(null==this.wa&&(this.wa=la(this.R)),this.xa=this.wa.length):this.xa};e.$=function(){var a=this.H;return null!=a?a:this.H=a=ec(this)};e.I=function(a,b){return xe(this,b)};e.La=function(){return new Li(na(this.R),this.G,this.D,this.S,this.xa)};e.ea=function(){return new Di(this.meta,{},this.G,this.D,this.S,[],0,null)};
e.ha=function(a,b){return ab(this.X(null),b)};e.ia=function(a,b,c){return this.ib(null,function(d,f,g){f=new fe(f,g);return b.i?b.i(d,f):b.call(null,d,f)},c)};e.ya=function(a,b,c){if(Ji(b,this.G)&&Ki(c,this.S)){a=this.meta;var d=na(this.R);d[this.D.h?this.D.h(b):this.D.call(null,b)]=this.S?Fi(c):c;b=new Di(a,d,this.G,this.D,this.S,null,null,null)}else b=Pa(Fc(Hi(this.R,this.G,this.D,this.S),this.meta),b,c);return b};e.Ka=function(a,b){return Qc(this,b)};
e.X=function(){null==this.wa&&(this.wa=la(this.R));return 0<this.wa.length?new Ni(this.R,this.G,this.D,this.S,this.wa,0,null):null};e.ba=function(a,b){return b===this.meta?this:new Di(b,this.R,this.G,this.D,this.S,this.wa,this.xa,this.H)};e.ca=function(a,b){a:if(Kc(b))a=this.ya(null,C(b,0),C(b,1));else for(a=this,b=K(b);;){if(null==b)break a;var c=O(b);if(Kc(c))a=Pa(a,C(c,0),C(c,1)),b=R(b);else throw Error("conj on a map takes map entries or seqables of map entries");}return a};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){a=this.R[this.D.h?this.D.h(a):this.D.call(null,a)];return this.S?Ci(a,this.G,this.D):a};e.i=function(a,b){a=ma(this.R,this.D.h?this.D.h(a):this.D.call(null,a),b);return this.S&&a!==b?Ci(a,this.G,this.D):a};
function Oi(a,b,c){this.ja=!0;this.j=a;this.G=b;this.D=c;this.K=88;this.B=275}e=Oi.prototype;e.Ia=function(a,b){if(this.ja)return Ki(b,!0)?(this.j.push(Fi(b)),this):qb(pb(ne(this.j)),b);throw Error("conj! after persistent!");};e.jb=function(){if(this.ja)return this.ja=!1,new Ei(null,this.G,this.D,this.j,null);throw Error("persistent! called twice");};
e.Ga=function(a,b,c){if("number"===typeof b)a=this.vb(null,b,c);else throw Error([y.h("TransientArrayVector"),"'s key for assoc! must be a number."].join(""));return a};e.vb=function(a,b,c){if(this.ja){if(Ki(c,!0)){if(0<=b&&b<this.j.length)return this.j[b]=Fi(c),this;if(b===this.j.length)return this.Ia(null,c);throw Error(["Index ",y.h(b)," out of bounds for TransientArrayVector of length",y.h(this.j.length)].join(""));}return tb(pb(ne(this.j)),b,c)}throw Error("assoc! after persistent!");};
e.T=function(){if(this.ja)return this.j.length;throw Error("count after persistent!");};e.Z=function(a,b){if(this.ja)return Ci(this.j[b],this.G,this.D);throw Error("nth after persistent!");};e.na=function(a,b,c){return 0<=b&&b<this.j.length?this.Z(null,b):c};e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){return"number"===typeof b?this.na(null,b,c):c};
e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.ka(null,a)};e.i=function(a,b){return this.P(null,a,b)};function Pi(a,b,c,d){this.G=a;this.D=b;this.j=c;this.A=0;this.C=d}Pi.prototype.hasNext=function(){return this.A<this.C};
Pi.prototype.next=function(){var a=Ci(this.j[this.A],this.G,this.D);this.A+=1;return a};function Qi(a,b,c,d,f){this.G=a;this.D=b;this.j=c;this.A=d;this.meta=f;this.B=2179858686;this.K=8192}e=Qi.prototype;e.toString=function(){return Fb(this)};e.equiv=function(a){return this.I(null,a)};
e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return vi(this,b,0);case 2:return vi(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return vi(this,b,0)};a.i=function(b,c){return vi(this,b,c)};return a}();
e.lastIndexOf=function(){function a(c){return wi(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return wi(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.i=function(c,d){return wi(this,c,d)};return b}();e.Z=function(a,b){a=b+this.A;if(0<=a&&a<this.j.length)return Ci(this.j[a],this.G,this.D);throw Error("Index out of bounds");};e.na=function(a,b,c){a=b+this.A;return 0<=a&&a<this.j.length?Ci(this.j[a],this.G,this.D):c};
e.W=function(a,b,c){return uf(b,Z,"("," ",")",c,this)};e.aa=function(){return this.meta};e.la=function(){return this.A+1<this.j.length?new Qi(this.G,this.D,this.j,this.A+1,null):null};e.T=function(){var a=this.j.length-this.A;return 0>a?0:a};e.$=function(){return cc(this)};e.I=function(a,b){return xi(this,b)};e.ea=function(){return P};e.ha=function(a,b){return yi(this,b)};e.ia=function(a,b,c){return zi(this,b,c)};e.ma=function(){return Ci(this.j[this.A],this.G,this.D)};
e.oa=function(){return this.A+1<this.j.length?new Qi(this.G,this.D,this.j,this.A+1,null):P};e.X=function(){return this};e.ba=function(a,b){return b===this.meta?this:new Qi(this.G,this.D,this.j,this.A,b)};e.ca=function(a,b){return X(b,this)};function Ei(a,b,c,d,f){this.meta=a;this.G=b;this.D=c;this.j=d;this.H=f;this.B=2315150111;this.K=141316}e=Ei.prototype;e.Sa=function(a,b){return 0<=b&&b<this.j.length?new fe(b,Ci(this.j[b],this.G,this.D)):null};e.toString=function(){return Fb(this)};
e.equiv=function(a){return this.I(null,a)};e.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return vi(this,b,0);case 2:return vi(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return vi(this,b,0)};a.i=function(b,c){return vi(this,b,c)};return a}();
e.lastIndexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return wi(this,b,V(this));case 2:return wi(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return wi(this,b,V(this))};a.i=function(b,c){return wi(this,b,c)};return a}();e.ka=function(a,b){return this.P(null,b,null)};e.P=function(a,b,c){return"number"===typeof b?this.na(null,b,c):c};
e.ib=function(a,b,c){a=0;for(var d=c;;)if(a<this.j.length){c=this.j.length;var f;a:for(f=0;;)if(f<c){var g=f+a,h=Ci(this.j[f],this.G,this.D);d=b.l?b.l(d,g,h):b.call(null,d,g,h);if(hc(d)){f=d;break a}f+=1}else{f=d;break a}if(hc(f))return E(f);a+=c;d=f}else return d};e.Z=function(a,b){if(0<=b&&b<this.j.length)return Ci(this.j[b],this.G,this.D);throw Error(["No item ",y.h(b)," in vector of length ",y.h(this.j.length)].join(""));};
e.na=function(a,b,c){return 0<=b&&b<this.j.length?Ci(this.j[b],this.G,this.D):c};e.W=function(a,b,c){return uf(b,Z,"["," ","]",c,this)};e.kb=function(a,b,c){if(0<=b&&b<this.j.length)return Ki(c,!0)?(a=B(this.j),a[b]=Fi(c),new Ei(this.meta,this.G,this.D,a,null)):Wa(ne(this.j),b,c);if(b===this.j.length)return this.ca(null,c);throw Error(["Index ",y.h(b)," out of bounds  [0,",y.h(this.j.length),"]"].join(""));};e.ta=function(){return new Pi(this.G,this.D,this.j,this.j.length)};e.aa=function(){return this.meta};
e.T=function(){return this.j.length};e.sb=function(){return 0<this.j.length?new rc(this,this.j.length-1,null):null};e.$=function(){var a=this.H;return null!=a?a:this.H=a=cc(this)};e.I=function(a,b){a:if(b instanceof Ei)if(this.j.length===V(b))for(a=this.ta(null),b=Db(b);;)if(a.hasNext()){var c=a.next(),d=b.next();if(!S.i(c,d)){a=!1;break a}}else{a=!0;break a}else a=!1;else a=xi(this,b);return a};e.La=function(){return new Oi(B(this.j),this.G,this.D)};
e.ea=function(){return new Ei(this.meta,this.G,this.D,[],null)};e.ha=function(a,b){return yi(this,b)};e.ia=function(a,b,c){return zi(this,b,c)};e.ya=function(a,b,c){if("number"===typeof b)a=this.kb(null,b,c);else throw Error("Vector's key for assoc must be a number.");return a};e.Ka=function(a,b){return Pc(b)?0<=b&&b<this.j.length:!1};e.X=function(){return 0<this.j.length?new Qi(this.G,this.D,this.j,0,null):null};e.ba=function(a,b){return b===this.meta?this:new Ei(b,this.G,this.D,this.j,this.H)};
e.ca=function(a,b){return Ki(b,!0)?(a=B(this.j),a[a.length]=Fi(b),new Ei(this.meta,this.G,this.D,a,null)):Fa(ne(this.j),b)};e.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.i(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.h(arguments.length-1)].join(""));}};e.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))};e.h=function(a){return this.Z(null,a)};e.i=function(a,b){return this.na(null,a,b)};
e.Qa=function(a,b){if(Kc(b)){a=V(this);var c=V(b);if(a<c)b=-1;else if(a>c)b=1;else if(0===a)b=0;else a:for(c=0;;){var d=Rc(oc(this,c),oc(b,c));if(0===d&&c+1<a)c+=1;else{b=d;break a}}return b}throw Error(["Cannot compare ",y.h(this)," to ",y.h(b)].join(""));};function Ri(a){return a instanceof J?a.va:null};var Si={},Ti={},Ui=[];function Vi(a,b){var c=Ti[a];if(void 0!==c)return c;try{Ui.push(a);var d=Si[a],f=shadow$provide[a];if(void 0===d){if(void 0===f)throw"Module not provided: "+a;d={exports:{}};Si[a]=d}if(f){delete shadow$provide[a];try{f.call(d,ba,Vi,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var g=b.globals;if(g)for(a=0;a<g.length;a++)window[g[a]]=d.exports}}}finally{Ui.pop()}return d.exports}Vi.cache={};Vi.resolve=function(a){return a};var Wi=Vi(2,{});"undefined"!==typeof Symbol&&(Symbol.prototype.ga=t,Symbol.prototype.W=function(a,b){return G(b,['"',y.h(this.toString()),'"'].join(""))});function Xi(a){var b=ma(a,"helix/props");v(b)?(a=ma(a,"children"),b=null!=a?Bc.l(b,Bg,a):b):b=new Di(null,a,ld,Ri,!1,null,null,null);return b}function Yi(a,b){null!=window.$$Register$$&&window.$$Register$$(a,b)};var Zi=Wi.useEffect,$i=Wi.useCallback;
function aj(a){var b=Wi.useRef(null);null==b.current&&(b.current=function(){var c={current:a};c.Fc=t;c.Ra=function(){return this.current};c.Nc=t;c.Mb=function(d,f){this.current=f};c.Qc=t;c.Ob=function(d,f){d=this.current;this.current=f.h?f.h(d):f.call(null,d)};c.Pb=function(d,f,g){d=this.current;this.current=f.i?f.i(d,g):f.call(null,d,g)};c.Qb=function(d,f,g,h){d=this.current;this.current=f.l?f.l(d,g,h):f.call(null,d,g,h)};c.Rb=function(d,f,g,h,k){this.current=Fd(f,this.current,g,h,k)};return c}());
return b.current}function bj(a){return function(){var b=a.J?a.J():a.call(null);if("function"===typeof b||(null!=b?t===b.$b||(b.Tc?0:w(za,b)):w(za,b)))return b}};me([kg,vg,$h,fh,dg,Jg,hi,xh,Lh,Tf,fi,bg,jh,Vf,Zf,ei,si,eg,ph,Jf,Oh,qg,Jh,ah,sh,Cg,Yf,oh,zh,Og,bi,Zg,oi,pg,Ah,Bh,Kh,Eg,Hh,Eh,yg,ui,qh,Uh,Vh,Qh,Rh,Sh,Th,Lf,Kf,pi,$f,gg,ig,wg,Fg,Hg,Qg,yh,ji,hg,Vg,Uf,nh,hh,Mh,Ag,Yg,Xf,qi,ti,rh,Gg,gh,Wg,jg,Ch,Dg,rg,Zh,lg,ih,mh,Nf,ng,Dh,Ig,Xg,kh,cg,Ph,sg,zg,Pf,vh,Rf,Mg,If,uh,ii,th,tg,lh,ug,wh,Gh,og,Fh,ni,di,gi,Yh,mi,ai,fg,bh,Xh,ri,Lg,Sg,Kg,Mf,Sf,ci,ki,mg,Wf,Ih,Tg,Ug]);var cj=Vi(3,{});function dj(a,b){a=new ee(null,2,5,le,[Xi(a),b],null);a=Y(a,0,null);a=Gd(a);var c=I.i(a,dh);b=I.i(a,Rg);var d=I.i(a,Nh);v(!1)&&v()&&((void 0).J?(void 0).J():(void 0).call(null));var f=aj("link-ref");return Wi.createElement("a",function(){return{ref:f,className:"hero-nav-links cursor-pointer font-fira-code text-4xl",onClick:function(){var g=new Gb(null,1,[Nh,d],null);return c.h?c.h(g):c.call(null,g)}}}(),b)}
v(Fc(eh,new Gb(null,1,[xg,Pg],null)))&&(v()&&((void 0).N?(void 0).N(dj,'(hooks/use-ref "link-ref")',null,null):(void 0).call(null,dj,'(hooks/use-ref "link-ref")',null,null)),Yi(dj,"atd.components.nav-link/nav-link"));var ej=Vi(4,{});function fj(a){Xi(a);v(!1)&&v()&&((void 0).J?(void 0).J():(void 0).call(null));var b=aj("video-ref");a=aj("yo");var c=function(){function f(h){h=Gd(h);h=I.i(h,Nh);return ej.gsap.to(window,{scrollTo:["#",y.h(h)].join("")})}var g=[];return $i.i?$i.i(f,g):$i.call(null,f,g)}(),d=bj(function(){var f=new cj;f.loadSource("https://stream.mux.com/l02cq1uS4sXBEGdQJNdYVDL7KoTNEreRDJymmk01NSN7c.m3u8");f.attachMedia(E(b));return function(){return f.destroy()}});Zi.h?Zi.h(d):Zi.call(null,d);return Wi.createElement("div",
{ref:a,className:"relative h-screen overflow-hidden items-center flex justify-items-center justify-center"},Wi.createElement("video",{ref:b,muted:!0,autoPlay:!0,controls:!1,loop:!0,className:"w-full h-full object-cover"}),Wi.createElement("div",{className:"absolute flex flex-col"},Wi.createElement(dj,{title:"art","section-id":"art","on-click-handler":c}),Wi.createElement(dj,{title:"tech","section-id":"tech","on-click-handler":c}),Wi.createElement(dj,{title:"design","section-id":"design","on-click-handler":c})))}
v(Fc(eh,new Gb(null,1,[xg,Pg],null)))&&(v()&&((void 0).N?(void 0).N(fj,'(hooks/use-ref "video-ref")(hooks/use-ref "yo")(hooks/use-callback :auto-deps (fn [{:keys [section-id]}] (.to gsap js/window {:scrollTo (str "#" section-id)})))(hooks/use-effect :always (let [vidhls (new Hls)] (.loadSource vidhls "https://stream.mux.com/l02cq1uS4sXBEGdQJNdYVDL7KoTNEreRDJymmk01NSN7c.m3u8") (.attachMedia vidhls (clojure.core/deref video-ref)) (fn [] (.destroy vidhls))))',null,null):(void 0).call(null,fj,'(hooks/use-ref "video-ref")(hooks/use-ref "yo")(hooks/use-callback :auto-deps (fn [{:keys [section-id]}] (.to gsap js/window {:scrollTo (str "#" section-id)})))(hooks/use-effect :always (let [vidhls (new Hls)] (.loadSource vidhls "https://stream.mux.com/l02cq1uS4sXBEGdQJNdYVDL7KoTNEreRDJymmk01NSN7c.m3u8") (.attachMedia vidhls (clojure.core/deref video-ref)) (fn [] (.destroy vidhls))))',
null,null)),Yi(fj,"atd.components.hero-header/hero-header"));var gj=Vi(5,{});var hj=Vi(7,{});var ij=Vi(14,{});var jj=class{constructor(a,b){this.name=a;this.value=b}toString(){return this.name}},kj=new jj("SEVERE",1E3),lj=new jj("WARNING",900),mj=new jj("CONFIG",700);function nj(){this.Ub=Date.now()}var oj=null;nj.prototype.set=function(a){this.Ub=a};nj.prototype.reset=function(){this.set(Date.now())};nj.prototype.get=function(){return this.Ub};function pj(a){this.wc=a||"";oj||(oj=new nj);this.Bc=oj}e=pj.prototype;e.Ib=!0;e.Wb=!0;e.zc=!0;e.yc=!0;e.Xb=!1;e.Ac=!1;function qj(a){return 10>a?"0"+a:String(a)}function rj(a){pj.call(this,a)}ja(rj,pj);
function sj(a,b){var c=[];c.push(a.wc," ");if(a.Wb){var d=c.push,f=new Date(b.uc());d.call(c,"[",qj(f.getFullYear()-2E3)+qj(f.getMonth()+1)+qj(f.getDate())+" "+qj(f.getHours())+":"+qj(f.getMinutes())+":"+qj(f.getSeconds())+"."+qj(Math.floor(f.getMilliseconds()/10)),"] ")}if(a.zc){d=c.push;f=a.Bc.get();f=(b.uc()-f)/1E3;var g=f.toFixed(3),h=0;if(1>f)h=2;else for(;100>f;)h++,f*=10;for(;0<h--;)g=" "+g;d.call(c,"[",g,"s] ")}a.yc&&c.push("[",b.tc(),"] ");a.Ac&&c.push("[",b.rc().name,"] ");c.push(b.Uc());
a.Xb&&(b=b.qc(),void 0!==b&&c.push("\n",b instanceof Error?b.message:String(b)));a.Ib&&c.push("\n");return c.join("")};function tj(){ia(this.Zb,this);this.Cb=new rj;this.Cb.Wb=!1;this.Cb.Xb=!1;this.Tb=this.Cb.Ib=!1;this.pc={}}tj.prototype.setCapturing=function(a){a!=this.Tb&&(this.Tb=a)};tj.prototype.Zb=function(a){function b(g){if(g){if(g.value>=kj.value)return"error";if(g.value>=lj.value)return"warn";if(g.value>=mj.value)return"log"}return"debug"}if(!this.pc[a.tc()]){var c=sj(this.Cb,a),d=uj;if(d){var f=b(a.rc());vj(d,f,c,a.qc())}}};var uj=ba.console;
function vj(a,b,c,d){if(a[b])a[b](c,void 0===d?"":d);else a.log(c,void 0===d?"":d)};(new tj).setCapturing(!0);var wj=new Md(Hd),xj=new Md(Hd);function yj(a,b,c){var d=Gd(b),f=I.i(d,$g);b=I.i(d,Of);var g=I.i(d,ag);if(v(li.h(g)))return null;try{var h=f.J?f.J():f.call(null);Od.l(c,xc,a);var k=h}catch(l){throw b=l,Error([["could not start [",y.h(a),"] due to"].join("")," ",y.h(b)].join(""));}c=k;d=Gd(d);d=I.i(d,Ng);Nd(d,c);Od.N(xj,Bc,a,new Gb(null,1,[Of,b],null));return Od.N(wj,Td,new ee(null,2,5,le,[a,ag],null),new qf(null,new Gb(null,1,[li,null],null),null))}function zj(a){return a}
var Aj=function Aj(a){for(var c=[],d=arguments.length,f=0;;)if(f<d)c.push(arguments[f]),f+=1;else break;return Aj.M(0<c.length?new N(c.slice(0),0,null):null)};
Aj.M=function(a){var b=O(a);if(null==b?0:null!=b?b.B&8||t===b.Ec||(b.B?0:w(Ea,b)):w(Ea,b))return null==b||va(K(b))?new Gb(null,1,[li,sf],null):Cd(Aj,b);(a=K(Qd.i(zj,a)))?b=a:(a=Ld.i(Qf,E(wj)),b=De(E(wj)),b=Rd(Kd(a),b));a=new Md(yc);var c=Qd.i(zj,b);a:{b=E(wj);var d=Hd;for(c=K(c);;)if(c){var f=O(c),g=I.l(b,f,ch);d=S.i(g,ch)?d:Bc.l(d,f,g);c=R(c)}else{b=Za(d,Gc(b));break a}}b=Wc(Ld.i(Wh,qe),b);b=K(b);d=null;for(f=c=0;;)if(f<c){var h=d.Z(null,f);g=Y(h,0,null);h=Y(h,1,null);yj.l?yj.l(g,h,a):yj.call(null,
g,h,a);f+=1}else if(b=K(b))Lc(b)?(c=xb(b),b=yb(b),d=c,c=V(c)):(c=O(b),d=Y(c,0,null),c=Y(c,1,null),yj.l?yj.l(d,c,a):yj.call(null,d,c,a),b=R(b),d=null,c=0),f=0;else break;a=E(a);return new Gb(null,1,[li,a],null)};Aj.Y=0;Aj.U=function(a){return this.M(K(a))};function Bj(a,b){a=new ee(null,2,5,le,[Xi(a),b],null);a=Y(a,0,null);b=Gd(a);a=I.i(b,Nh);b=I.i(b,Rg);v(!1)&&v()&&((void 0).J?(void 0).J():(void 0).call(null));return Wi.createElement("section",{id:a,className:"h-screen w-full bg-red-500"},Wi.createElement("p",{className:"text-4xl"},b))}v(Fc(eh,new Gb(null,1,[xg,Pg],null)))&&(v()&&((void 0).N?(void 0).N(Bj,"",null,null):(void 0).call(null,Bj,"",null,null)),Yi(Bj,"atd.core/landing-section"));
function Cj(a){Xi(a);v(!1)&&v()&&((void 0).J?(void 0).J():(void 0).call(null));return Wi.createElement("div",null,Wi.createElement(fj,{}),Wi.createElement(Bj,{"section-id":"art",title:"Art"}),Wi.createElement(Bj,{"section-id":"tech",title:"Tech"}),Wi.createElement(Bj,{"section-id":"design",title:"Design"}))}v(Fc(eh,new Gb(null,1,[xg,Pg],null)))&&(v()&&((void 0).N?(void 0).N(Cj,"",null,null):(void 0).call(null,Cj,"",null,null)),Yi(Cj,"atd.core/app"));var Dj=ij.createRoot(document.getElementById("app"));console.log("Calling init");ej.gsap.registerPlugin(gj.ScrollToPlugin);ej.gsap.registerPlugin(hj.ScrollTrigger);Aj();console.log("Calling start");Dj.render(Wi.createElement(Cj,null));
}).call(this);